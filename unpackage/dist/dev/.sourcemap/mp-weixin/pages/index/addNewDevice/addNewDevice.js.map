{"version":3,"file":"addNewDevice.js","sources":["pages/index/addNewDevice/addNewDevice.uvue","pages/index/addNewDevice/addNewDevice.uvue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<TopNavBar title=\"添加新设备\" :showBack=\"true\" @back=\"goback\" :isText=\"true\" rightText=\"常见问题\"/>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"camera-box\">\n\t\t\t\t<camera style=\"width: 100%; height: 300px;\" :resolution=\"'medium'\" :device-position=\"devicePosition\" mode=\"scanCode\"\n\t\t\t\t\t:flash=\"flash\" :frame-size=\"frameSize\" @error=\"handleError\" @initdone=\"handleInitDone\">\n\t\t\t\t</camera>\n\t\t\t\t<view class=\"tips\">请扫描机身上的二维码</view>\n\t\t\t\t<view class=\"tools\">\n\t\t\t\t\t<view class=\"icon-container\">\n\t\t\t\t\t\t <image class=\"icons\" src=\"/static/device/flashlight.png\"  mode=\"aspectFit\" @click=\"switchFlash\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"icon-container\">\n\t\t\t\t\t\t<image class=\"icons\" src=\"/static/device/picture.png\" mode=\"aspectFit\" @click=\"scanImg\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"other-ways\">找不到二维码时，请选择以下方式</view>\n\t\t<view class=\"ways-box\">\n\t\t\t<view class=\"ways-item\">\n\t\t\t\t<text class=\"ways-title\">WIFI摄像机</text>\n\t\t\t\t<text class=\"ways-desc\">使用扫APP二维码的配网方式</text>\n\t\t\t</view>\n\t\t\t<view class=\"ways-item\">\n\t\t\t\t<text class=\"ways-title\">4G摄像机</text>\n\t\t\t\t<text class=\"ways-desc\">使用4G网络的摄像机</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport\t{ ref } from 'vue'\n\timport TopNavBar from '@/components/TopNavBar.uvue'\n\n\n\tconst flash = ref<string>('off')\n\tconst devicePosition = ref<string>('back')\n\tconst frameSize = ref<string>('medium')\n\t\n\tconst goback = () => {\n\t\tuni.navigateBack()\n\t}\n\n\tconst handleError = (err: any) => {\n\t\tuni.showToast({\n\t\t\ttitle: '请允许使用摄像头',\n\t\t})\n\t}\n\n\tconst handleInitDone = () => {\n\t\tuni.showToast({\n\t\t\ttitle: '初始化成功',\n\t\t})\n\n\t\tuni.scanCode({\n\t\t\tsuccess(res) {\n\t\t\t\tuni.__f__('log','at pages/index/addNewDevice/addNewDevice.uvue:60',\"扫描结果：\", res.result);\n\t\t\t},\n\t\t\tfail(err) {\n\t\t\t\tuni.__f__('error','at pages/index/addNewDevice/addNewDevice.uvue:63',\"扫描失败：\", err);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst switchFlash = () => {\n\t\tflash.value = flash.value == 'off' ? 'on' : 'off'\n\t}\n\n\tconst scanImg = () => {\n\t\tuni.chooseImage({\n\t\t\tcount: 1,\n\t\t\tsourceType: ['album'],\n\t\t\tsuccess: (res) => {\n\t\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: false,\n\t\t\t\tscanType: ['qrCode'],\n\t\t\t\tsuccess: (scanRes) => {\n\t\t\t\t\tuni.__f__('log','at pages/index/addNewDevice/addNewDevice.uvue:81','识别结果:', scanRes.result);\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tuni.__f__('error','at pages/index/addNewDevice/addNewDevice.uvue:84','识别失败:', err);\n\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding:50rpx 100rpx 30rpx;\n\t\t\t.tips{\n\t\t\t\tpadding: 50rpx 0 20rpx 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\t\t\t.tools{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\t.icon-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\twidth: 50%;\n\t\t\t\t\t.icons{\n\t\t\t\t\t\twidth: 80rpx;\n\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.other-ways{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tmargin: 30rpx 0;\n\t\t\t\n\t\t}\n\t\t.ways-box{\n\t\t\tpadding: 0 30rpx;\n\t\t\t.ways-item{\n\t\t\t\tpadding:30rpx;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t.ways-title{\n\t\t\t\t\tfont-size: 35rpx;\n\t\t\t\t\tmargin-bottom: 15rpx;\n\t\t\t\t}\n\t\t\t\t.ways-desc{\n\t\t\t\t\tfont-size: 25rpx;\n\t\t\t\t\tcolor:#999;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","import MiniProgramPage from '/Users/xyhc/Documents/veepai_uniappx/pages/index/addNewDevice/addNewDevice.uvue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;AAmCC,MAAO,YAAe,MAAA;;;;AAGtB,UAAM,QAAQA,kBAAY,KAAK;AAC/B,UAAM,iBAAiBA,kBAAY,MAAM;AACzC,UAAM,YAAYA,kBAAY,QAAQ;AAEtC,UAAM,SAAS,MAAA;AACdC,oBAAG,MAAC,aAAY;AAAA,IACjB;AAEA,UAAM,cAAc,CAAC,MAAQ,SAAA;AAC5BA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,MACP,CAAA;AAAA,IACF;AAEA,UAAM,iBAAiB,MAAA;AACtBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,MACP,CAAA;AAEDA,0BAAI,SAAS,IAAA,cAAA;AAAA,QACZ,QAAQ,KAAG;AACVA,wBAAG,MAAC,MAAM,OAAM,oDAAmD,SAAS,IAAI,MAAM;AAAA,QACtF;AAAA,QACD,KAAK,KAAG;AACPA,wBAAG,MAAC,MAAM,SAAQ,oDAAmD,SAAS,GAAG;AAAA,QACjF;AAAA,MACD,CAAA,CAAA;AAAA,IACF;AAEA,UAAM,cAAc,MAAA;AACnB,YAAM,QAAQ,MAAM,SAAS,QAAQ,OAAO;AAAA,IAC7C;AAEA,UAAM,UAAU,MAAA;AACfA,0BAAI,YAAY,IAAA,cAAA;AAAA,QACf,OAAO;AAAA,QACP,YAAY,CAAC,OAAO;AAAA,QACpB,SAAS,CAAC,QAAG;AACZA,8BAAI,SAAS,IAAA,cAAA;AAAA,YACb,gBAAgB;AAAA,YAChB,UAAU,CAAC,QAAQ;AAAA,YACnB,SAAS,CAAC,YAAO;AAChBA,4BAAG,MAAC,MAAM,OAAM,oDAAmD,SAAS,QAAQ,MAAM;AAAA,YAC1F;AAAA,YACD,MAAM,CAAC,QAAG;AACTA,4BAAG,MAAC,MAAM,SAAQ,oDAAmD,SAAS,GAAG;AAAA,YACjF;AAAA,UACA,CAAA,CAAA;AAAA,QACD;AAAA,MACD,CAAA,CAAA;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFD,GAAG,WAAW,eAAe;"}