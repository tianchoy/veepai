{"version":3,"file":"l-overlay.js","sources":["uni_modules/lime-overlay/components/l-overlay/l-overlay.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-overlay/components/l-overlay/l-overlay.uvue?type=component"],"sourcesContent":["<template>\r\n\t<view v-if=\"inited\"\r\n\t\tclass=\"l-overlay\" \r\n\t\tref=\"overlayRef\"\r\n\t\t:class=\"[lClass, classes]\"\r\n\t\t:style=\"[styles, lStyle]\"\r\n\t\t@click.stop=\"onClick\" \r\n\t\t@touchmove.stop=\"noop\" \r\n\t\t@transitionend=\"finished\" \r\n\t\t:aria-role=\"ariaRole\" \r\n\t\t:aria-label=\"ariaLabel\">\r\n\t\t<slot></slot>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\timport { useTransition, UseTransitionOptions, TransitionEmitStatus } from '@/uni_modules/lime-transition';\r\n\timport { OverlayProps } from './type';\r\n\tdefineOptions({\r\n\t\tname:'l-overlay'\t\r\n\t})\r\n\t\r\n\tconst props = withDefaults(defineProps<OverlayProps>(), {\r\n\t\tariaLabel: '关闭',\r\n\t\tariaRole: 'button',\r\n\t\tpreventScrollThrough: true,\r\n\t\tzIndex: 998,\r\n\t\tvisible: false,\r\n\t\tduration: 300,\r\n\t})\r\n\t\r\n\tconst emit = defineEmits(['click', 'before-enter', 'enter', 'after-enter', 'before-leave', 'leave', 'after-leave'])\r\n\t\r\n\tconst {inited, display, classes, finished} = useTransition({\r\n\t\tdefaultName: 'fade',\r\n\t\tappear: props.visible,\r\n\t\temits: (name:TransitionEmitStatus) => { emit(name) },\r\n\t\tvisible: (): boolean => props.visible,\r\n\t\tduration: props.duration,\r\n\t} as UseTransitionOptions)\r\n\t\r\n\tconst styles = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>();\r\n\t\tif (props.bgColor != null) {\r\n\t\t\tstyle.set(\"background\", props.bgColor!)\r\n\t\t}\r\n\t\tif (props.zIndex > 0) {\r\n\t\t\tstyle.set(\"z-index\", props.zIndex)\r\n\t\t}\r\n\r\n\t\tstyle.set('transition-duration', props.duration + 'ms')\r\n\t\tif (!display.value) {\r\n\t\t\tstyle.set(\"display\", \"none\")\r\n\t\t}\r\n\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst noop = () => {}\r\n\tconst onClick = (event: UniPointerEvent) =>{\r\n\t\t// event.stopPropagation()\r\n\t\temit('click', !props.visible)\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-overlay/components/l-overlay/l-overlay.uvue'\nwx.createComponent(Component)"],"names":["useTransition","computed","Component"],"mappings":";;;;;;;;;;;;;;;;;AAsBC,QAAM,QAAQ;AASd,QAAM,OAAO;AAEP,QAAA,KAAuCA,iCAAAA,cAAc;AAAA,IAC1D,aAAa;AAAA,IACb,QAAQ,MAAM;AAAA,IACd,OAAO,CAAC,SAAgC;AAAA,WAAK,IAAI;AAAA,IAAG;AAAA,IACpD,SAAS,MAAe;AAAA,aAAA,MAAM;AAAA,IAAO;AAAA,IACrC,UAAU,MAAM;AAAA,EACQ,CAAA,GANlB,SAAM,GAAA,QAAE,UAAO,GAAA,SAAE,UAAO,GAAA,SAAE,WAAQ,GAAA;AAQzC,QAAM,SAASC,cAAAA,SAA0B,MAAA;AACxC,UAAM,QAAQ,oBAAI;AAClB,QAAI,MAAM,WAAW,MAAM;AAC1B,YAAM,IAAI,cAAc,MAAM,OAAQ;AAAA,IACtC;AACD,QAAI,MAAM,SAAS,GAAG;AACrB,YAAM,IAAI,WAAW,MAAM,MAAM;AAAA,IACjC;AAED,UAAM,IAAI,uBAAuB,MAAM,WAAW,IAAI;AACtD,QAAI,CAAC,QAAQ,OAAO;AACnB,YAAM,IAAI,WAAW,MAAM;AAAA,IAC3B;AAED,WAAO;AAAA,EACR,CAAC;AAED,QAAM,OAAO,MAAO;AAAA;AACpB,QAAM,UAAU,CAAC,UAAsB;AAEtC,SAAK,SAAS,CAAC,MAAM,OAAO;AAAA,EAC7B;;;;;;;;;;;;;;;;;;;;;AC7DD,GAAG,gBAAgBC,SAAS;"}