{"version":3,"file":"l-grid-item.js","sources":["uni_modules/lime-grid/components/l-grid-item/l-grid-item.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-grid/components/l-grid-item/l-grid-item.uvue?type=component"],"sourcesContent":["<template>\n\t<view \n\t\tref=\"gridRef\"\n\t\tclass=\"l-grid-item\" \n\t\t@click=\"onClick\"\n\t\t:class=\"[classes, lClass]\" \n\t\t:hover-stay-time=\"200\"\n\t\t:hover-class=\"hover ? 'l-grid-item--hover': ''\"\n\t\t:style=\"[styles, lStyle]\">\n\t\t<slot>\n\t\t\t<l-badge\n\t\t\t\tv-if=\"(dot || badge != null) && (icon != null || image != null || $slots['icon'] != null)\" \n\t\t\t\t:content=\"badge\"\n\t\t\t\t:dot=\"dot\">\n\t\t\t\t<slot name=\"icon\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"l-grid-item__icon\" \n\t\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\t\tv-if=\"icon != null\" >\n\t\t\t\t\t\t<l-icon\n\t\t\t\t\t\t\t:l-class=\"lClassIcon\"\n\t\t\t\t\t\t\t:prefix=\"prefix\"\n\t\t\t\t\t\t\t:name=\"icon\" \n\t\t\t\t\t\t\t:color=\"iconColor\" \n\t\t\t\t\t\t\t:size=\"iconSize\">\n\t\t\t\t\t\t</l-icon>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image\n\t\t\t\t\t\tclass=\"l-grid-item__image\"\n\t\t\t\t\t\t:class=\"imageClasses\"\n\t\t\t\t\t\t:style=\"[imageStyle, innerImageStyle]\"\n\t\t\t\t\t\tv-else-if=\"image != null\"\n\t\t\t\t\t\t:src=\"image\" \n\t\t\t\t\t\tmode=\"aspectFill\">\n\t\t\t\t\t</image>\n\t\t\t\t</slot>\n\t\t\t</l-badge>\n\t\t\t<slot name=\"icon\"  v-else-if=\"icon != null || image != null || $slots['icon'] != null\">\n\t\t\t\t<view class=\"l-grid-item__icon\" \n\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\tv-if=\"icon != null\" >\n\t\t\t\t\t<l-icon\n\t\t\t\t\t\t:l-class=\"lClassIcon\"\n\t\t\t\t\t\t:prefix=\"prefix\"\n\t\t\t\t\t\t:name=\"icon\" \n\t\t\t\t\t\t:color=\"iconColor\" \n\t\t\t\t\t\t:size=\"iconSize\">\n\t\t\t\t\t</l-icon>\n\t\t\t\t</view>\n\t\t\t\t<image\n\t\t\t\t\tclass=\"l-grid-item__image\"\n\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\t:style=\"[imageStyle, innerImageStyle]\"\n\t\t\t\t\tv-else-if=\"image != null\"\n\t\t\t\t\t:src=\"image\" \n\t\t\t\t\tmode=\"aspectFill\">\n\t\t\t\t</image>\n\t\t\t</slot>\n\t\t\t\n\t\t\t<view class=\"l-grid-item__content\">\n\t\t\t\t<slot name=\"text\">\n\t\t\t\t\t<text class=\"l-grid-item__title\" :style=\"[lTitleStyle]\" :class=\"titleClasses\" >{{text}}</text>\n\t\t\t\t</slot>\n\t\t\t\t<slot name=\"description\">\n\t\t\t\t\t<text class=\"l-grid-item__description\" :style=\"[lDescriptionStyle]\">{{description}}</text>\n\t\t\t\t</slot>\n\t\t\t</view>\n\t\t</slot>\n\t\t<slot name=\"extra\"></slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * GridItem 网格项组件\n\t * @description 用于构建功能入口或导航项的布局元素\n\t * <br> 插件类型：LGridItemComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-grid\n\t * \n\t * @property {string} text 主文本内容（支持插槽自定义）\n\t * @property {string} description 辅助描述文本（支持插槽自定义）\n\t * @property {string} url 点击跳转链接\n\t * @property {'switchTab'|'reLaunch'|'redirectTo'|'navigateTo'} openType 跳转方式\n\t * @value navigateTo\n\t * @value switchTab 切换Tab页\n\t * @value reLaunch 重新加载页面\n\t * @value redirectTo 页面重定向\n\t * @value navigateTo 保留当前页跳转\n\t * @property {string} icon 图标名称/图片地址（支持base64）\n\t * @property {string} prefix 图标类名前缀（默认'lime-icon'）\n\t * @property {string} image 图片地址（优先级高于icon）\n\t * @property {string} imageWidth 图片宽度（支持CSS单位）\n\t * @property {string} imageHeight 图片高度（支持CSS单位）\n\t * @property {string} bgColor 背景颜色（支持十六进制/rgba）\n\t * @property {string} padding 内边距（CSS简写格式）\n\t * @property {'vertical'|'horizontal'} layout 内容排列方向\n\t * @value vertical\n\t * @value horizontal\n\t * @property {boolean} dot 是否显示右上角小红点\n\t * @property {string} borderColor 边框颜色（需设置父级border）\n\t * @property {string|object} lStyle 自定义根节点样式\n\t * @property {string|object} lImageStyle 自定义图片节点样式\n\t * @property {string|object} lTitleStyle 自定义标题节点样式\n\t * @property {string|object} lDescriptionStyle 自定义简介节点样式\n\t * @property {string} lClass 自定义根节点类名\n\t * \n\t * @event {Function} click 点击事件\n\t */\n\timport { GridItemProps } from './type';\n\timport { GridProvide } from '../l-grid/type';\n\t\n\tconst emits = defineEmits(['click'])\n\tconst props = withDefaults(defineProps<GridItemProps>(), {\n\t\topenType: 'navigateTo',\n\t\tlayout: 'vertical',\n\t\tdot: false,\n\n\n\n\n\t})\n\tconst name = 'l-grid-item';\n\tconst parent = inject<GridProvide|null>('limeGrid', null)\n\tconst instance = getCurrentInstance();\n\tconst index = computed(():number => parent?.children.value.indexOf(instance!.uid) ?? -1);\n\tconst column = computed(():number => parent?.props.column ?? 0)\n\tconst gutter = computed(():number => parent?.props.gutter ?? 0)\n\tconst width = computed(():number => parent?.width.value ?? 0)\n\t// const gridWidth = computed(():string|null => parent?.props.gridWidth)\n\tconst hover = computed(():boolean => parent?.props.hover ?? false)\n\tconst classes = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}--${props.layout}`, true);\n\t\tcls.set(`${name}--${parent?.props.align ?? 'center'}`, true);\n\t\tcls.set(`${name}--bordered`, parent?.props.border ?? false);\n\t\t\n\t\treturn cls\n\t})\n\t\n\tconst size = computed(():string=>{\n\t\tif (column.value > 4 || column.value == 0) return 'small';\n\t\treturn column.value < 4 ? 'large' : 'middle';\n\t})\n\t\n\tconst imageClasses = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}__image--${size.value}`, true);\n\t\t\n\t\treturn cls\n\t})\n\tconst titleClasses = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}__title--${size.value}`, true);\n\t\t\n\t\treturn cls\n\t})\n\t\n\tconst innerImageStyle = ref<string|UTSJSONObject>('')\n\t\n\tconst styles = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\t\tconst gridWidth = parent?.props.gridWidth\n\n\n\n\n\n\n\n\n\t\tconst percent = `calc((100% - ${(column.value - 1) * gutter.value}px) / ${column.value})` //`calc(${100 / column.value}% - ${gutter.value}px)`;\n\t\tstyle.set(`flex-basis`, percent);\n\t\t\n\t\tif(props.imageWidth) {\n\t\t\tif(size.value == 'large') {\n\t\t\t\tstyle.set(`--l-grid-item-image-width`, props.imageWidth);\n\t\t\t} else {\n\t\t\t\tstyle.set(`--l-grid-item-image-${size.value}-width`, props.imageWidth);\n\t\t\t}\n\t\t}\n\t\tif(props.imageHeight) {\n\t\t\tif(size.value == 'large') {\n\t\t\t\tstyle.set(`--l-grid-item-image-height`, props.imageHeight);\n\t\t\t} else {\n\t\t\t\tstyle.set(`--l-grid-item-image-${size.value}-height`, props.imageHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tstyle.set(`--l-grid-item-image-height`, percent);\n\n\t\tif(index.value % (column.value) != column.value - 1) {\n\t\t\tstyle.set('margin-right', `${gutter.value}px`)\n\t\t}\n\n\t\tif (index.value >= column.value) {\n\t\t\tstyle.set(`margin-top`, `${gutter.value}px`);\n\t\t}\n\t\t\n\t\tif(props.borderColor != null) {\n\n\n\n\n\t\t\tstyle.set('--l-grid-item-border-color', props.borderColor!)\n\n\t\t}\n\t\tconst bgColor = props.bgColor ?? parent?.props.bgColor\n\t\tif(bgColor != null) {\n\t\t\tstyle.set('background', bgColor)\n\t\t}\n\t\tconst padding = props.padding ?? parent?.props.padding\n\t\tif(padding != null) {\n\t\t\tstyle.set('padding', padding)\n\t\t}\n\t\t\n\t\treturn style\n\t})\n\t\n\t\n\tconst imageStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\n\n\n\n\n\n\n\n\t\t\n\t\treturn style\n\t})\n\t\n\t\n\tconst onClick = (e: UniPointerEvent) => {\n\t\temits('click', e)\n\t\tif(props.url == null) return\n\t\tswitch(props.openType) {\n\t\t\tcase 'switchTab':\n\t\t\t\tuni.switchTab({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tcase 'reLaunch':\n\t\t\t\tuni.reLaunch({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tcase 'redirectTo':\n\t\t\t\tuni.redirectTo({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tuni.navigateTo({url: props.url!})\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t// 安卓如果默认设置了圆角，再设置不会被覆盖，要延时一下\n\twatchEffect(()=>{\n\t\tnextTick(()=>{\n\t\t\tinnerImageStyle.value = props.lImageStyle??''\n\t\t})\n\t})\n\t\n\tonBeforeMount(() => {\n\t\tif(instance != null && parent != null) {\n\t\t\tparent.children.value.push(instance.uid)\n\t\t}\n\t})\n\tonUnmounted(() => {\n\t\tif(instance != null && parent != null) {\n\t\t\tparent.children.value = parent.children.value.filter((it):boolean => it != instance.uid)\n\t\t}\n\t})\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-grid/components/l-grid-item/l-grid-item.uvue'\nwx.createComponent(Component)"],"names":["inject","getCurrentInstance","computed","_a","ref","uni","watchEffect","nextTick","onBeforeMount","onUnmounted","Component"],"mappings":"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"}