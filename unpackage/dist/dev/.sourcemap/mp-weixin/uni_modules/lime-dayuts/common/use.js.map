{"version":3,"file":"use.js","sources":["uni_modules/lime-dayuts/common/use.ts"],"sourcesContent":["// @ts-nocheck\r\nimport {DayutsLocale} from '../utssdk/interface'\r\nimport en from './locale/en'\r\nimport zhCn from './locale/zh-cn'\r\n\r\n// #ifndef UNI-APP-X\r\n\r\n// #ifdef VUE2\r\nimport {reactive} from '@vue/composition-api'\r\n// #endif\r\n\r\n// #ifdef VUE3\r\nimport {reactive} from 'vue'\r\n// #endif\r\n\r\n// #endif\r\n\r\n\r\nconst localesMap = new Map<string, DayutsLocale>()\n//定义一个大写的State类型\ntype LocaleState = {\n  lang: string;\r\n  locales: Map<string, DayutsLocale>\n}\nexport let localeState = reactive({\n  lang: 'en',\n  locales: localesMap\n} as LocaleState)\r\nlocaleState.locales.set('en', en)\r\nlocaleState.locales.set('zh-cn', zhCn)\r\n\r\nclass DayutsIntl {\r\n\tconstructor(){}\r\n\tuse(locale:DayutsLocale):DayutsIntl{\r\n\t\tlocaleState.locales.set(locale.name, locale)\r\n\t\treturn this\r\n\t}\r\n\tset locale(locale: string){\r\n\t\tif(localeState.locales.has(locale)){\r\n\t\t\tlocaleState.lang = locale\r\n\t\t} else {\r\n\t\t\tlet list:string[] = []\r\n\t\t\tlocaleState.locales.forEach(function(_:any,key:string){\r\n\t\t\t   list.push(key)\r\n\t\t\t})\r\n\t\t\tconsole.warn(`未知语言: \"${locale}\". 请使用以下已知语言之一:${list.join(', ')}`);\r\n\t\t}\r\n\t}\r\n\tget locale(): string{\r\n\t\treturn localeState.lang\r\n\t}\r\n\tset(name: string, locale:DayutsLocale){\r\n\t\tlocaleState.locales.set(name, locale)\r\n\t}\r\n\thas(name: string):boolean{\r\n\t\treturn localeState.locales.has(name)\r\n\t}\r\n}\r\nexport const dayutsIntl = new DayutsIntl()\r\n\r\n\r\n// const dyauts = use(xx).use(xx).use(xx).use(xx)\r\n// dyauts.locale ='zh'"],"names":["reactive","en","zhCn","uni"],"mappings":";;;;;AAkBA,MAAM,aAAa,oBAAI;AAMhB,IAAI,cAAcA,cAAAA,SAAS;AAAA,EAChC,MAAM;AAAA,EACN,SAAS;AACK,CAAA;AAChB,YAAY,QAAQ,IAAI,MAAMC,8CAAE,EAAA;AAChC,YAAY,QAAQ,IAAI,SAASC,gDAAI,MAAA;AAErC,MAAM,WAAU;AAAA,EACf,cAAA;AAAA,EAAc;AAAA,EACd,IAAI,QAAmB;AACtB,gBAAY,QAAQ,IAAI,OAAO,MAAM,MAAM;AAC3C,WAAO;AAAA,EACR;AAAA,EACA,IAAI,OAAO,QAAc;AACxB,QAAG,YAAY,QAAQ,IAAI,MAAM,GAAE;AAClC,kBAAY,OAAO;AAAA,IACnB,OAAM;AACN,UAAI,OAAgB,CAAA;AACpB,kBAAY,QAAQ,QAAQ,SAAS,GAAM,KAAU;AAClD,aAAK,KAAK,GAAG;AAAA,MAChB,CAAC;AACDC,oBAAAA,MAAA,MAAA,QAAA,+CAAa,UAAU,MAAM,kBAAkB,KAAK,KAAK,IAAI,CAAC,EAAE;AAAA,IAChE;AAAA,EACF;AAAA,EACA,IAAI,SAAM;AACT,WAAO,YAAY;AAAA,EACpB;AAAA,EACA,IAAI,MAAc,QAAmB;AACpC,gBAAY,QAAQ,IAAI,MAAM,MAAM;AAAA,EACrC;AAAA,EACA,IAAI,MAAY;AACf,WAAO,YAAY,QAAQ,IAAI,IAAI;AAAA,EACpC;AACA;AACY,MAAA,aAAa,IAAI,WAAY;;;"}