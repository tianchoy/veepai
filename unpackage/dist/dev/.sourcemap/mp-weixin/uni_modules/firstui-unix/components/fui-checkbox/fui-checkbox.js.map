{"version":3,"file":"fui-checkbox.js","sources":["uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"fui-checkbox__input\"\r\n\t\t:class=\"[scaleRatio!=1?`fui-checkbox__scale-${scaleAlign}`:'' ,disabled?'fui-checkbox__disabled':'',color=='' && styleVal && !isCheckMark?'fui-checkbox__color':'',normalColor=='' && !styleVal && !isCheckMark?'fui-checkbox__background':'',borderColor=='' && !styleVal && !isCheckMark?'fui-checkbox__normal-border':'']\"\r\n\t\t:style=\"getStyl\" @tap.stop=\"checkboxClick\">\r\n\t\t<view class=\"fui-check__mark\" :class=\"{'fui-checkbox__mark-color':checkMarkColor==''}\" :style=\"getMarkStyl\"\r\n\t\t\tv-if=\"val\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\timport { FuiCheckboxChangeParam } from '../fui-types/index.uts';\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} value\t{String} value值，当选中时会携带该值\r\n\t * @property {Boolean} checked {Boolean} 是否选中\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用\r\n\t * @property {String} color\t{String} 选中时背景颜色\r\n\t * @property {String} normalColor {String} 未选中时背景颜色\r\n\t * @property {String} borderColor {String} 未选中时边框颜色\r\n\t * @property {String} borderRadius {String} 圆角值\r\n\t * @property {Boolean} isCheckMark {Boolean} 是否只展示对号，无边框背景\r\n\t * @property {String} checkMarkColor {String} 对号颜色\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\r\n\t * @event {Function} change 选中状态发生改变时触发，(event: FuiCheckboxChangeParam) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox\",\r\n\t\temits: ['change'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tchecked: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tnormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '100px'\r\n\t\t\t},\r\n\t\t\tisCheckMark: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcheckMarkColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tscaleAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.val = this.checked;\r\n\t\t\tthis.getParent('fui-checkbox-group')\r\n\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t(group.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\tconst modelValue = group.$props['modelValue'] as string[];\r\n\t\t\t\tif (modelValue.length > 0) {\r\n\t\t\t\t\tthis.val = modelValue.includes(this.value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst parent = this.getParent('fui-label')\r\n\t\t\tif (parent) {\r\n\t\t\t\tconst label = this.fuiLabel as ComponentPublicInstance\r\n\t\t\t\t(label.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('transform', `scale(${this.scaleRatio})`);\r\n\t\t\t\tmp.set('border-radius', this.borderRadius);\r\n\t\t\t\tlet color = this.val ? this.color : (this.borderColor == '' ? this.color : this.borderColor);\r\n\t\t\t\tconst bgColor = this.val ? this.color : this.normalColor;\r\n\t\t\t\tif (this.isCheckMark) {\r\n\t\t\t\t\tmp.set('border-color', 'transparent')\r\n\t\t\t\t\tmp.set('background', 'transparent')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (color != '') mp.set('border-color', color)\r\n\t\t\t\t\tif (bgColor != '') mp.set('background', bgColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') {\r\n\t\t\t\t\tmp.set('borderBottomColor', this.checkMarkColor)\r\n\t\t\t\t\tmp.set('borderRightColor', this.checkMarkColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchecked(newVal) {\r\n\t\t\t\tthis.val = newVal;\r\n\t\t\t},\r\n\t\t\tval() {\r\n\t\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t\tgroup.$callMethod('changeValue');\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.styleVal = this.val;\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: false,\r\n\t\t\t\tstyleVal: false,\r\n\t\t\t\tfuiLabel: null as null | ComponentPublicInstance,\r\n\t\t\t\tfuiCkGroup: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxClick(e : UniPointerEvent) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tthis.checkboxChange();\r\n\t\t\t},\r\n\t\t\tcheckboxChange() {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.val = !this.val;\r\n\t\t\t\tthis.$emit('change', {\r\n\t\t\t\t\tchecked: this.val,\r\n\t\t\t\t\tvalue: this.value\r\n\t\t\t\t} as FuiCheckboxChangeParam)\r\n\t\t\t},\r\n\t\t\t//测试支持，如果不支持则使用 provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tif (name == 'fui-checkbox-group') {\r\n\t\t\t\t\tthis.fuiCkGroup = parent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fuiLabel = parent;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tlabelClick() {\r\n\t\t\t\tthis.checkboxChange()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-checkbox-border-color: #CCCCCC !default;\r\n\t$fui-checkbox-background: #fff !default;\r\n\t$fui-checkbox-mark-color: #fff !default;\r\n\r\n\t.fui-checkbox__input {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 100px;\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-left {\r\n\t\ttransform-origin: 0 center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-center {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-right {\r\n\t\ttransform-origin: 100% center;\r\n\t}\r\n\r\n\t.fui-checkbox__color {\r\n\t\tbackground: $fui-color-primary !important;\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-checkbox__normal-border {\r\n\t\tborder-color: $fui-checkbox-border-color !important;\r\n\t}\r\n\r\n\t.fui-checkbox__background {\r\n\t\tbackground: $fui-checkbox-background !important;\r\n\t}\r\n\r\n\t.fui-checkbox__mark-color {\r\n\t\tborder-bottom-color: $fui-checkbox-mark-color !important;\r\n\t\tborder-right-color: $fui-checkbox-mark-color !important;\r\n\t}\r\n\r\n\t.fui-check__mark {\r\n\t\twidth: 20rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 3px;\r\n\t\tborder-bottom-color: #FFFFFF;\r\n\t\tborder-right-style: solid;\r\n\t\tborder-right-width: 3px;\r\n\t\tborder-right-color: #FFFFFF;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\ttransform-origin: 54% 48%;\r\n\t}\r\n\r\n\t.fui-checkbox__disabled {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","FuiCheckboxChangeParam"],"mappings":"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"}