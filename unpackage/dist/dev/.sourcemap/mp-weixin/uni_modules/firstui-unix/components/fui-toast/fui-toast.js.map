{"version":3,"file":"fui-toast.js","sources":["uni_modules/firstui-unix/components/fui-toast/fui-toast.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-toast/fui-toast.uvue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"fui-toast__wrap\" :class=\"[position=='bottom'?'fui-toast__bottom':'fui-toast__center']\" :ref=\"refId\">\r\n\t\t<view class=\"fui-toast__inner\" :style=\"{padding:padding,background:background,zIndex:zIndex}\">\r\n\t\t\t<slot></slot>\r\n\t\t\t<view class=\"fui-toast__icon-box\" v-if=\"src!=''\" :style=\"{width:`${width}rpx`,height:`${width}rpx`}\">\r\n\t\t\t\t<image class=\"fui-toast__icon\" :src=\"src\"\r\n\t\t\t\t\t:style=\"{width:`${width}rpx`,height:`${width}rpx`,borderRadius:`${radius}rpx`}\">\r\n\t\t\t\t</image>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"fui-toast__text\" :style=\"{fontSize:`${size}rpx`,color:color}\" v-if=\"text!=''\">{{text}}</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { FuiToastShowParam } from '../fui-types/index.uts';\r\n\t/**\r\n\t * Toast 轻提示\r\n\t * @description Toast 轻提示，一种轻量级反馈/提示，适合用于页面转场、数据交互的等场景中。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} padding {String} 提示框padding值\r\n\t * @property {String} background {String} 提示框背景颜色\r\n\t * @property {Number} width\t{Number} 图标宽度（高度与宽度一致），单位rpx\r\n\t * @property {Number} radius {Number} 图标圆角大小，单位rpx\r\n\t * @property {Number} size {Number} 提示信息字体大小，单位rpx\r\n\t * @property {String} color {String} 提示信息文本颜色\t\r\n\t * @property {String} position {String} 提示信息显示位置，可选值：center、bottom\t\r\n\t * @property {Number} zIndex {Number} 提示框z-index值\r\n\t * @method {Function} show 传入参数，显示提示信息：(options : FuiToastShowParam) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-toast\",\r\n\t\tprops: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '32rpx'\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'rgba(0,0,0,.6)'\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 64\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 30\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#fff'\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t},\r\n\t\t\tzIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1001\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst refToastId = `fui_toast_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`\r\n\t\t\treturn {\r\n\t\t\t\ttimer: null as number | null,\r\n\t\t\t\tsrc: '',\r\n\t\t\t\ttext: '',\r\n\t\t\t\trefId: refToastId,\r\n\t\t\t\telement: null as null | UniElement\r\n\t\t\t};\r\n\t\t},\r\n\t\tbeforeUnmount() {\r\n\t\t\tif (this.timer != null) clearTimeout(this.timer as number);\r\n\t\t\tthis.timer = null;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t* 类型：(options : FuiToastShowParam)=>void\r\n\t\t\t* @tutorial https://unix.firstui.cn/\r\n\t\t\t* @description 显示提示信息，FuiToastShowParam 参数类型引入地址 '@/.../fui-types/index.uts '\r\n\t\t\t* @param {number} duration {number} 显示持续时间，单位ms，可选\r\n\t\t\t* @param {string} src {string} 提示图标，可选\r\n\t\t\t* @param {string} text {string} 提示信息，使用插槽自定义内容时可不传\r\n\t\t\t*/\r\n\t\t\tshow(options : FuiToastShowParam) {\r\n\t\t\t\tif (this.timer != null) clearTimeout(this.timer as number);\r\n\t\t\t\tthis.text = options.text == null ? '' : (options.text as string);\r\n\t\t\t\tthis.src = options.src == null ? '' : (options.src as string);\r\n\t\t\t\tconst duration = options.duration == null ? 2000 : (options.duration as number);\r\n\t\t\t\tif (this.element == null) {\r\n\t\t\t\t\tthis.element = this.$refs[this.refId] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.element!.style.setProperty('opacity', '1')\r\n\t\t\t\t\t\tthis.element!.style.setProperty('visibility', 'visible');\r\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\t\t\tthis.element!.style.setProperty('opacity', '0')\r\n\t\t\t\t\t\t\tif (this.timer != null) clearTimeout(this.timer as number);\r\n\t\t\t\t\t\t\tthis.timer = null;\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.element!.style.setProperty('visibility', 'hidden');\r\n\t\t\t\t\t\t\t}, 250)\r\n\t\t\t\t\t\t}, duration);\r\n\t\t\t\t\t}, 50);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.fui-toast__wrap {\r\n\t\tposition: fixed;\r\n\t\tleft: 15%;\r\n\t\tright: 15%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransition-property: opacity, visibility;\r\n\t\ttransition-timing-function: ease-in-out;\r\n\t\ttransition-duration: 0.25s;\r\n\t\tvisibility: hidden;\r\n\t\topacity: 0;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-toast__center {\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.fui-toast__bottom {\r\n\t\tbottom: 160rpx;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\r\n\t.fui-toast__inner {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\tborder-radius: 16rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-toast__icon-box {\r\n\t\tpadding-bottom: 20rpx;\r\n\t\tbox-sizing: content-box;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.fui-toast__text {\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-toast/fui-toast.uvue'\nwx.createComponent(Component)"],"names":["defineComponent"],"mappings":";;;AA8BC,MAAA,YAAeA,8BAAA;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,SAAS;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,QAAQ;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,QAAQ;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAI;AACH,UAAM,aAAa,aAAa,SAAS,KAAK,KAAK,KAAK,OAAS,IAAE,GAAI,EAAE,SAAU,GAAE,EAAE,CAAC;AACxF,WAAO;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA;EAEV;AAAA,EACD,gBAAa;AACZ,QAAI,KAAK,SAAS;AAAM,mBAAa,KAAK,KAAe;AACzD,SAAK,QAAQ;AAAA,EACb;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASR,KAAK,SAA2B;AAC/B,UAAI,KAAK,SAAS;AAAM,qBAAa,KAAK,KAAe;AACzD,WAAK,OAAO,QAAQ,QAAQ,OAAO,KAAM,QAAQ;AACjD,WAAK,MAAM,QAAQ,OAAO,OAAO,KAAM,QAAQ;AAC/C,YAAM,WAAW,QAAQ,YAAY,OAAO,MAAQ,QAAQ;AAC5D,UAAI,KAAK,WAAW,MAAM;AACzB,aAAK,UAAU,KAAK,MAAM,KAAK,KAAK;AAAA,MACrC;AACA,WAAK,UAAU,MAAA;AACd,mBAAW,MAAA;AACV,eAAK,QAAS,MAAM,YAAY,WAAW,GAAG;AAC9C,eAAK,QAAS,MAAM,YAAY,cAAc,SAAS;AACvD,eAAK,QAAQ,WAAW,MAAA;AACvB,iBAAK,QAAS,MAAM,YAAY,WAAW,GAAG;AAC9C,gBAAI,KAAK,SAAS;AAAM,2BAAa,KAAK,KAAe;AACzD,iBAAK,QAAQ;AACb,uBAAW,MAAA;AACV,mBAAK,QAAS,MAAM,YAAY,cAAc,QAAQ;AAAA,YACtD,GAAE,GAAG;AAAA,UACN,GAAE,QAAQ;AAAA,QACX,GAAE,EAAE;AAAA,MACN,CAAC;AAAA,IACF;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;AChHD,GAAG,gBAAgB,SAAS;"}