{"version":3,"file":"fui-input.js","sources":["uni_modules/firstui-unix/components/fui-input/fui-input.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-input/fui-input.uvue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"fui-input__wrap\"\r\n\t\t:class=\"{'fui-input__border-uvue':inputBorder,'fui-input__border-color':inputBorder && borderColor=='','fui-input__disabled-styl':disabled && disabledStyle}\"\r\n\t\t:style=\"getStyle\" @tap=\"fieldClick\">\r\n\t\t<view v-if=\"borderTop && !inputBorder\"\r\n\t\t\t:style=\"{background:borderColor,left:`${topLeft}rpx`,right:`${topRight}rpx`}\" class=\"fui-input__border-top\"\r\n\t\t\t:class=\"{'fui-input__background':borderColor==''}\">\r\n\t\t</view>\r\n\r\n\t\t<view class=\"fui-input__border\" :class=\"{'fui-input__border-color':borderColor==''}\"\r\n\t\t\t:style=\"{borderRadius:getBorderRadius,borderColor:borderColor}\" v-if=\"inputBorder\"></view>\r\n\r\n\t\t<view class=\"fui-input__required\" v-if=\"required\">\r\n\t\t\t<text :style=\"getRequiredColor\" class=\"fui-input__asterisk-text\"\r\n\t\t\t\t:class=\"{'fui-input__asterisk-color':requiredColor==''}\">*</text>\r\n\t\t</view>\r\n\t\t<view class=\"fui-input__label\" :style=\"{minWidth:`${labelWidth}rpx`}\" v-if=\"label!=''\">\r\n\t\t\t<text :class=\"{'fui-input__label-size':labelSize==0}\" :style=\"getLabelStyl\">{{label}}</text>\r\n\t\t</view>\r\n\t\t<slot name=\"left\"></slot>\r\n\t\t<input :ref=\"refId\" class=\"fui-input__self\" :class=\"{'fui-input__disabled':disabled || readonly,'fui-input__size':size==0}\"\r\n\t\t\t:style=\"{fontSize:`${size}rpx`,color:color,textAlign:textAlign}\" placeholder-class=\"fui-input__placeholder\"\r\n\t\t\t:type=\"type\" :name=\"name\" :value=\"val\" :placeholder=\"placeholder\" :password=\"password || type == 'password'\"\r\n\t\t\t:placeholder-style=\"placeholderStyle\" :disabled=\"disabled || readonly\" :cursor-spacing=\"cursorSpacing\"\r\n\t\t\t:maxlength=\"maxlength\" :confirm-type=\"confirmType\" :confirm-hold=\"confirmHold\" :cursor=\"cursor\"\r\n\t\t\t:selection-start=\"selectionStart\" :selection-end=\"selectionEnd\" :adjust-position=\"adjustPosition\"\r\n\t\t\t@focus=\"onFocus\" @blur=\"onBlur\" @input=\"onInput\" @confirm=\"onConfirm\"\r\n\t\t\t@keyboardheightchange=\"onKeyboardheightchange\" />\r\n\t\t<view class=\"fui-input__clear-wrap\" :style=\"{background:clearColor}\" v-if=\"clearable && val != ''\"\r\n\t\t\t@tap.stop=\"onClear\">\r\n\t\t\t<view class=\"fui-input__clear\">\r\n\t\t\t\t<view class=\"fui-input__clear-a\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fui-input__clear\">\r\n\t\t\t\t<view class=\"fui-input__clear-b\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<slot></slot>\r\n\t\t<view v-if=\"borderBottom  && !inputBorder\" :style=\"getBtnLineStyl\" class=\"fui-input__border-bottom\"\r\n\t\t\t:class=\"{'fui-input__background':borderColor==''}\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Input 输入框\r\n\t * @description Input 输入框，该组件是对原生input组件的增强，内置了常用布局样式，同时包含 input 所有功能。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Boolean} required {Boolean} 是否显示必填图标\r\n\t * @property {String} requiredColor {String} 必填图标颜色\t\r\n\t * @property {String} label {String} 左侧标题\r\n\t * @property {Number} labelSize {Number} 标题字体大小，单位rpx\r\n\t * @property {String} labelColor {String} 标题字体颜色\r\n\t * @property {Number} labelWidth {Number} 标题最小宽度，单位rpx\r\n\t * @property {Boolean} clearable {Boolean} 输入内容后是否显示清除按钮\r\n\t * @property {String} clearColor {String} 清除按钮颜色\r\n\t * @property {Boolean} focus {Boolean} 获取焦点\r\n\t * @property {String} placeholder {String} 输入框为空时占位符\r\n\t * @property {String} placeholderStyle {String}\t指定 placeholder 的样式\r\n\t * @property {String} name {String} 输入框名称\r\n\t * @property {String} value {String} 输入框值\r\n\t * @property {String} type {String} 输入框类型，参考官方 input 组件type属性\r\n\t * @property {Boolean} password {Boolean} 是否是密码类型\t\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用，清除按钮一并失效\r\n\t * @property {Boolean} disabledStyle {Boolean} 是否启用禁用状态下的样式，与正常输入框样式略有区别，仅disabled为true时有效\r\n\t * @property {Boolean} readonly {Boolean} 是否只读，保留清除按钮使用，优先级高于disabled\r\n\t * @property {Number} maxlength {Number} 最大输入长度，设置为 -1 的时候不限制最大长度\r\n\t * @property {Number} min {Number} 最小值，当 type=number、type=digit 时有效\r\n\t * @property {Number} max {Number} 最小值，当ype=number、type=digit 时有效\r\n\t * @property {Number} cursorSpacing {Number} 指定光标与键盘的距离，单位 px \r\n\t * @property {String} cursorColor {String} 光标颜色\r\n\t * @property {String} confirmType {String} 设置键盘右下角按钮的文字，仅在 type=\"text\" 时生效\r\n\t * @property {Boolean} confirmHold {Boolean} 点击键盘右下角按钮时是否保持键盘不收起\r\n\t * @property {Number} cursor {Number} 指定focus时的光标位置\r\n\t * @property {Number} selectionStart {Number} 光标起始位置，自动聚集时有效，需与selection-end搭配使用\r\n\t * @property {Number} selectionEnd {Number}\t光标结束位置，自动聚集时有效，需与selection-start搭配使用\r\n\t * @property {Boolean} adjustPosition {Boolean}\t键盘弹起时，是否自动上推页面\r\n\t * @property {Number} size {Number}\t输入框字体大小，单位 rpx\r\n\t * @property {String} color {String} 输入框字体颜色\r\n\t * @property {Boolean} inputBorder {Boolean} 是否显示input边框，为true则属性borderTop，borderBottom失效\r\n\t * @property {Boolean} isFillet {Boolean} input是否显示为圆角，设置为true则属性radius失效\r\n\t * @property {Number} radius {Number} 自定义input圆角值，单位rpx\r\n\t * @property {Boolean} borderTop {Boolean} 是否显示上边框\t\r\n\t * @property {Number} topLeft {Number} 上边框left值，单位rpx\r\n\t * @property {Number} topRight {Number} 上边框right值，单位rpx\r\n\t * @property {Boolean} borderBottom {Boolean} 是否显示下边框\r\n\t * @property {Number} bottomLeft {Number} 下边框right值，单位rpx\r\n\t * @property {Number} bottomRight {Number} 下边框right值，单位rpx\r\n\t * @property {String} borderColor {String} 边框颜色\r\n\t * @property {Boolean} trim\t {Boolean} 是否自动去除两端的空格\r\n\t * @property {String} textAlign {String} 输入框内容对齐方式，可选值：left、center、right\r\n\t * @property {String} padding {String} 输入框padding值\r\n\t * @property {String} backgroundColor {String} 输入框背景颜色\r\n\t * @property {Number} marginTop {Number} 输入框margin-top值,单位rpx\r\n\t * @event {Function} onclick 点击输入框时触发，(event:string) => void\r\n\t * @event {Function} input 当键盘输入时，触发input事件，(event: string) => void\r\n\t * @event {Function} update:modelValue 输入框值改变时触发，用于双向绑定 (event: string) => void\r\n\t * @event {Function} focus 输入框聚焦时触发，(event: UniInputFocusEvent) => void\r\n\t * @event {Function} blur 输入框失去焦点时触发，(event: UniInputBlurEvent) => void\r\n\t * @event {Function} confirm 点击完成按钮时触发，(event: UniInputConfirmEvent) => void\r\n\t * @event {Function} keyboardheightchange 键盘高度发生变化的时候触发此事件，(event: UniInputKeyboardHeightChangeEvent) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-input\",\r\n\t\temits: ['input', 'update:modelValue', 'focus', 'blur', 'confirm', 'onclick', 'keyboardheightchange'],\r\n\t\tprops: {\r\n\t\t\trequired: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\trequiredColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tlabel: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tlabelSize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tlabelColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#333'\r\n\t\t\t},\r\n\t\t\tlabelWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 140\r\n\t\t\t},\r\n\t\t\tclearable: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tclearColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#CCCCCC'\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tplaceholderStyle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t//保留属性\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'text'\r\n\t\t\t},\r\n\t\t\tpassword: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabledStyle: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\treadonly: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 140\r\n\t\t\t},\r\n\t\t\tmin: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tmax: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tcursorSpacing: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t\tcursorColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tconfirmType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'done'\r\n\t\t\t},\r\n\t\t\tconfirmHold: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tcursor: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionStart: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionEnd: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tadjustPosition: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#333'\r\n\t\t\t},\r\n\t\t\tinputBorder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisFillet: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderTop: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttopLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\ttopRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderBottom: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tbottomLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 32\r\n\t\t\t},\r\n\t\t\tbottomRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttrim: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\ttextAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\tpadding: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '28rpx 32rpx'\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#FFFFFF'\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst refInputId = `fui_input_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`;\r\n\t\t\treturn {\r\n\t\t\t\trefId: refInputId,\r\n\t\t\t\tval: '',\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance,\r\n\t\t\t\t//1-string 2-number 3-boolean 4-string[] 5-number[]\r\n\t\t\t\tvalueType: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyle() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('padding', this.padding);\r\n\t\t\t\tmp.set('background', this.backgroundColor);\r\n\t\t\t\tmp.set('margin-top', `${this.marginTop}rpx`);\r\n\t\t\t\tmp.set('border-radius', this.isFillet ? '120px' : `${this.radius}rpx`);\r\n\r\n\r\n\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetBorderRadius() : string {\r\n\t\t\t\tlet radius = `${this.radius * 2}rpx`\r\n\t\t\t\tif (this.isFillet) {\r\n\t\t\t\t\tradius = '240px'\r\n\t\t\t\t}\r\n\t\t\t\treturn radius;\r\n\t\t\t},\r\n\t\t\tgetBtnLineStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.borderColor != '') mp.set('background', this.borderColor);\r\n\r\n\r\n\t\t\t\tmp.set('left', `${this.bottomLeft}rpx`);\r\n\r\n\r\n\t\t\t\t//app端left值与父元素padding-left一致【待修复】\r\n\r\n\r\n\r\n\t\t\t\tmp.set('right', `${this.bottomRight}rpx`);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetRequiredColor() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.requiredColor != '') mp.set('color', this.requiredColor);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetLabelStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.labelColor != '') mp.set('color', this.labelColor);\r\n\t\t\t\tif (this.labelSize != 0) {\r\n\t\t\t\t\tmp.set('fontSize', `${this.labelSize}rpx`);\r\n\t\t\t\t\tmp.set('lineHeight', `${this.labelSize}rpx`);\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tfocus(val : boolean) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.setFocusOrBlur(val)\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmodelValue() {\r\n\t\t\t\tthis.val = this.getStringVal(this.modelValue)\r\n\t\t\t},\r\n\t\t\tvalue() {\r\n\t\t\t\tthis.val = this.getStringVal(this.value)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst value = this.getStringVal(this.value)\r\n\t\t\t\tconst modelValue = this.getStringVal(this.modelValue)\r\n\t\t\t\tif (value != '') {\r\n\t\t\t\t\tthis.val = value\r\n\t\t\t\t} else if (modelValue != '') {\r\n\t\t\t\t\tthis.val = modelValue\r\n\t\t\t\t}\r\n\t\t\t\t//用于submit、reset事件\r\n\t\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\t\tif (isForm) {\r\n\t\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\t}\r\n\t\t\t}, 50)\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setFocusOrBlur(this.focus)\r\n\t\t\t\t}, 300)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetStringVal(val : any) : string {\r\n\t\t\t\tlet str : string;\r\n\t\t\t\tif (typeof val == 'string') {\r\n\t\t\t\t\tstr = val as string;\r\n\t\t\t\t} else if (typeof val == 'number') {\r\n\t\t\t\t\tstr = (val as number).toString()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstr = val.toString()\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\tsetFocusOrBlur(focus : boolean) {\r\n\t\t\t\tif (focus) {\r\n\t\t\t\t\t(this.$refs[this.refId] as UniElement).focus()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(this.$refs[this.refId] as UniElement).blur()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisSafeInteger(num : number) : boolean {\r\n\t\t\t\treturn num >= -9007199254740991 && num <= 9007199254740991;\r\n\t\t\t},\r\n\t\t\tonInput(event : UniInputEvent) {\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\tif (this.trim) value = this.trimStr(value);\r\n\t\t\t\tthis.val = value;\r\n\t\t\t\tlet currentVal = parseFloat(value)\r\n\t\t\t\t// -9007199254740992 ～ 9007199254740992\r\n\t\t\t\tif ((this.type == 'digit' || this.type == 'number') && !\r\n\t\t\t\t\tisNaN(currentVal) && this.isSafeInteger(currentVal)) {\r\n\t\t\t\t\tconst min = this.min\r\n\t\t\t\t\tconst max = this.max\r\n\t\t\t\t\tif (min != -1 && currentVal < min) {\r\n\t\t\t\t\t\tcurrentVal = min\r\n\t\t\t\t\t} else if (max != -1 && max < currentVal) {\r\n\t\t\t\t\t\tcurrentVal = max\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue = currentVal.toString()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t//当输入框为空时，输入框显示不赋值为0\r\n\t\t\t\t\tif (event.detail.value != '') this.val = value;\r\n\t\t\t\t})\r\n\t\t\t\t//如果为空时返回0 ，当双向绑定会将输入框赋值0\r\n\t\t\t\tconst inputValue = event.detail.value != '' ? value : ''\r\n\t\t\t\tthis.$emit('input', inputValue);\r\n\t\t\t\tthis.$emit('update:modelValue', inputValue)\r\n\t\t\t},\r\n\t\t\tonFocus(event : UniInputFocusEvent) {\r\n\t\t\t\tthis.$emit('focus', event);\r\n\t\t\t},\r\n\t\t\tonBlur(event : UniInputBlurEvent) {\r\n\t\t\t\tthis.$emit('blur', event);\r\n\t\t\t},\r\n\t\t\tonConfirm(event : UniInputConfirmEvent) {\r\n\t\t\t\tthis.$emit('confirm', event);\r\n\t\t\t},\r\n\t\t\tonClear() {\r\n\t\t\t\tif (this.disabled && !this.readonly) return;\r\n\t\t\t\tthis.setFocusOrBlur(false)\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t\tthis.$emit('update:modelValue', '')\r\n\t\t\t},\r\n\t\t\tfieldClick() {\r\n\t\t\t\tthis.$emit('onclick', this.name);\r\n\t\t\t},\r\n\t\t\tonKeyboardheightchange(e : UniInputKeyboardHeightChangeEvent) {\r\n\t\t\t\tthis.$emit('keyboardheightchange', e)\r\n\t\t\t},\r\n\t\t\ttrimStr(str : string) : string {\r\n\t\t\t\treturn str.replace(/^\\s+|\\s+$/g, '');\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.setFocusOrBlur(false)\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t\tthis.$emit('update:modelValue', '')\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string {\r\n\t\t\t\treturn this.val\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-border: #EEEEEE !default;\r\n\t$fui-placeholder-color: #CCCCCC !default;\r\n\t$fui-input-border-width: 1px !default;\r\n\t$fui-input-label-size: 32rpx !default;\r\n\t$fui-input-size: 32rpx !default;\r\n\r\n\t.fui-input__wrap {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\tborder-width: 0 !important;\r\n\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.fui-input__border-color {\r\n\t\tborder-color: $fui-color-border !important;\r\n\t}\r\n\r\n\t.fui-input__background {\r\n\t\tbackground: $fui-color-border !important;\r\n\t}\r\n\r\n\t.fui-input__border-top {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\theight: $fui-input-border-width;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 0;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-input__border-bottom {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\theight: $fui-input-border-width;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 100%;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\r\n\t.fui-input__border {\r\n\t\tposition: absolute;\r\n\t\theight: 200%;\r\n\t\twidth: 200%;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tborder-color: $fui-color-border;\r\n\t\ttransform-origin: 0 0;\r\n\t\ttransform: scale(0.5) translateZ(0);\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\r\n\r\n\t.fui-input__required {\r\n\r\n\t\ttransform: translateZ(0);\r\n\r\n\t\tposition: absolute;\r\n\t\tleft: 12rpx;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.fui-input__asterisk-text {\r\n\t\tfont-size: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tline-height: 32rpx;\r\n\t}\r\n\r\n\t.fui-input__asterisk-color {\r\n\t\tcolor: $fui-color-danger !important;\r\n\t}\r\n\r\n\r\n\t.fui-input__label {\r\n\t\tpadding-right: 12rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.fui-input__label-size {\r\n\t\tfont-size: $fui-input-label-size !important;\r\n\t\tline-height: $fui-input-label-size !important;\r\n\t}\r\n\r\n\r\n\t.fui-input__self {\r\n\t\tflex: 1;\r\n\t\tpadding-right: 12rpx;\r\n\t\toverflow: visible;\r\n\t\tbackground-color: transparent;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__size {\r\n\t\tfont-size: $fui-input-size !important;\r\n\t}\r\n\r\n\t.fui-input__clear-wrap {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\ttransform: rotate(45deg) scale(1.1);\r\n\t\tposition: relative;\r\n\t\tflex-shrink: 0;\r\n\t\tborder-radius: 32rpx;\r\n\t}\r\n\r\n\t.fui-input__clear {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\ttransform: scale(0.5);\r\n\t}\r\n\r\n\t.fui-input__clear-a {\r\n\t\twidth: 32rpx;\r\n\t\tborder: 2rpx solid #fff;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__clear-b {\r\n\t\theight: 32rpx;\r\n\t\tborder: 2rpx solid #fff;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__placeholder {\r\n\t\tcolor: $fui-placeholder-color;\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.fui-input__disabled {\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-input__disabled-styl {\r\n\t\topacity: .6;\r\n\t}\r\n</style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-input/fui-input.uvue'\nwx.createComponent(Component)"],"names":["defineComponent"],"mappings":"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"}