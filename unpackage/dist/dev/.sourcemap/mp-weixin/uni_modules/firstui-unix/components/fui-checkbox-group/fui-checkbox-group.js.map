{"version":3,"file":"fui-checkbox-group.js","sources":["uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue?type=component"],"sourcesContent":["<template>\r\n\t<checkbox-group :name=\"name\">\r\n\t\t<slot></slot>\r\n\t</checkbox-group>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { type PropType, ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String}\t多项选择器名称\t\r\n\t * @property {Array} modelValue { string[] } 选中的value值集合，用于双向绑定\r\n\t * @event {Function} change 选中项发生变化时触发，(event: string[]) => void\r\n\t * @event {Function} update:modelValue 用于组件双向绑定，(event: string[]) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox-group\",\r\n\t\temits: ['change', 'update:modelValue'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Array as PropType<string[]>,\r\n\t\t\t\tdefault: () : string[] => [] as string[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvals: [] as string[],\r\n\t\t\t\tchildrens: [] as ComponentPublicInstance[],\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmodelValue(vals : string[]) {\r\n\t\t\t\tthis.modelChange(vals)\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChange(e : string[]) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t},\r\n\t\t\tchangeValue() {\r\n\t\t\t\tconst vals = [] as string[];\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst isChk = item.$data['val'] as boolean;\r\n\t\t\t\t\tif (isChk) {\r\n\t\t\t\t\t\tvals.push(item.$props['value'] as string);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.checkboxChange(vals)\r\n\t\t\t},\r\n\t\t\tmodelChange(vals : string[]) {\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst value = item.$props['value'] as string;\r\n\t\t\t\t\tif (vals.includes(value)) {\r\n\t\t\t\t\t\titem.$data['val'] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.$data['val'] = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = [] as string[];\r\n\t\t\t\tthis.checkboxChange(this.vals)\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string[] {\r\n\t\t\t\treturn this.vals;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped></style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue'\nwx.createComponent(Component)"],"names":["defineComponent"],"mappings":";;AAiBC,MAAA,YAAeA,8BAAA;AAAA,EACd,MAAM;AAAA,EACN,OAAO,CAAC,UAAU,mBAAmB;AAAA,EACrC,OAAO;AAAA,IACN,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS,MAAA;AAAiB,eAAA,CAAA;AAAA,MAAa;AAAA,IACxC;AAAA,EACA;AAAA,EACD,OAAI;AACH,WAAO;AAAA,MACN,MAAM,CAAc;AAAA,MACpB,WAAW,CAA+B;AAAA,MAC1C,SAAS;AAAA;EAEV;AAAA,EACD,OAAO;AAAA,IACN,WAAW,MAAe;AACzB,WAAK,YAAY,IAAI;AAAA,IACrB;AAAA,EACD;AAAA,EACD,UAAO;AAEN,UAAM,SAAS,KAAK,UAAU,UAAU;AACxC,QAAI,QAAQ;AACX,YAAM,OAAO,KAAK;AACjB,WAAK,MAAM,cAAc,EAAgC,KAAK,IAA+B;AAAA,IAC/F;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,eAAe,GAAY;AAC1B,WAAK,MAAM,UAAU,CAAC;AACtB,WAAK,MAAM,qBAAqB,CAAC;AAAA,IACjC;AAAA,IACD,cAAW;AACV,YAAM,OAAO,CAAA;AACb,WAAK,UAAU,QAAQ,CAAC,SAA8B;AACrD,cAAM,QAAQ,KAAK,MAAM,KAAK;AAC9B,YAAI,OAAO;AACV,eAAK,KAAK,KAAK,OAAO,OAAO,CAAW;AAAA,QACzC;AAAA,MACD,CAAC;AACD,WAAK,OAAO;AACZ,WAAK,eAAe,IAAI;AAAA,IACxB;AAAA,IACD,YAAY,MAAe;AAC1B,WAAK,OAAO;AACZ,WAAK,UAAU,QAAQ,CAAC,SAA8B;AACrD,cAAM,QAAQ,KAAK,OAAO,OAAO;AACjC,YAAI,KAAK,SAAS,KAAK,GAAG;AACzB,eAAK,MAAM,KAAK,IAAI;AAAA,QACnB,OAAK;AACN,eAAK,MAAM,KAAK,IAAI;AAAA,QACrB;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,UAAU,MAAa;AACtB,UAAI,KAAK,WAAW;AAAM,eAAO;AACjC,UAAI,SAAS,KAAK;AAClB,UAAI,aAAa,OAAO,SAAS,MAAM;AACvC,aAAO,cAAc,MAAM;AAC1B,YAAI,OAAO,WAAW;AAAM,iBAAO;AACnC,iBAAS,OAAO;AAChB,YAAI,OAAO,SAAS,MAAM,KAAK;AAAI,iBAAO;AAC1C,qBAAa,OAAO,SAAS,MAAM;AAAA,MACpC;AACA,WAAK,UAAU;AACf,aAAO;AAAA,IACP;AAAA;AAAA,IAED,QAAK;AACJ,WAAK,UAAU,QAAQ,CAAC,SAA8B;AACrD,aAAK,MAAM,KAAK,IAAI;AAAA,MACrB,CAAC;AACD,WAAK,OAAO;AACZ,WAAK,eAAe,KAAK,IAAI;AAAA,IAC7B;AAAA,IACD,iBAAc;AACb,aAAO,KAAK;AAAA,IACb;AAAA,EACD;CACD;;;;;;;;ACrGD,GAAG,gBAAgB,SAAS;"}