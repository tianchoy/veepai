{"version":3,"file":"fui-badge.js","sources":["uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue?type=component"],"sourcesContent":["<template>\r\n\t<text\r\n\t\t:class=\"[dot?'fui-badge__dot':'fui-badge__wrap',background!=''?'':('fui-badge__bg-'+type),absolute?'fui-badge__absolute':'',scaleRatio!=1 ?'fui-badge__trans-origin':'',background=='' && type=='white'?'fui-badge__text-color':'']\"\r\n\t\t:style=\"{top:absolute?top:'auto',right:absolute?right:'auto',transform:`scale(${scaleRatio})`,marginTop:`${marginTop}rpx`,marginLeft:`${marginLeft}rpx`,marginRight:`${marginRight}rpx`,width:width,color:color,background:background}\"\r\n\t\t@tap=\"handleClick\" v-if=\"showValue!='' || dot\">{{dot?'':showValue}}</text>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * Badge 徽章\r\n\t * @description Badge 徽章，可自定义颜色。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Number} value {Number | String} badge显示文本\r\n\t * @property {Number} max {Number} 最大值，当值超过max时使用+号代替，仅为数字时有效，-1表示不限制\r\n\t * @property {String} type {String}\t类型，有效值：primary，success，warning，danger，purple，white\r\n\t * @property {String} background {String} 背景色，如果设置背景色则type失效\r\n\t * @property {String} color\t{String} 字体颜色\r\n\t * @property {Boolean} dot {Boolean} 是否显示为圆点\r\n\t * @property {Number} marginTop {Number} margin-top值，单位rpx\r\n\t * @property {Number} marginLeft {Number} margin-left值，单位rpx\r\n\t * @property {Number} marginRight {Number} margin-right值，单位rpx\r\n\t * @property {Boolean} absolute {Boolean} 是否绝对定位\r\n\t * @property {String} top {String} top值，需带单位，absolute为true时生效\r\n\t * @property {String} right {String} right值，需带单位，absolute为true时生效\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @event {Function} onclick 点击badge时触发，无返回值，() => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-badge\",\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmax: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'primary'\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#FFFFFF'\r\n\t\t\t},\r\n\t\t\tdot: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tabsolute: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttop: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-8rpx'\r\n\t\t\t},\r\n\t\t\tright: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-18rpx'\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twidth: '0',\r\n\t\t\t\tshowValue: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue() {\r\n\t\t\t\tthis.getWidth()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getWidth()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trpx2px(rpx : number) : number {\r\n\t\t\t\tlet px : number;\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\tconst sys : GetSystemInfoResult = uni.getSystemInfoSync()\r\n\t\t\t\tpx = sys.windowWidth / 750 * rpx\r\n\r\n\t\t\t\treturn px;\r\n\t\t\t},\r\n\t\t\t_getTextWidth(text : string) : string {\r\n\t\t\t\tlet sum = 0;\r\n\t\t\t\tfor (let i = 0, len = text.length; i < len; i++) {\r\n\t\t\t\t\tconst code = text.charCodeAt(i) as number\r\n\t\t\t\t\tif (code <= 255)\r\n\t\t\t\t\t\tsum = sum + 1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tsum = sum + 2;\r\n\t\t\t\t}\r\n\t\t\t\tconst rpx = (text.length > 1 ? 32 : 24) as number;\r\n\t\t\t\tconst px = this.rpx2px(rpx);\r\n\t\t\t\tconst strCode = text.charCodeAt(0) as number;\r\n\t\t\t\tlet multiplier = 12;\r\n\t\t\t\tif (strCode >= 65 && strCode <= 90) {\r\n\t\t\t\t\tmultiplier = 15;\r\n\t\t\t\t}\r\n\t\t\t\treturn `${(sum / 2 * multiplier) + px}px`;\r\n\t\t\t},\r\n\t\t\tgetWidth() {\r\n\t\t\t\tlet max = this.max;\r\n\t\t\t\tlet value : string;\r\n\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\tvalue = this.value as string;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.value == 'number') {\r\n\t\t\t\t\t\tconst val_num = this.value as number;\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = val_num.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = val_num > max ? `${max}+` : val_num.toString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = this.value.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = parseFloat(this.value.toString()) > max ? `${max}+` : `${this.value}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.showValue = value;\r\n\t\t\t\tthis.width = this.dot ? '8px' : this._getTextWidth(value)\r\n\t\t\t},\r\n\t\t\thandleClick() {\r\n\t\t\t\tthis.$emit('onclick');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-color-success: #09BE4F !default;\r\n\t$fui-color-warning: #FFB703 !default;\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-purple: #6831FF !default;\r\n\t$fui-color-white: #FFFFFF !default;\r\n\r\n\t.fui-badge__wrap {\r\n\t\theight: 36rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 36rpx;\r\n\t\tborder-radius: 100px;\r\n\t\tmin-width: 36rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__dot {\r\n\t\theight: 8px !important;\r\n\t\twidth: 8px !important;\r\n\t\tborder-radius: 100px;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__bg-primary {\r\n\t\tbackground-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-success {\r\n\t\tbackground-color: $fui-color-success !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-warning {\r\n\t\tbackground-color: $fui-color-warning !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-danger {\r\n\t\tbackground-color: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-purple {\r\n\t\tbackground-color: $fui-color-purple !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-white {\r\n\t\tbackground-color: $fui-color-white !important;\r\n\t}\r\n\r\n\t.fui-badge__text-color {\r\n\t\tcolor: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__trans-origin {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-badge__absolute {\r\n\t\tposition: absolute;\r\n\t}\r\n</style>","import Component from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","uni"],"mappings":"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"}