{"version":3,"sources":["pages/index/index.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<TopNavBar title=\"首页\" rightText=\"plussign\" @rightEvent=\"addNewDevice\" />\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"video-container\" style=\"border-radius: 15rpx; overflow: hidden;\">\r\n\t\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoSrc\" :controls=\"onLine\" :show-play-btn=\"onLine\"\r\n\t\t\t\t:show-center-play-btn=\"onLine\" :enable-progress-gesture=\"onLine\" :show-fullscreen-btn=\"onLine\"\r\n\t\t\t\t:show-mute-btn=\"onLine\" :direction=\"-90\" object-fit=\"fill\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"device-title\" v-if=\"onLine\">{{deviceTitle}}</view>\r\n\t\t\t\t\t<view class=\"video-right-control\" v-if=\"onLine\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t<l-icon :name=\"forward\" size=\"30\" style=\"padding: 10rpx;background: rgba(255, 255, 255, .7);border-radius: 30rpx;\" @click=\"toDeviceDetail\"></l-icon>\r\n\t\t\t\t\t\t<l-icon :name=\"errIcon\" size=\"30\" style=\"padding: 10rpx;background: rgba(255, 255, 255, .7);border-radius: 30rpx;\" @click=\"errClick\"></l-icon>\r\n\t\t\t\t\t\t<l-icon :name=\"transfer\" size=\"30\" style=\"padding: 10rpx;background: rgba(255, 255, 255, .7);border-radius: 30rpx;\" @click=\"transferClick\"></l-icon>\r\n\t\t\t\t\t\t<l-icon :name=\"replayIcon\" size=\"30\" style=\"padding: 10rpx;background: rgba(255, 255, 255, .7);border-radius: 30rpx;\" @click=\"replay\"></l-icon>\r\n\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"offline\" v-else>\r\n\t\t\t\t\t\t<view class=\"offline-content\">\r\n\t\t\t\t\t\t\t<l-icon name=\"link-unlink\" color=\"#fff\"></l-icon>\r\n\t\t\t\t\t\t\t<text class=\"offline-title\">设备断线了</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"time\">2025-07-21 14:33</text>\r\n\t\t\t\t\t\t<fui-button color=\"#1296db\" text=\"查看帮助\" radius=\"50rpx\" :size=\"22\" background=\"#fff\" width=\"120rpx\" height=\"40rpx\"></fui-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</video>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- <view class=\"video-bottom-control\">\r\n\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t<image class=\"vedio-control-icon\" @click=\"pauseClick\" :src=\"pauseIcon\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport TopNavBar from '@/components/TopNavBar.uvue'\r\n\r\n\tconst deviceTitle = ref('设备名称')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst forward = '/static/video/forward.png'\r\n\tconst errIcon = '/static/video/error.png'\r\n\tconst transfer = '/static/video/transfer.png'\r\n\tconst replayIcon = '/static/video/replay.png'\r\n\tconst playIcon = '/static/video/play.png'\r\n\tconst pauseIcon = '/static/video/pause.png'\r\n\tconst addIcon = '/static/tabbar/add.png'\r\n\tconst videoSrc = \"/static/video/video.mp4\"\r\n\tconst onLine = ref<boolean>(true)\r\n\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tconsole.log('视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\tconst replay = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/deviceReplay'\r\n\t\t})\r\n\t}\r\n\r\n\tconst transferClick = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/mine/rechargeDataTraffic/rechargeDataTraffic'\r\n\t\t})\r\n\t}\r\n\r\n\tconst errClick = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl:'/pages/message/message'\r\n\t\t})\r\n\t}\r\n\r\n\tconst toDeviceDetail = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '设备详情',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/index/deviceDetail'\r\n\t\t})\r\n\t}\r\n\r\n\tconst pauseClick = () => {\r\n\r\n\r\n\r\n\t\tvideoContext.value!!.pause();\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '暂停',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst addNewDevice = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/addNewDevice/addNewDevice'\r\n\t\t})\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.content {\r\n\t\t\tposition: relative;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400rpx;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.video-container {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.video {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmargin-bottom: 0; \r\n\t\t\t\t.device-title{\r\n\t\t\t\t\tbackground:rgba(0, 0, 0, .3);\r\n\t\t\t\t\tpadding:10rpx;\r\n\r\n\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t.video-right-control {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tright: 10rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\theight: 90%;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tz-index: 2;\r\n\t\t\t\t\t.vedio-control {\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\t\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.offline{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: rgba(255,255,255, .7);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t.offline-title{\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.time{\r\n\t\t\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.offline-content{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.video-top-title {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\tpadding: 15rpx 0 0 20rpx;\r\n\t\t\t\tbackground: linear-gradient(to right,\r\n\t\t\t\t\t\trgba(255, 255, 255, 0.5),\r\n\t\t\t\t\t\trgba(255, 255, 255, 0));\r\n\t\t\t\tz-index: 3; // 确保标题显示在视频上方\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\t.video-bottom-control {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 10rpx;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tz-index: 1;\r\n\r\n\t\t\t\t.vedio-control {\r\n\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\r\n\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>"]}