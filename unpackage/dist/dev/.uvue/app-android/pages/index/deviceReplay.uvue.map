{"version":3,"sources":["pages/index/deviceReplay.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 日期选择滚动条 -->\r\n\t\t<scroll-view class=\"date-scroll\" scroll-x :scroll-left=\"dateScrollLeft\">\r\n\t\t\t<view class=\"date-list\">\r\n\t\t\t\t<view v-for=\"(date, index) in dateList\" :key=\"index\"\r\n\t\t\t\t\t:class=\"['date-item', activeDate === date ? 'active' : '']\" @tap=\"selectDate(date)\">\r\n\t\t\t\t\t{{ date }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<!-- 视频播放区域 -->\r\n\t\t<view class=\"video-container\">\r\n\t\t\t<video id=\"myVideo\" :src=\"videoSrc\" :controls=\"true\" class=\"video-player\" @timeupdate=\"onTimeUpdate\"\r\n\t\t\t\t@play=\"onPlay\" @pause=\"onPause\" @durationchange=\"onDurationChange\" @seeked=\"onSeeked\"></video>\r\n\t\t</view>\r\n\r\n\t\t<!-- 可拖动时间轴 -->\r\n\t\t<view class=\"time-ruler-container\">\r\n\t\t\t<scroll-view class=\"time-ruler-scroll\" scroll-x :scroll-left=\"timeScrollLeft\" scroll-with-animation\r\n\t\t\t\t@scroll=\"onTimeScroll\">\r\n\t\t\t\t<view class=\"time-ruler\" :style=\"{ width: rulerWidth + 'px' }\" @touchstart=\"onTouchStart\"\r\n\t\t\t\t\t@touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n\t\t\t\t\t<!-- 动态时间刻度 -->\r\n\t\t\t\t\t<view v-for=\"(mark, index) in timeMarks\" :key=\"'mark-' + index\" :class=\"['time-mark', mark.type]\"\r\n\t\t\t\t\t\t:style=\"{ left: mark.position + 'px' }\" @tap=\"seekToPosition(mark.time)\">\r\n\t\t\t\t\t\t<!-- 主刻度标签 -->\r\n\t\t\t\t\t\t<text v-if=\"mark.type === 'major'\" class=\"mark-label\">{{ formatMarkTime(mark.time) }}</text>\r\n\t\t\t\t\t\t<!-- 事件标记点 -->\r\n\t\t\t\t\t\t<view v-if=\"hasEventAtTime(mark.time)\" :class=\"['event-dot', getEventTypeAtTime(mark.time)]\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 播放头指示器 -->\r\n\t\t\t\t\t<view class=\"playhead\" :style=\"{ left: playheadPosition + 'px' }\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 事件筛选工具栏 -->\r\n\t\t<view class=\"filter-bar\">\r\n\t\t\t<view v-for=\"filter in filters\" :key=\"filter.value\"\r\n\t\t\t\t:class=\"['filter-item', activeFilter === filter.value ? 'active' : '']\"\r\n\t\t\t\t@tap=\"selectFilter(filter.value as string)\">\r\n\t\t\t\t{{ filter.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted, getCurrentInstance } from 'vue'\r\n\r\n\tclass EventType {\r\n\t\tdate : string;\r\n\t\ttime : string;\r\n\t\ttype : string;\r\n\r\n\t\tconstructor(date : string, time : string, type : string) {\r\n\t\t\tthis.date = date;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\t}\r\n\t// 响应式状态\r\n\tconst currentDate = ref('2024-10-21')\r\n\tconst currentTime = ref('00:00:00')\r\n\tconst activeDate = ref('10-21')\r\n\tconst activeFilter = ref('all')\r\n\tconst videoSrc = ref('https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst isSeeking = ref(false)\r\n\tconst timeScrollLeft = ref(0)\r\n\tconst dateScrollLeft = ref(0)\r\n\tconst playheadPosition = ref(0)\r\n\tconst videoDuration = ref(0)\r\n\tconst lastSyncTime = ref(0)\r\n\tconst isDragging = ref(false)\r\n\tconst startX = ref(0)\r\n\tconst startScrollLeft = ref(0)\r\n\tconst lastDragTime = ref(0)\r\n\tconst manualScrollPosition = ref(0)\r\n\tconst draggedTimeInSeconds = ref(0)\r\n\r\n\r\n\t// 常量配置\r\n\tconst dateList = ['10-21', '10-22', '10-23', '10-24', '10-25', '10-26']\r\n\tconst filters = [\r\n\t\t{ label: '只看报警', value: 'alarm' },\r\n\t\t{ label: '移动侦测', value: 'motion' },\r\n\t\t{ label: '人形侦测', value: 'human' },\r\n\t\t{ label: '全部', value: 'all' }\r\n\t]\r\n\r\n\t// 模拟事件数据\r\n\tconst events = ref<EventType[]>([\r\n\t\t{ date: '10-21', time: '00:15', type: 'alarm' },\r\n\t\t{ date: '10-21', time: '00:30', type: 'motion' },\r\n\t\t{ date: '10-21', time: '01:45', type: 'human' },\r\n\t\t{ date: '10-21', time: '01:20', type: 'alarm' }\r\n\t])\r\n\r\n\r\n\t// 计算属性\r\n  const rulerWidth = computed(() => {\r\n\t\tconst pixelsPerSecond = 3.5; \r\n\t\treturn videoDuration.value * pixelsPerSecond;\r\n\t})\r\n\t// 每秒钟对应的像素数\r\n\tconst pixelsPerSecond = computed(() => {\r\n\t\treturn rulerWidth.value / 21\r\n\t})\r\n\r\n  \r\n\t// 时间字符串转秒数\r\n\tconst convertTimeToSeconds = (timeStr : string) => {\r\n\t\tconst parts = timeStr.split(':')\r\n\t\tconst h = parseInt(parts[0])\r\n\t\tconst m = parseInt(parts[1])\r\n\t\tconst s = parts.length > 2 ? parseInt(parts[2]) : 0\r\n\t\treturn h * 3600 + m * 60 + s\r\n\t}\r\n\t\r\n\r\n\t// 计算时间刻度\r\n\ttype TimeMark = {\r\n\t\ttime : number\r\n\t\tposition : number\r\n\t\ttype : string\r\n\t}\r\nconst timeMarks = computed(() => {\r\n    const marks = [] as TimeMark[]\r\n    const duration = videoDuration.value\r\n    if (duration === 0) return marks\r\n\r\n    let majorInterval: number;\r\n    if (duration <= 60) { \r\n        majorInterval = 10; \r\n    } else if (duration <= 300) { \r\n        majorInterval = 30; \r\n    } else if (duration <= 1800) { \r\n        majorInterval = 60; \r\n    } else if (duration <= 3600) { \r\n        majorInterval = 300; \r\n    } else if (duration <= 7200) { \r\n        majorInterval = 600; \r\n    } else { \r\n        majorInterval = 1800; \r\n    }\r\n\r\n    const minorInterval = majorInterval / 5;\r\n\r\n    for (let time = 0; time <= duration; time += minorInterval) {\r\n        const isMajor = (time % majorInterval) === 0;\r\n        marks.push({\r\n            time,\r\n            position: (time / duration) * rulerWidth.value,\r\n            type: isMajor ? 'major' : 'minor'\r\n        });\r\n    }\r\n    console.log('生成的刻度数量:', marks.length);\r\n    return marks;\r\n});\r\n\r\n\r\n\t// 格式化刻度时间\r\n\tconst formatMarkTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\r\n\t\tif (hrs > 0) {\r\n\t\t\treturn `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t\t}\r\n\t\treturn `${mins}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\t// 检查指定时间是否有事件\r\n\tconst hasEventAtTime = (time : number) => {\r\n\t\treturn events.value.some(event => {\r\n\t\t\tconst eventTime = convertTimeToSeconds(event.time)\r\n\t\t\treturn Math.abs(eventTime - time) < 5 // 5秒容差\r\n\t\t})\r\n\t}\r\n\r\n\t// 获取事件类型\r\n\tconst getEventTypeAtTime = (time : number) => {\r\n\t\tconst event = events.value.find(event => {\r\n\t\t\tconst eventTime = convertTimeToSeconds(event.time)\r\n\t\t\treturn Math.abs(eventTime - time) < 5 // 5秒容差\r\n\t\t})\r\n\t\treturn event != null ? event.type : ''\r\n\t}\r\n\r\n\r\n\r\n\tconst filteredEvents = computed<EventType[]>(() => {\r\n\t\tif (activeFilter.value === 'all') return events.value\r\n\t\treturn events.value.filter((e) => e.type === activeFilter.value)\r\n\t})\r\n\r\n\tconst onDurationChange = (e : UTSJSONObject) => {\r\n\t\tconsole.log(e)\r\n\t}\r\n\r\n\t// 初始化视频上下文\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tconsole.log('视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\t// 加载视频数据\r\n\tconst loadVideoData = (date : String) => {\r\n\t\tconsole.log('加载日期数据:', date)\r\n\t}\r\n\r\n\r\n\t// 选择日期\r\n\tconst selectDate = (date : string) => {\r\n\t\tactiveDate.value = date\r\n\t\tcurrentDate.value = `2024-${date}`\r\n\t\tloadVideoData(date)\r\n\r\n\t\tconst index = dateList.indexOf(date)\r\n\t\tdateScrollLeft.value = index * 80\r\n\t}\r\n\r\n\t// 格式化时间显示\r\n\tconst formatTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\t\treturn `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\r\n\t// 更新播放头位置\r\n\tconst updatePlayheadPosition = (currentTimeInSeconds : number) => {\r\n\t\tconst newPosition = currentTimeInSeconds * pixelsPerSecond.value / 6\r\n\t\tplayheadPosition.value = newPosition\r\n\r\n\t\tif (Math.abs(manualScrollPosition.value - newPosition) > 60) {\r\n\t\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\t\tconst scrollViewWidth = systemInfo.windowWidth != null ? systemInfo.windowWidth : 375\r\n\t\t\tconst halfWidth = scrollViewWidth / 2\r\n\t\t\tconst targetScrollLeft = newPosition - halfWidth\r\n\r\n\t\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, targetScrollLeft))\r\n\t\t}\r\n\t}\r\n\r\n\t// 视频时间更新 \r\n\tconst onTimeUpdate = (e : UniVideoTimeUpdateEvent) => {\r\n\t\tif (isSeeking.value || isDragging.value) return\r\n    \r\n\t\tconst currentTimeInSeconds = e.detail.currentTime\r\n\t\tcurrentTime.value = formatTime(currentTimeInSeconds)\r\n    videoDuration.value = e.detail.duration;\r\n\r\n\t\t// 节流处理\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastSyncTime.value < 200) return\r\n\t\tlastSyncTime.value = now\r\n\r\n\t\tupdatePlayheadPosition(currentTimeInSeconds)\r\n\t}\r\n\r\n\tconst seekToSeconds = (timeInSeconds : number) => {\r\n\t\tisSeeking.value = true\r\n\t\tmanualScrollPosition.value = timeInSeconds * 2\r\n\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t}\r\n\r\n\t\tplayheadPosition.value = timeInSeconds * 2\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t}\r\n\r\n\t// 跳转到指定时间\r\n\tconst seekToTime = (hour : number, minute : number) => {\r\n\t\tconst timeInSeconds = hour * 3600 + minute * 60\r\n\t\tseekToSeconds(timeInSeconds)\r\n\t}\r\n\t// 跳转到指定位置(秒)\r\n\tconst seekToPosition = (seconds : number) => {\r\n\t\tseekToSeconds(seconds)\r\n\t}\r\n\r\n\t// 跳转完成\r\n\tconst onSeeked = () => {\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 时间轴触摸开始\r\n\tconst onTouchStart = (e : TouchEvent) => {\r\n\t\tisDragging.value = true\r\n\t\tstartX.value = e.touches[0].pageX\r\n\t\tstartScrollLeft.value = timeScrollLeft.value\r\n\t\tlastDragTime.value = Date.now()\r\n\r\n\t\tisSeeking.value = true\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.pause()\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸移动\r\n\tconst onTouchMove = (e : TouchEvent) => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\tconst deltaX = e.touches[0].pageX - startX.value\r\n\t\tconst newScrollLeft = startScrollLeft.value - deltaX\r\n\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth != null ? systemInfo.windowWidth : 375\r\n\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, newScrollLeft))\r\n\r\n\t\t// 计算当前时间位置（基于触摸点位置）\r\n\t\tconst touchX = e.touches[0].pageX\r\n\t\tconst rulerStartX = touchX - startX.value + startScrollLeft.value\r\n\t\tconst timeInSeconds = rulerStartX / 2\r\n\r\n\t\t// 更新显示\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\tplayheadPosition.value = timeInSeconds * 2\r\n\t\tmanualScrollPosition.value = timeInSeconds * 2\r\n\r\n\t\t// 实时跳转视频(节流处理)\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastDragTime.value > 100) {\r\n\t\t\tif (videoContext.value != null) {\r\n\t\t\t\tconsole.log('尝试跳转视频到:', timeInSeconds, '秒');\r\n\t\t\t\tdraggedTimeInSeconds.value = timeInSeconds\r\n\t\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t\t}\r\n\t\t\tlastDragTime.value = now\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸结束\r\n\tconst onTouchEnd = () => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\t// 计算最终时间位置\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth != null ? systemInfo.windowWidth : 375\r\n\t\tconst timeInSeconds = (timeScrollLeft.value + scrollViewWidth / 2) / 2\r\n\r\n\r\n\t\t// 精确跳转\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tconsole.log('尝试跳转视频到最终时间:', draggedTimeInSeconds.value, '秒');\r\n\t\t\tvideoContext.value.seek(draggedTimeInSeconds.value)\r\n\t\t\tvideoContext.value.play()\r\n\t\t}\r\n\r\n\t\tplayheadPosition.value = timeInSeconds * 2\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\tmanualScrollPosition.value = timeInSeconds * 2\r\n\r\n\t\tisDragging.value = false\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 定义滚动事件detail类型\r\n\ttype TimeScrollDetail = {\r\n\t\tscrollLeft : number\r\n\t}\r\n\t// 定义滚动事件类型\r\n\ttype TimeScrollEvent = {\r\n\t\tdetail : TimeScrollDetail\r\n\t}\r\n\t// 时间轴滚动事件\r\n\tconst onTimeScroll = (e : TimeScrollEvent) => {\r\n\t\tif (!isDragging.value) {\r\n\t\t\ttimeScrollLeft.value = e.detail.scrollLeft\r\n\t\t}\r\n\t}\r\n\r\n\t// 选择筛选条件\r\n\tconst selectFilter = (filter : string) => {\r\n\t\tactiveFilter.value = filter\r\n\t}\r\n\r\n\t// 检查指定时间是否有事件\r\n\tconst hasEvent = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst events = filteredEvents.value\r\n\t\tfor (let i = 0; i < events.length; i++) {\r\n\t\t\tconst event = events[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\t// 获取事件类型\r\n\tconst getEventType = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst eventsList = events.value\r\n\t\tfor (let i = 0; i < eventsList.length; i++) {\r\n\t\t\tconst event = eventsList[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn event.type\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\r\n\t// 格式化小时显示\r\n\tconst formatHour = (hour : number) => {\r\n\t\treturn `${hour.toString().padStart(2, '0')}:00`\r\n\t}\r\n\r\n\t// 播放/暂停事件\r\n\tconst onPlay = () => {\r\n\t\tconsole.log('视频开始播放')\r\n\r\n\t}\r\n\r\n\tconst onPause = () => {\r\n\t\tconsole.log('视频暂停')\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t\tif (videoContext.value == null) {\r\n\t\t\tconsole.error('视频上下文初始化失败，请检查');\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.header {\r\n\t\tpadding: 15px;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.current-time {\r\n\t\tfont-size: 14px;\r\n\t\topacity: 0.9;\r\n\t}\r\n\r\n\r\n\t.date-list {\r\n\t\tdisplay: inline-flex;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\r\n\t.date-item {\r\n\t\tpadding: 8px 16px;\r\n\t\tmargin: 0 5px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 14px;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.date-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tfont-weight: bold;\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.video-container {\r\n\t\twidth: 100%;\r\n\t\theight: 250px;\r\n\t\tbackground-color: #000;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.video-player {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.time-ruler-container {\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px 0;\r\n\t\tbackground-color: #333;\r\n\t\tposition: relative;\r\n\t\tz-index: 5;\r\n\t\tbox-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);\r\n\t}\r\n\r\n\t.time-ruler-scroll {\r\n\t\twidth: 100%;\r\n\t\theight: 70px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.time-ruler {\r\n\t\tdisplay: inline-flex;\r\n\t\theight: 100%;\r\n\t\tpadding-left: 10px;\r\n\t\tposition: relative;\r\n\t\ttouch-action: none;\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\r\n\t.event-dot {\r\n\t\tposition: absolute;\r\n\t\ttop: 8px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tborder-radius: 50%;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\t.event-dot.alarm {\r\n\t\tbackground-color: #ff3b30;\r\n\t\tbox-shadow: 0 0 5px #ff3b30;\r\n\t}\r\n\r\n\t.event-dot.motion {\r\n\t\tbackground-color: #ff9500;\r\n\t\tbox-shadow: 0 0 5px #ff9500;\r\n\t}\r\n\r\n\t.event-dot.human {\r\n\t\tbackground-color: #34c759;\r\n\t\tbox-shadow: 0 0 5px #34c759;\r\n\t}\r\n\r\n\t.playhead {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 2px;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #007aff;\r\n\t\tz-index: 10;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.playhead::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: -6px;\r\n\t\twidth: 14px;\r\n\t\theight: 14px;\r\n\t\tbackground-color: #007aff;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 2px solid white;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.filter-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding: 12px 5px;\r\n\t\tbackground-color: #333;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 20;\r\n\t\tbox-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);\r\n\t}\r\n\r\n\t.filter-item {\r\n\t\tpadding: 8px 12px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 12px;\r\n\t\ttransition: all 0.2s;\r\n\t\tflex: 1;\r\n\t\tmargin: 0 5px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.filter-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tfont-weight: bold;\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.time-mark {\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 1px;\r\n    background-color: #fff;\r\n    transform: translateX(-50%);\r\n    /* 确保刻度不会被隐藏 */\r\n    pointer-events: auto; \r\n}\r\n\r\n.time-mark.major {\r\n    height: 20px;\r\n    background-color: #fff;\r\n    width: 2px;\r\n}\r\n\r\n.time-mark.minor {\r\n    height: 10px;\r\n}\r\n\r\n\t.mark-label {\r\n\t\tposition: absolute;\r\n\t\tbottom: -20px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 10px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.event-dot {\r\n\t\tposition: absolute;\r\n\t\ttop: -15px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tborder-radius: 50%;\r\n\t\tz-index: 2;\r\n\t}\r\n</style>"]}