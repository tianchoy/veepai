{"version":3,"sources":["pages/index/deviceReplay.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"video-container\">\r\n\t\t\t<video id=\"myVideo\" :src=\"videoSrc\" :controls=\"true\" class=\"video-player\" @timeupdate=\"onTimeUpdate\"\r\n\t\t\t\t@play=\"onPlay\" @pause=\"onPause\" @seeked=\"onSeeked\" :autoplay=\"true\" @loadedmetadata=\"onVideoLoaded\"></video>\r\n\t\t</view>\r\n\t\t<view class=\"time-ruler-container\">\r\n\t\t\t<scroll-view class=\"time-ruler-scroll\" scroll-x :scroll-left=\"timeScrollLeft\" scroll-with-animation\r\n\t\t\t\t@scroll=\"onTimeScroll\">\r\n\t\t\t\t<view class=\"time-ruler\" :style=\"{ width: rulerWidth + 'px' }\" @touchstart=\"onTouchStart\"\r\n\t\t\t\t\t@touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n\t\t\t\t\t<view v-for=\"(mark, index) in timeMarks\" :key=\"'mark-' + index\" :class=\"['time-mark', mark.type]\"\r\n\t\t\t\t\t\t:style=\"{ left: mark.position + 'px' }\" @click=\"seekToPosition(mark.time)\">\r\n\t\t\t\t\t\t<text v-if=\"mark.type == 'major'\" class=\"mark-label\"></text>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-for=\"(event, index) in filteredEvents\" :key=\"'event-'+index\" \r\n\t\t\t\t\t\tclass=\"event-marker\"\r\n\t\t\t\t\t\t:style=\"{ left: getEventPosition(event) + 'px' }\"\r\n\t\t\t\t\t\t@click.stop=\"seekToEvent(event)\">\r\n\t\t\t\t\t\t<view :class=\"['event-dot', event.type]\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"playhead\" :style=\"{ left: playheadPosition + 'px'}\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<view class=\"date-list\">\r\n\t\t\t<view v-for=\"(date, index) in dateList\" :key=\"index\"\r\n\t\t\t\t:class=\"['date-item', activeDate == date ? 'active' : '']\" @click=\"selectDate(date)\">\r\n\t\t\t\t{{ date }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"filter-bar\">\r\n\t\t\t<view v-for=\"filter in filters\" :key=\"filter.value\"\r\n\t\t\t\t:class=\"['filter-item', activeFilter == filter.value ? 'active' : '']\"\r\n\t\t\t\t@click=\"selectFilter(filter.value as string)\">\r\n\t\t\t\t{{ filter.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted, getCurrentInstance } from 'vue'\r\n\r\n\tclass EventType {\r\n\t\tdate : string;\r\n\t\ttime : string;\r\n\t\ttype : string;\r\n\r\n\t\tconstructor(date : string, time : string, type : string) {\r\n\t\t\tthis.date = date;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\t// 计算时间刻度\r\n\ttype TimeMark = {\r\n\t\ttime : number\r\n\t\tposition : number\r\n\t\ttype : string\r\n\t}\r\n\t// 响应式状态\r\n\tconst currentDate = ref('2024-10-21')\r\n\tconst currentTime = ref('00:00:00')\r\n\tconst activeDate = ref('10-21')\r\n\tconst activeFilter = ref('all')\r\n\tconst videoSrc = ref('/static/video/video.mp4')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst isSeeking = ref(false)\r\n\tconst timeScrollLeft = ref(0)\r\n\tconst playheadPosition = ref(0)\r\n\tconst videoDuration = ref(0)\r\n\tconst lastSyncTime = ref(0)\r\n\tconst isDragging = ref(false)\r\n\tconst startX = ref(0)\r\n\tconst startScrollLeft = ref(0)\r\n\tconst lastDragTime = ref(0)\r\n\tconst manualScrollPosition = ref(0)\r\n\tconst draggedTimeInSeconds = ref(0)\r\n\r\n\r\n\t// 常量配置\r\n\tconst dateList = ['10-21', '10-22', '10-23', '10-24', '10-25', '10-26']\r\n\tconst filters = [\r\n\t\t{ label: '只看报警', value: 'alarm' },\r\n\t\t{ label: '移动侦测', value: 'motion' },\r\n\t\t{ label: '人形侦测', value: 'human' },\r\n\t\t{ label: '全部', value: 'all' }\r\n\t]\r\n\r\n\t// 模拟事件数据\r\n\tconst events = ref<EventType[]>([\r\n\t\t{ date: '10-21', time: '00:00:10', type: 'alarm' },\r\n\t\t{ date: '10-21', time: '00:00:30', type: 'motion' },\r\n\t\t{ date: '10-21', time: '00:01:45', type: 'human' },\r\n\t\t{ date: '10-21', time: '00:01:20', type: 'alarm' }\r\n\t])\r\n\r\n\t// 计算属性\r\n\tconst rulerWidth = computed(() => {\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\treturn systemInfo.windowWidth\r\n\t})\r\n\r\n\r\n\t// 时间字符串转秒数\r\n\tconst convertTimeToSeconds = (timeStr : string) => {\r\n\t\tconst parts = timeStr.split(':')\r\n\t\tconst h = parseInt(parts[0])\r\n\t\tconst m = parseInt(parts[1])\r\n\t\tconst s = parts.length > 2 ? parseInt(parts[2]) : 0\r\n\t\treturn h * 3600 + m * 60 + s\r\n\t}\r\n\r\n\tconst timeMarks = computed<TimeMark[]>(() => {\r\n\t\tconst marks = [] as TimeMark[]\r\n\t\tconst duration = videoDuration.value\r\n\t\tif (duration == 0) return marks\r\n\r\n\t\tlet majorInterval : number\r\n\t\tif (duration <= 60) { \r\n\t\t\tmajorInterval = 10\r\n\t\t} else if (duration <= 300) {\r\n\t\t\tmajorInterval = 30\r\n\t\t} else if (duration <= 1800) {\r\n\t\t\tmajorInterval = 60\r\n\t\t} else if (duration <= 3600) {\r\n\t\t\tmajorInterval = 300\r\n\t\t} else if (duration <= 7200) { \r\n\t\t\tmajorInterval = 600\r\n\t\t} else {\r\n\t\t\tmajorInterval = 1800\r\n\t\t}\r\n\r\n\t\tconst minorInterval = majorInterval / 10\r\n\r\n\t\tconst pixelsPerSecond = rulerWidth.value / duration\r\n\r\n\t\tfor (let time = 0; time <= duration; time += minorInterval) {\r\n\t\t\tconst isMajor = (time % majorInterval) == 0\r\n\t\t\tmarks.push({\r\n\t\t\t\ttime,\r\n\t\t\t\tposition: time * pixelsPerSecond + 3,\r\n\t\t\t\ttype: isMajor ? 'major' : 'minor'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn marks\r\n\t})\r\n\r\n\tconst onVideoLoaded = (e: UTSJSONObject) => {\r\n\t\tvideoDuration.value = e['duration'] as number\r\n\t\tconsole.log('视频加载完成，时长:', videoDuration.value)\r\n\t}\r\n\r\n\r\n\t// 格式化刻度时间\r\n\tconst formatMarkTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\r\n\t\tif (hrs > 0) {\r\n\t\t\treturn `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t\t}\r\n\t\treturn `${mins}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\tconst filteredEvents = computed<EventType[]>(() => {\r\n\t\tif (activeFilter.value === 'all') return events.value\r\n\t\treturn events.value.filter((e) => e.type === activeFilter.value)\r\n\t})\r\n\r\n\t// 初始化视频上下文\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tconsole.log('视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\t// 加载视频数据\r\n\tconst loadVideoData = (date : String) => {\r\n\t\tconsole.log('加载日期数据:', date)\r\n\t}\r\n\r\n\r\n\t// 选择日期\r\n\tconst selectDate = (date : string) => {\r\n\t\tactiveDate.value = date\r\n\t\tcurrentDate.value = `2024-${date}`\r\n\t\tloadVideoData(date)\r\n\t}\r\n\r\n\t// 格式化时间显示\r\n\tconst formatTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\t\treturn `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\r\n\t// 更新播放头位置\r\n\tconst updatePlayheadPosition = (currentTimeInSeconds : number) => {\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value\r\n\t\tplayheadPosition.value = currentTimeInSeconds * pixelsPerSecond\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\t\tconst halfWidth = scrollViewWidth / 2\r\n\t\tconst targetScrollLeft = playheadPosition.value - halfWidth\r\n\r\n\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, targetScrollLeft))\r\n\t}\r\n\r\n\t// 视频时间更新 \r\n\tconst onTimeUpdate = (e : UniVideoTimeUpdateEvent) => {\r\n\t\tif (isSeeking.value || isDragging.value) return\r\n\r\n\t\tconst currentTimeInSeconds = e.detail.currentTime\r\n\t\tcurrentTime.value = formatTime(currentTimeInSeconds)\r\n\t\tvideoDuration.value = e.detail.duration;\r\n\t\t// 节流处理\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastSyncTime.value < 200) return\r\n\t\tlastSyncTime.value = now\r\n\r\n\t\tupdatePlayheadPosition(currentTimeInSeconds - 1)\r\n\t}\r\n\r\n\tconst seekToSeconds = (timeInSeconds: number) => {\r\n\t\tconsole.log('尝试跳转到:', timeInSeconds, '秒')\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.pause()\r\n\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tvideoContext.value?.play()\r\n\t\t\t\tconsole.log('跳转完成，应开始播放')\r\n\t\t\t}, 100)\r\n\t\t}\r\n\t}\r\n\r\n\t// 获取事件位置\r\n\tconst getEventPosition = (event: EventType) => {\r\n\t\tconst seconds = convertTimeToSeconds(event.time)\r\n\t\tconst duration = videoDuration.value != 0 ? videoDuration.value : 300 // 默认5分钟\r\n\t\tconst pixelsPerSecond = rulerWidth.value / duration\r\n\t\treturn seconds * pixelsPerSecond\r\n\t}\r\n\r\n\t// 跳转到事件时间点\r\n\tconst seekToEvent = (event: EventType) => {\r\n\t\tconst seconds = convertTimeToSeconds(event.time)\r\n\t\tconsole.log('点击事件时间点：', seconds, '秒', '当前视频时长:', videoDuration.value)\r\n\t\t\r\n\t\tif (videoContext.value == null) {\r\n\t\t\tconsole.error('视频上下文未初始化')\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tisSeeking.value = true\r\n\t\tcurrentTime.value = formatTime(seconds)\r\n\t\tplayheadPosition.value = getEventPosition(event)\r\n\t\t\r\n\t\t// 先暂停再跳转\r\n\t\tvideoContext.value.pause()\r\n\t\tvideoContext.value.seek(seconds)\r\n\t\t\r\n\t\t// 小延迟后播放确保跳转完成\r\n\t\tsetTimeout(() => {\r\n\t\t\tvideoContext.value?.play()\r\n\t\t\tisSeeking.value = false\r\n\t\t\tconsole.log('应已跳转到指定位置并开始播放')\r\n\t\t}, 150)\r\n\t}\r\n\r\n\r\n\t// 跳转到指定时间\r\n\tconst seekToTime = (hour : number, minute : number) => {\r\n\t\tconst timeInSeconds = hour * 3600 + minute * 60\r\n\t\tseekToSeconds(timeInSeconds)\r\n\t}\r\n\t// 跳转到指定位置(秒)\r\n\tconst seekToPosition = (seconds : number) => {\r\n\t\tseekToSeconds(seconds)\r\n\t}\r\n\r\n\t// 跳转完成\r\n\tconst onSeeked = () => {\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 时间轴触摸开始\r\n\tconst onTouchStart = (e : TouchEvent) => {\r\n\t\tisDragging.value = true\r\n\t\tstartX.value = e.touches[0].pageX\r\n\t\tstartScrollLeft.value = startX.value\r\n\t\tlastDragTime.value = Date.now()\r\n\r\n\t\tisSeeking.value = true\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.pause()\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸移动\r\n\tconst onTouchMove = (e : TouchEvent) => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\tconst deltaX = e.touches[0].pageX - startX.value\r\n\t\tconst newScrollLeft = startScrollLeft.value - deltaX\r\n\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\r\n\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, newScrollLeft))\r\n\r\n\t\t// 计算当前时间位置（基于触摸点位置）\r\n\t\tconst touchX = e.touches[0].pageX\r\n\t\tconst rulerStartX = touchX - startX.value + startScrollLeft.value\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value\r\n\t\tconst timeInSeconds = rulerStartX / pixelsPerSecond\r\n\r\n\t\t// 更新显示\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\tplayheadPosition.value = timeInSeconds * pixelsPerSecond\r\n\t\tmanualScrollPosition.value = timeInSeconds * pixelsPerSecond\r\n\r\n\t\t// 实时跳转视频(节流处理)\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastDragTime.value > 100) {\r\n\t\t\tif (videoContext.value != null) {\r\n\t\t\t\tconsole.log('尝试跳转视频到:', timeInSeconds, '秒');\r\n\t\t\t\tdraggedTimeInSeconds.value = timeInSeconds\r\n\t\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t\t}\r\n\t\t\tlastDragTime.value = now\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸结束\r\n\tconst onTouchEnd = () => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\t// 计算最终时间位置\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value;\r\n\t\tconst timeInSeconds = (timeScrollLeft.value + scrollViewWidth / 2) / pixelsPerSecond;\r\n\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tconsole.log('尝试跳转视频到最终时间:', draggedTimeInSeconds.value, '秒');\r\n\t\t\tvideoContext.value.seek(draggedTimeInSeconds.value)\r\n\t\t\tvideoContext.value.play()\r\n\t\t}\r\n\r\n\t\tplayheadPosition.value = timeInSeconds * pixelsPerSecond\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\t// manualScrollPosition.value = timeInSeconds * 2\r\n\r\n\t\tisDragging.value = false\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 定义滚动事件detail类型\r\n\ttype TimeScrollDetail = {\r\n\t\tscrollLeft : number\r\n\t}\r\n\t// 定义滚动事件类型\r\n\ttype TimeScrollEvent = {\r\n\t\tdetail : TimeScrollDetail\r\n\t}\r\n\t// 时间轴滚动事件\r\n\tconst onTimeScroll = (e : TimeScrollEvent) => {\r\n\t\tif (!isDragging.value) {\r\n\t\t\ttimeScrollLeft.value = e.detail.scrollLeft\r\n\t\t}\r\n\t}\r\n\r\n\t// 选择筛选条件\r\n\tconst selectFilter = (filter : string) => {\r\n\t\tactiveFilter.value = filter\r\n\t}\r\n\r\n\t// 检查指定时间是否有事件\r\n\tconst hasEvent = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst events = filteredEvents.value\r\n\t\tfor (let i = 0; i < events.length; i++) {\r\n\t\t\tconst event = events[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\t// 获取事件类型\r\n\tconst getEventType = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst eventsList = events.value\r\n\t\tfor (let i = 0; i < eventsList.length; i++) {\r\n\t\t\tconst event = eventsList[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn event.type\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\r\n\t// 格式化小时显示\r\n\tconst formatHour = (hour : number) => {\r\n\t\treturn `${hour.toString().padStart(2, '0')}:00`\r\n\t}\r\n\r\n\t// 播放/暂停事件\r\n\tconst onPlay = () => {\r\n\t\tconsole.log('视频开始播放')\r\n\r\n\t}\r\n\r\n\tconst onPause = () => {\r\n\t\tconsole.log('视频暂停')\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t\tif (videoContext.value == null) {\r\n\t\t\tconsole.error('视频上下文初始化失败，请检查');\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\r\n\t.date-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.date-item {\r\n\t\tpadding: 8px 16px;\r\n\t\tmargin: 0 5px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 14px;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.date-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.video-container {\r\n\t\twidth: 100%;\r\n\t\theight: 250px;\r\n\t\tbackground-color: #000;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.video-player {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.time-ruler-container {\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px 0;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: relative;\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\t.time-ruler-scroll {\r\n\t\twidth: 100%;\r\n\t\theight: 70px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.playhead {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 2px;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #007aff;\r\n\t\tz-index: 10;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.filter-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tflex-direction: row;\r\n\t\tpadding: 12px 5px;\r\n\t\tbackground-color: #fff;\r\n\t\tz-index: 20;\r\n\t}\r\n\r\n\t.filter-item {\r\n\t\tpadding: 8px 12px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 12px;\r\n\t\ttransition: all 0.2s;\r\n\t\tflex: 1;\r\n\t\tmargin: 0 5px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.filter-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tfont-weight: bold;\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.time-ruler {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.time-mark {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\ttransform: translateX(-50%);\r\n\t\tpointer-events: auto;\r\n\t}\r\n\r\n\t.time-mark.major {\r\n\t\theight: 20px;\r\n\t\tbackground-color: #333;\r\n\t\twidth: 2px;\r\n\t}\r\n\r\n\t.time-mark.minor {\r\n\t\theight: 10px;\r\n\t\tbackground-color: #999;\r\n\t\twidth: 1px;\r\n\t}\r\n\r\n\r\n\r\n\t.event-marker {\r\n\t\tposition: absolute;\r\n\t\tbottom: 25px;\r\n\t\ttransform: translateX(-50%);\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\t.event-dot {\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.event-dot.alarm {\r\n\t\tbackground-color: #ff3b30;\r\n\t}\r\n\r\n\t.event-dot.motion {\r\n\t\tbackground-color: #ff9500;\r\n\t}\r\n\r\n\t.event-dot.human {\r\n\t\tbackground-color: #34c759;\r\n\t}\r\n</style>"]}