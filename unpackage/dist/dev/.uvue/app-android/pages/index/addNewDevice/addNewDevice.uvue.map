{"version":3,"sources":["pages/index/addNewDevice/addNewDevice.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<TopNavBar title=\"添加新设备\" :showBack=\"true\" @back=\"goback\" :isText=\"true\" rightText=\"常见问题\" />\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"camera-box\">\r\n\t\t\t\t<camera style=\"width: 100%; height: 300px;\" :resolution=\"'medium'\" :device-position=\"devicePosition\"\r\n\t\t\t\t\tmode=\"scanCode\" :flash=\"flash\" :frame-size=\"frameSize\" @error=\"handleError\"\r\n\t\t\t\t\t@initdone=\"handleInitDone\">\r\n\t\t\t\t</camera>\r\n\t\t\t\t<view class=\"tips\">请扫描机身上的二维码</view>\r\n\t\t\t\t<view class=\"tools\">\r\n\t\t\t\t\t<view class=\"icon-container\">\r\n\t\t\t\t\t\t<image class=\"icons\" src=\"/static/device/flashlight.png\" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t@click=\"switchFlash\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"icon-container\">\r\n\t\t\t\t\t\t<image class=\"icons\" src=\"/static/device/picture.png\" mode=\"aspectFit\" @click=\"scanImg\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"other-ways\">找不到二维码时，请选择以下方式</view>\r\n\t\t<view class=\"ways-box\">\r\n\t\t\t<view class=\"ways-item\">\r\n\t\t\t\t<text class=\"ways-title\">WIFI摄像机</text>\r\n\t\t\t\t<text class=\"ways-desc\">使用扫APP二维码的配网方式</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ways-item\">\r\n\t\t\t\t<text class=\"ways-title\">4G摄像机</text>\r\n\t\t\t\t<text class=\"ways-desc\">使用4G网络的摄像机</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport TopNavBar from '@/components/TopNavBar.uvue'\r\n\r\n\r\n\tconst flash = ref<string>('off')\r\n\tconst devicePosition = ref<string>('back')\r\n\tconst frameSize = ref<string>('medium')\r\n\r\n\tconst goback = () => {\r\n\t\tuni.navigateBack()\r\n\t}\r\n\r\n\tconst handleError = (err : any) => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请允许使用摄像头',\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleInitDone = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '初始化成功',\r\n\t\t})\r\n\r\n\t\tuni.scanCode({\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tconsole.log(\"扫描结果：\", res.result);\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\tconsole.error(\"扫描失败：\", err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst switchFlash = () => {\n\t\treturn new Promise<boolean>((resolve, reject) => {\n\t\t\tuni.startWifi({\n\t\t\t\tsuccess: (res : UTSJSONObject) => {\n\t\t\t\t\tconsole.log('启动WiFi成功', res);\n\t\t\t\t\tflash.value = flash.value == 'off' ? 'on' : 'off'\n\t\t\t\t\tresolve(true);\n\t\t\t\t},\n\t\t\t\tfail: (err : UTSJSONObject) => {\n\t\t\t\t\tconsole.error('启动WiFi失败', err);\n\t\t\t\t\tconst errMsg = err['errMsg'] as string | null\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: errMsg ?? '操作失败',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t\treject(new Error(errMsg ?? 'unknown error'));\n\t\t\t\t}\n\t\t\t} as UTSJSONObject);\n\t\t});\n\t}\r\n\r\n\tconst scanImg = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsourceType: ['album'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tonlyFromCamera: false,\r\n\t\t\t\t\tscanType: ['qrCode'],\r\n\t\t\t\t\tsuccess: (scanRes) => {\r\n\t\t\t\t\t\tconsole.log('识别结果:', scanRes.result);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('识别失败:', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\r\n\t\t.content {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding: 50rpx 100rpx 30rpx;\r\n\r\n\t\t\t.tips {\r\n\t\t\t\tpadding: 50rpx 0 20rpx 0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.tools {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.icon-container {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\twidth: 50%;\r\n\r\n\t\t\t\t\t.icons {\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.other-ways {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin: 30rpx 0;\r\n\r\n\t\t}\r\n\r\n\t\t.ways-box {\r\n\t\t\tpadding: 0 30rpx;\r\n\r\n\t\t\t.ways-item {\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\r\n\t\t\t\t.ways-title {\r\n\t\t\t\t\tfont-size: 35rpx;\r\n\t\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.ways-desc {\r\n\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>"]}