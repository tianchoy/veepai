{"version":3,"sources":["uni_modules/lime-textarea/components/l-textarea/l-textarea.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<view \n\t\tclass=\"l-textarea\" \n\t\tref=\"textareaRef\"\n\t\t:style=\"[styles, lStyle]\"\n\t\t:class=\"[\n\t\t\t'l-textarea--' + layout,\n\t\t\t// classic ? 'l-textarea--classic-' + status : '',\n\t\t\t{\n\t\t\t\t'l-textarea--classic': classic,\n\t\t\t\t'l-textarea--classic-disabled':  classic && isDisabled,\n\t\t\t\t'l-textarea--classic-focused':  classic && !isDisabled && innerFocused,\n\t\t\t\t'l-textarea--border': bordered && !classic\n\t\t\t}]\">\n\t\t<text \n\t\t\tclass=\"l-textarea__label\" \n\t\t\t:style=\"[labelStyle]\"\n\t\t\t:class=\"[\n\t\t\t\t'l-textarea__label--' + layout,\n\t\t\t]\"\n\t\t\tv-if=\"label != null || $slots['label'] != null\">\n\t\t\t<slot>{{label}}</slot>\n\t\t</text>\n\t\t<view class=\"l-textarea__wrapper\">\n\n\t\t\t<textarea \n\t\t\t\tclass=\"l-textarea__wrapper-inner\"\n\t\t\t\t:style=\"[innerStyle]\"\n\t\t\t\t:class=\"{'is-disabled': isDisabled}\"\n\t\t\t\t:maxlength=\"maxlength\"\n\t\t\t\t:disabled=\"isDisabled || isReadonly\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\tplaceholder-class=\"l-textarea__placeholder\"\n\t\t\t\t:placeholder-style=\"placeholderStyle\"\n\t\t\t\t:value=\"innerValue\"\n\t\t\t\t:auto-height=\"autosize\"\n\t\t\t\t:auto-focus=\"autofocus\"\n\t\t\t\t:fixed=\"fixed\"\n\t\t\t\t:focus=\"focus\"\n\t\t\t\t:cursor=\"cursor\"\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\n\t\t\t\t:adjust-position=\"adjustPosition\"\n\t\t\t\t:confirm-type=\"confirmType\"\n\t\t\t\t:confirm-hold=\"confirmHold\"\n\t\t\t\t:disable-default-padding=\"disableDefaultPadding\"\n\t\t\t\t:show-confirm-bar=\"showConfirmBar\"\n\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t:hold-keyboard=\"holdKeyboard\"\n\t\t\t\t@input=\"onInput\"\n\t\t\t\t@focus=\"onFocus\"\n\t\t\t\t@blur=\"onBlur\"\n\t\t\t\t@confirm=\"onConfirm\"\n\t\t\t\t@linechange=\"onLineChange\"\n\t\t\t\t@keyboardheightchange=\"onKeyboardHeightChange\">\n\t\t\t</textarea>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\n\t\t\t<text class=\"l-textarea__indicator\" :style=\"[indicatorStyle]\" v-if=\"indicator && ((maxcharacter ?? maxlength) > 0 )\">{{count}} / {{maxcharacter ?? maxlength}}</text>\n\t\t</view>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Textarea 多行输入框组件\n\t * @description 用于多行文本输入场景，支持自适应高度和多种键盘控制选项\n\t * <br>插件类型：LTextareaComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-textarea\n\t * \n\t * @property {boolean} adjustPosition 键盘弹起自动上推页面（默认：true）\n\t * @property {boolean} autofocus 自动聚焦（默认：false）\n\t * @property {boolean} autosize 自动调整高度（默认：false）\n\t * @property {boolean} bordered 显示外边框（默认：true）\n\t * @property {boolean} confirmHold 点击确认保持键盘不收起（默认：false）\n\t * @property {'return' | 'send' | 'search' | 'next' | 'go' | 'done'} confirmType 键盘确认按钮类型（默认：\"done\"）\n\t * @value return\n\t * @value send\n\t * @value search\n\t * @value next\n\t * @value go\n\t * @value done\n\t * @property {number} cursor 聚焦时初始光标位置\n\t * @property {number} cursorSpacing 键盘与输入框间距（单位px，默认：0）\n\t * @property {boolean} disableDefaultPadding 禁用iOS默认内边距（默认：false）\n\t * @property {boolean} disabled 禁用状态（默认：false）\n\t * @property {boolean} readonly 只读（默认：false）\n\t * @property {boolean} classic 经典边框（默认：false）\n\t * @property {boolean} fixed 在fixed定位区域使用（默认：false）\n\t * @property {boolean} defaultFixed 默认fixed模式（兼容旧版）\n\t * @property {boolean} focus 自动聚焦（默认：false）\n\t * @property {boolean} focused 是否显示获焦样式，用于结合自定义键盘使用时显示高亮效果\n\t * @property {boolean} holdKeyboard 点击页面不收起键盘（默认：false）\n\t * @property {boolean} indicator 显示字数统计（默认：false）\n\t * @property {string} label 左侧标签文本\n\t * @property {number} maxcharacter 最大字符长度（中文算2个）\n\t * @property {number} maxlength 最大输入长度（默认：-1不限制）\n\t * @property {string} placeholder 占位文字\n\t * @property {number} selectionEnd 光标结束位置（需搭配selectionStart）\n\t * @property {number} selectionStart 光标起始位置（需搭配selectionEnd）\n\t * @property {boolean} showConfirmBar 显示键盘完成栏（默认：true）\n\t * @property {string} value 输入值（支持v-model）\n\t * @property {'vertical' | 'horizontal'} layout 标签布局方式（默认：\"horizontal\"）\n\t * @value vertical\n\t * @value horizontal\n\t * @property {string} placeholderStyle 占位文字样式（仅支持color/font-size/font-weight）\n\t * @property {string} lStyle 自定义组件样式（CSS字符串）\n\t * @property {string} labelStyle 标签样式（CSS字符串）\n\t * @property {string} indicatorStyle 字数统计样式（CSS字符串）\n\t * @property {string} innerStyle 输入区域样式（CSS字符串）\n\t * @property {string} borderColor 边框颜色\n\t * @property {string} focusedBorderColor 聚焦时边框颜色\n\t * @event {Function} focus 聚焦时触发\n\t * @event {Function} blur 失焦时触发\n\t * @event {Function} confirm 点击完成按钮触发\n\t * @event {Function} linechange 行数变化时触发\n\t * @event {Function} change \n\t * @event {Function} keyboardheightchange \n\t */\n\n\n\timport { TextareaProps } from './type';\n\timport { characterLimit, type CharacterLengthResult } from '@/uni_modules/lime-shared/characterLimit';\n\t\n\n\timport { useDrawBorder, DrawBorderOptions } from '@/uni_modules/lime-style/hairline'\n\n\t\n\tconst emit = defineEmits(['change', 'focus', 'blur', 'confirm', 'linechange', 'keyboardheightchange'])\n\tconst props = withDefaults(defineProps<TextareaProps>(), {\n\t\tadjustPosition: true,\n\t\tautofocus: false,\n\t\tautosize: false,\n\t\tbordered: true,\n\t\tconfirmHold: false,\n\t\tconfirmType: 'return',\n\t\tcursor: -1,\n\t\tcursorSpacing: 0,\n\t\tdisableDefaultPadding: false,\n\t\tdisabled: false,\n\t\tfixed: false,\n\t\tdefaultFixed: false,\n\t\tfocus: false,\n\t\tholdKeyboard: false,\n\t\tindicator: false,\n\t\tmaxlength: -1,\n\t\tplaceholder: '',\n\t\tplaceholderStyle: '',\n\t\tselectionEnd:-1,\n\t\tselectionStart:-1,\n\t\tshowConfirmBar: true,\n\t\tlayout: 'horizontal',\n\t\tclassic: false,\n\t\treadonly: false,\n\t\tfocused: false\n\t})\n\t\n\tconst formItemBlur = inject<(() => void)|null>('formItemBlur', null);\n\tconst formDisabled = inject<Ref<boolean|null>|null>('formDisabled', null)\n\tconst formReadonly = inject<Ref<boolean|null>|null>('formReadonly', null)\n\t\n\tconst count = ref(0);\n\tconst innerFocused = ref(props.focus || props.focused);\n\t\n\tconst calculateValue = (value: string):CharacterLengthResult => {\n\t\tconst { maxlength, maxcharacter } = props;\n\t\tif(maxcharacter != null && maxcharacter > 0) {\n\t\t\treturn characterLimit('maxcharacter', value, maxcharacter)\n\t\t} else if(maxlength > 0) {\n\t\t\treturn characterLimit('maxlength', value, maxlength)\n\t\t}\n\t\treturn {\n\t\t\tcharacters: value,\n\t\t\tlength: value.length\n\t\t} as CharacterLengthResult\n\t}\n\tlet _innerValue = ''\n\tconst modelValue = defineModel({type: String, default: ''})\n\tconst innerValue = computed({\n\t\tset(v: string) {\n\t\t\t_innerValue = v;\n\t\t\tmodelValue.value = v;\n\t\t\temit('change', v)\n\t\t},\n\t\tget():string {\n\t\t\tconst _value = props.value ?? modelValue.value\n\t\t\tif(_innerValue != _value) {\n\t\t\t\tconst {characters, length} = calculateValue(props.value ?? modelValue.value);\n\t\t\t\tcount.value = length;\n\t\t\t\treturn characters\n\t\t\t}\n\t\t\treturn _value\n\t\t},\n\t} as WritableComputedOptions<string>)\n\t\n\tconst isReadonly= computed(():boolean=>{\n\t\tif (props.readonly) return props.readonly;\n\t\treturn formReadonly?.value ?? false;\n\t})\n\tconst isDisabled= computed(():boolean=>{\n\t\tif (props.disabled) return props.disabled;\n\t\treturn formDisabled?.value ?? false;\n\t})\n\t\n\t\n\tconst styles = computed(():Map<string, string>=> {\n\t\tconst style = new Map<string, string>()\n\n\n\n\n\n\n\n\n\t\treturn style\n\t})\n\t\n\tconst onInput = (event: UniInputEvent) => {\n\t\tlet { value, cursor } = event.detail;\n\t\tconst {characters, length} = calculateValue(value);\n\t\tcount.value = length;\n\t\tinnerValue.value = characters;\n\t}\n\tconst onFocus = (event: UniTextareaFocusEvent) => {\n\t\tinnerFocused.value = true;\n\t\temit('focus', event)\n\t}\n\tconst onBlur = (event: UniTextareaBlurEvent) => {\n\t\tinnerFocused.value = false;\n\t\temit('blur', event)\n\t\tformItemBlur?.()\n\t}\n\tconst onConfirm = (event: UniInputConfirmEvent) => {\n\t\temit('confirm', event)\n\t}\n\tconst onLineChange = (event: UniTextareaLineChangeEvent) => {\n\t\temit('linechange', event)\n\t}\n\tconst onKeyboardHeightChange = (event: UniInputKeyboardHeightChangeEvent) => {\n\t\temit('keyboardheightchange', event)\n\t}\n\t\n\twatchEffect(()=> {\n\t\tinnerFocused.value = props.focus || props.focused;\n\t})\n\t\n\t\n\n\tconst textareaRef = ref<UniElement|null>(null);\n\tconst { clearBorder, color, renderBorder } = useDrawBorder(textareaRef, \n\t\t{  \n\t\t\tdirection: 'bottom',\n\t\t\twatchSize: true,\n\t\t\tstartOffset: 16,\n\t\t\timmediate: false,\n\t\t\tcolor: props.borderColor \n\t\t} as DrawBorderOptions)\n\t\t\n\tonMounted(()=>{\n\t\twatchEffect(()=>{\n\t\t\t\n\t\t\tif(!props.classic) {\n\t\t\t\tif(props.borderColor != null && !innerFocused.value) {\n\t\t\t\t\ttextareaRef.value?.style.setProperty('border-color', props.borderColor)\n\t\t\t\t}\n\t\t\t\tif(props.focusedBorderColor != null && innerFocused.value) {\n\t\t\t\t\ttextareaRef.value?.style.setProperty('border-color', props.focusedBorderColor)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(!props.bordered || props.classic) {\n\t\t\t\tclearBorder()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(props.borderColor != null && !innerFocused.value) {\n\t\t\t\tcolor.value = props.borderColor!\n\t\t\t}\n\t\t\trenderBorder()\n\t\t})\n\t})\n\n\t\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n"]}