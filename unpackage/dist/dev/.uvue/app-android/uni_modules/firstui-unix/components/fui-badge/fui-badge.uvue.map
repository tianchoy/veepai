{"version":3,"sources":["uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue"],"names":[],"mappings":"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","file":"uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue","sourcesContent":["<template>\r\n\t<text\r\n\t\t:class=\"[dot?'fui-badge__dot':'fui-badge__wrap',background!=''?'':('fui-badge__bg-'+type),absolute?'fui-badge__absolute':'',scaleRatio!=1 ?'fui-badge__trans-origin':'',background=='' && type=='white'?'fui-badge__text-color':'']\"\r\n\t\t:style=\"{top:absolute?top:'auto',right:absolute?right:'auto',transform:`scale(${scaleRatio})`,marginTop:`${marginTop}rpx`,marginLeft:`${marginLeft}rpx`,marginRight:`${marginRight}rpx`,width:width,color:color,background:background}\"\r\n\t\t@tap=\"handleClick\" v-if=\"showValue!='' || dot\">{{dot?'':showValue}}</text>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * Badge 徽章\r\n\t * @description Badge 徽章，可自定义颜色。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Number} value {Number | String} badge显示文本\r\n\t * @property {Number} max {Number} 最大值，当值超过max时使用+号代替，仅为数字时有效，-1表示不限制\r\n\t * @property {String} type {String}\t类型，有效值：primary，success，warning，danger，purple，white\r\n\t * @property {String} background {String} 背景色，如果设置背景色则type失效\r\n\t * @property {String} color\t{String} 字体颜色\r\n\t * @property {Boolean} dot {Boolean} 是否显示为圆点\r\n\t * @property {Number} marginTop {Number} margin-top值，单位rpx\r\n\t * @property {Number} marginLeft {Number} margin-left值，单位rpx\r\n\t * @property {Number} marginRight {Number} margin-right值，单位rpx\r\n\t * @property {Boolean} absolute {Boolean} 是否绝对定位\r\n\t * @property {String} top {String} top值，需带单位，absolute为true时生效\r\n\t * @property {String} right {String} right值，需带单位，absolute为true时生效\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @event {Function} onclick 点击badge时触发，无返回值，() => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-badge\",\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmax: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'primary'\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#FFFFFF'\r\n\t\t\t},\r\n\t\t\tdot: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tabsolute: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttop: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-8rpx'\r\n\t\t\t},\r\n\t\t\tright: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-18rpx'\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twidth: '0',\r\n\t\t\t\tshowValue: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue() {\r\n\t\t\t\tthis.getWidth()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getWidth()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trpx2px(rpx : number) : number {\r\n\t\t\t\tlet px : number;\r\n\r\n\t\t\t\tpx = UTSAndroid.rpx2px(rpx)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\treturn px;\r\n\t\t\t},\r\n\t\t\t_getTextWidth(text : string) : string {\r\n\t\t\t\tlet sum = 0;\r\n\t\t\t\tfor (let i = 0, len = text.length; i < len; i++) {\r\n\t\t\t\t\tconst code = text.charCodeAt(i) as number\r\n\t\t\t\t\tif (code <= 255)\r\n\t\t\t\t\t\tsum = sum + 1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tsum = sum + 2;\r\n\t\t\t\t}\r\n\t\t\t\tconst rpx = (text.length > 1 ? 32 : 24) as number;\r\n\t\t\t\tconst px = this.rpx2px(rpx);\r\n\t\t\t\tconst strCode = text.charCodeAt(0) as number;\r\n\t\t\t\tlet multiplier = 12;\r\n\t\t\t\tif (strCode >= 65 && strCode <= 90) {\r\n\t\t\t\t\tmultiplier = 15;\r\n\t\t\t\t}\r\n\t\t\t\treturn `${(sum / 2 * multiplier) + px}px`;\r\n\t\t\t},\r\n\t\t\tgetWidth() {\r\n\t\t\t\tlet max = this.max;\r\n\t\t\t\tlet value : string;\r\n\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\tvalue = this.value as string;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.value == 'number') {\r\n\t\t\t\t\t\tconst val_num = this.value as number;\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = val_num.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = val_num > max ? `${max}+` : val_num.toString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = this.value.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = parseFloat(this.value.toString()) > max ? `${max}+` : `${this.value}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.showValue = value;\r\n\t\t\t\tthis.width = this.dot ? '8px' : this._getTextWidth(value)\r\n\t\t\t},\r\n\t\t\thandleClick() {\r\n\t\t\t\tthis.$emit('onclick');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-color-success: #09BE4F !default;\r\n\t$fui-color-warning: #FFB703 !default;\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-purple: #6831FF !default;\r\n\t$fui-color-white: #FFFFFF !default;\r\n\r\n\t.fui-badge__wrap {\r\n\t\theight: 36rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 36rpx;\r\n\t\tborder-radius: 100px;\r\n\t\tmin-width: 36rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__dot {\r\n\t\theight: 8px !important;\r\n\t\twidth: 8px !important;\r\n\t\tborder-radius: 100px;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__bg-primary {\r\n\t\tbackground-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-success {\r\n\t\tbackground-color: $fui-color-success !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-warning {\r\n\t\tbackground-color: $fui-color-warning !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-danger {\r\n\t\tbackground-color: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-purple {\r\n\t\tbackground-color: $fui-color-purple !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-white {\r\n\t\tbackground-color: $fui-color-white !important;\r\n\t}\r\n\r\n\t.fui-badge__text-color {\r\n\t\tcolor: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__trans-origin {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-badge__absolute {\r\n\t\tposition: absolute;\r\n\t}\r\n</style>"]}