{"version":3,"sources":["uni_modules/firstui-unix/components/fui-bottom-popup/fui-bottom-popup.uvue"],"names":[],"mappings":"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","file":"uni_modules/firstui-unix/components/fui-bottom-popup/fui-bottom-popup.uvue","sourcesContent":["<template>\r\n\t<view class=\"fui-bottom__popup-wrap\" :style=\"{ zIndex: zIndex,background:maskBackground}\" @tap.stop=\"handleClose\"\r\n\t\t:ref=\"refMkId\">\r\n\t\t<view @tap.stop=\"stop\" :ref=\"refId\" class=\"fui-bottom__popup\" :class=\"{'fui-bp__safe-weex':iphoneX && safeArea}\"\r\n\t\t\t:style=\"{borderTopLeftRadius:`${radius}rpx`,borderTopRightRadius:`${radius}rpx`,background: background}\">\r\n\t\t\t<slot></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * BottomPopup 底部弹出层\r\n\t * @description BottomPopup 底部弹出层，从底部弹出的浮层，引导用户进行相关操作。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Boolean} visible {Boolean} 是否显示底部弹出层\r\n\t * @property {String} background {String} 底部弹出层背景颜色\r\n\t * @property {Number} radius {Number} 底部弹出层左上/右上圆角值，单位rpx\r\n\t * @property {Number} zIndex {Number} 底部弹出层z-index值\r\n\t * @property {Boolean} maskClosable {Boolean} 点击遮罩 是否可关闭\r\n\t * @property {String} maskBackground {String} 遮罩背景色\r\n\t * @property {Boolean} safeArea {Boolean} 是否适配底部安全区\r\n\t * @event {Function} close 点击遮罩层（maskClosable=true）时触发，() => void\r\n\t * @event {Function} update:visible 点击遮罩层（maskClosable=true）时触发，用于双向绑定\t，(event: boolean) => void\r\n\t */\r\n\texport default {\r\n\t\tname: 'fui-bottom-popup',\r\n\t\temits: ['close', 'update:visible'],\r\n\t\tprops: {\r\n\t\t\tvisible: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#fff'\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 24\r\n\t\t\t},\r\n\t\t\tzIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 996\r\n\t\t\t},\r\n\t\t\tmaskClosable: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tmaskBackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'rgba(0,0,0,.6)'\r\n\t\t\t},\r\n\t\t\tsafeArea: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst refId = `fui_bp_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`\r\n\t\t\tconst refMkId = `fui_bpmk_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`\r\n\t\t\treturn {\r\n\t\t\t\trefId: refId,\r\n\t\t\t\trefMkId: refMkId,\r\n\t\t\t\tiphoneX: false,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\telement: null as UniElement | null,\r\n\t\t\t\tmkElement: null as UniElement | null\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvisible: {\r\n\t\t\t\thandler(newVal : boolean) {\r\n\t\t\t\t\tif (newVal) {\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.isShow) this.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\r\n\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (!this.visible) this.close();\r\n\t\t\t\t}, 50);\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleClose() {\r\n\t\t\t\tif (!this.maskClosable) return;\r\n\t\t\t\tthis.$emit('close');\r\n\t\t\t\tthis.$emit('update:visible', false)\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\topen() {\r\n\t\t\t\tthis.isShow = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis._animation(true);\r\n\t\t\t\t\t}, 50);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.isShow = false;\r\n\t\t\t\tthis._animation(false);\r\n\t\t\t},\r\n\t\t\t_animation(visible : boolean) {\r\n\t\t\t\tif (this.element == null) {\r\n\t\t\t\t\tthis.element = this.$refs[this.refId] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.mkElement == null) {\r\n\t\t\t\t\tthis.mkElement = this.$refs[this.refMkId] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tthis.element!.style.setProperty('transform', `translateY(${visible ? '0' : '100%'})`);\r\n\t\t\t\tthis.element!.style.setProperty('opacity', visible ? '1' : '0')\r\n\t\t\t\tthis.mkElement!.style.setProperty('opacity', visible ? '1' : '0')\r\n\t\t\t\tif (visible) {\r\n\t\t\t\t\tthis.mkElement!.style.setProperty('visibility', 'visible');\r\n\t\t\t\t\tthis.element!.style.setProperty('visibility', 'visible');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.mkElement!.style.setProperty('visibility', 'hidden');\r\n\t\t\t\t\t\tthis.element!.style.setProperty('visibility', 'hidden');\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstop() { }\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.fui-bottom__popup-wrap {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: center;\r\n\t\ttransition-property: opacity, visibility;\r\n\t\ttransition-timing-function: ease-in-out;\r\n\t\ttransition-duration: 0.3s;\r\n\t\tvisibility: hidden;\r\n\t\tborder-bottom-width: 0;\r\n\t\toverflow: hidden;\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.fui-bottom__popup {\r\n\t\twidth: 100%;\r\n\t\ttransition-property: transform, opacity, visibility;\r\n\t\ttransition-timing-function: ease-in-out;\r\n\t\ttransition-duration: 0.3s;\r\n\t\tmin-height: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\ttransform: translateY(100%);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-bp__safe-weex {\r\n\t\tpadding-bottom: 34px;\r\n\t}\r\n</style>"]}