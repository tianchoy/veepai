{"version":3,"sources":["uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue"],"names":[],"mappings":"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","file":"uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue","sourcesContent":["<template>\r\n\t<checkbox-group :name=\"name\">\r\n\t\t<slot></slot>\r\n\t</checkbox-group>\r\n</template>\r\n\r\n<script>\r\n\timport { type PropType, ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String}\t多项选择器名称\t\r\n\t * @property {Array} modelValue { string[] } 选中的value值集合，用于双向绑定\r\n\t * @event {Function} change 选中项发生变化时触发，(event: string[]) => void\r\n\t * @event {Function} update:modelValue 用于组件双向绑定，(event: string[]) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox-group\",\r\n\t\temits: ['change', 'update:modelValue'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Array as PropType<string[]>,\r\n\t\t\t\tdefault: () : string[] => [] as string[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvals: [] as string[],\r\n\t\t\t\tchildrens: [] as ComponentPublicInstance[],\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmodelValue(vals : string[]) {\r\n\t\t\t\tthis.modelChange(vals)\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChange(e : string[]) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t},\r\n\t\t\tchangeValue() {\r\n\t\t\t\tconst vals = [] as string[];\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst isChk = item.$data['val'] as boolean;\r\n\t\t\t\t\tif (isChk) {\r\n\t\t\t\t\t\tvals.push(item.$props['value'] as string);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.checkboxChange(vals)\r\n\t\t\t},\r\n\t\t\tmodelChange(vals : string[]) {\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst value = item.$props['value'] as string;\r\n\t\t\t\t\tif (vals.includes(value)) {\r\n\t\t\t\t\t\titem.$data['val'] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.$data['val'] = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = [] as string[];\r\n\t\t\t\tthis.checkboxChange(this.vals)\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string[] {\r\n\t\t\t\treturn this.vals;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped></style>"]}