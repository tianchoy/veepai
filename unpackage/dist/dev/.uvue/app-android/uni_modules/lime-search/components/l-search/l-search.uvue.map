{"version":3,"sources":["uni_modules/lime-search/components/l-search/l-search.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<view class=\"l-search\" :style=\"[lStyle]\">\n\t\t<slot name=\"left\"></slot>\n\t\t<view class=\"l-search__content\" :style=\"[contextStyle]\" :class=\"contentClass\">\n\n\n\n\t\t\t\t<slot name=\"left-icon\">\n\t\t\t\t\t<l-icon class=\"l-search__icon\" size=\"42rpx\" :color=\"iconColor\" :name=\"leftIcon\" v-if=\"leftIcon.length > 0\" />\n\t\t\t\t</slot>\n\n\n\n\t\t\t<input  \n\t\t\t\tname=\"input\"\n\t\t\t\tclass=\"l-search__keyword\"\n\t\t\t\t:style=\"[inputStyle, center ? 'text-align:center':'']\"\n\t\t\t\t:type=\"type\"\n\t\t\t\t:maxlength=\"maxlength\"\n\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t:focus=\"focus\"\n\t\t\t\t:value=\"searchValue\"\n\t\t\t\t:confirm-type=\"confirmType\"\n\t\t\t\t:confirm-hold=\"confirmHold\"\n\t\t\t\t:cursor=\"cursor\"\n\t\t\t\t:cursor-color=\"cursorColor\"\n\t\t\t\t:adjust-position=\"adjustPosition\"\n\t\t\t\t:always-embed=\"alwaysEmbed\"\n\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t:hold-keyboard=\"holdKeyboard\"\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t:placeholder-style=\"(placeholderStyle ?? ' ') +  (center ? 'text-align:center':'')\"\n\t\t\t\tplaceholder-class=\"l-search__placeholder\"\n\t\t\t\t@input=\"handleInput\"\n\t\t\t\t@focus=\"handleFocus\"\n\t\t\t\t@blur=\"handleBlur\"\n\t\t\t\t@confirm=\"handleConfirm\"/>\n\t\t\t<view\n\t\t\t\tclass=\"l-search__clear\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'l-search__clear--right': $slots['right-icon'] != null\n\t\t\t\t}\"\n\t\t\t\tv-if=\"clearable\"\n\t\t\t\tv-show=\"searchValue.length>0\"\n\t\t\t\t@click=\"handleClear\"\n\t\t\t\taria-role=\"button\"\n\t\t\t\taria-label=\"清除\">\n\n\n\n\t\t\t\t<l-icon class=\"l-search__icon l-search__clear-icon\" name=\"close-circle-filled\" size=\"48rpx\" :color=\"clearIconColor\"  />\n\n\n\n\t\t\t</view>\t\n\t\t\t<slot name=\"right-icon\"/>\n\t\t</view>\n\t\t<slot name=\"action\">\n\t\t\t<text class=\"l-search__action\" :class=\"{'l-search__action--focused': focused}\" @click=\"handleActionClick\" v-if=\"action != null\"> {{action}}</text>\n\t\t</slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\timport { SearchProps } from './type';\n\timport { characterLimit } from '@/uni_modules/lime-shared/characterLimit';\n\t\n\tconst emit = defineEmits(['change', 'blur', 'clear', 'focus', 'submit', 'action-click'])\n\tconst props = withDefaults(defineProps<SearchProps>(), {\n\t\tadjustPosition: true,\n\t\talwaysEmbed: false,\n\t\tcenter: false,\n\t\tclearable: true,\n\t\tconfirmHold: false,\n\t\tconfirmType: 'search',\n\t\t// cursor: 0,\n\t\tcursorSpacing: 0,\n\t\tdisabled: false,\n\t\tfocus: false,\n\t\tholdKeyboard: false,\n\t\tleftIcon: 'search',\n\t\tmaxlength: -1,\n\t\tselectionEnd: -1,\n\t\tselectionStart: -1,\n\t\tshape: 'square',\n\t\ttype: 'text',\n\t})\n\t\n\tconst focused = ref(props.focus)\n\tconst modelValue = defineModel({type: String, default: ''})\n\tconst searchValue = computed({\n\t\tset(value: string) {\n\t\t\tmodelValue.value = value;\n\t\t\temit('change', value)\n\t\t},\n\t\tget():string {\n\t\t\treturn props.value ?? modelValue.value\n\t\t}\n\t} as WritableComputedOptions<string>)\n\t\n\tconst contentClass = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\t// cls.set(focused.value ? 'is-focused': 'not-focused', true)\n\t\tcls.set('l-search__content--focused', focused.value)\n\t\tcls.set('l-search__content--center', props.center)\n\t\tcls.set('l-search__content--' + props.shape, true)\n\t\treturn cls\n\t})\n\t\n\tconst contextStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>()\n\t\tif(props.padding != null) {\n\t\t\tstyle.set('padding', props.padding!)\n\t\t}\n\t\tif(props.radius != null) {\n\t\t\tstyle.set('border-radius', props.radius!)\n\t\t}\n\t\tif(props.height != null) {\n\t\t\tstyle.set('height', props.height!)\n\t\t}\n\t\tif(props.bgColor != null) {\n\t\t\tstyle.set('background', props.bgColor!)\n\t\t}\n\t\treturn style\n\t})\n\t\n\tconst inputStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>()\n\t\tif(props.fontSize != null) {\n\t\t\tstyle.set('font-size', props.fontSize!)\n\t\t}\n\t\tif(props.textColor != null) {\n\t\t\tstyle.set('color', props.textColor!)\n\t\t}\n\t\treturn style\n\t})\n\t\n\tconst handleInput = (e: UniInputEvent) => {\n\t\tlet { value } = e.detail;\n\t\tconst { maxlength, maxcharacter } = props;\n\t\tif(maxcharacter != null && maxcharacter > 0) {\n\t\t\tconst { characters } = characterLimit('maxcharacter', value, maxcharacter)\n\t\t\tvalue = characters;\n\t\t} \n\t\t// else if(maxlength > 0) {\n\t\t// \tconst { characters } = characterLimit('maxlength', value, maxlength)\n\t\t// \tvalue = characters;\n\t\t// }\n\t\tsearchValue.value = value\n\t}\n\tconst handleClear = (_e: UniPointerEvent) => {\n\t\tsearchValue.value = '';\n\t\tfocused.value = true\n\t\temit('clear')\n\t}\n\tconst handleFocus = (e: UniInputFocusEvent) => {\n\t\tconst { value } = e.detail;\n\t\tfocused.value = true\n\t\temit('focus', value)\n\t}\n\tconst handleBlur = (e: UniInputBlurEvent) => {\n\t\tconst { value } = e.detail;\n\t\tfocused.value = false\n\t\temit('blur', value)\n\t}\n\tconst handleConfirm = (e: UniInputConfirmEvent) => {\n\t\tconst { value } = e.detail;\n\t\temit('submit', value)\n\t}\n\tconst handleActionClick = (_e: UniPointerEvent) => {\n\t\temit('action-click')\n\t}\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n"]}