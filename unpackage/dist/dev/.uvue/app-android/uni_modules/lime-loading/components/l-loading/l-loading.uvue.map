{"version":3,"sources":["uni_modules/lime-loading/components/l-loading/l-loading.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view class=\"l-loading\" :class=\"classes\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t<view class=\"l-loading__view\" ref=\"loadingRef\" :style=\"spinnerStyle\"></view>\r\n\r\n\t\t<text class=\"l-loading__text\" v-if=\"$slots['default'] != null || text != null\" :style=\"textStyle\">\r\n\t\t\t<slot>{{text}}</slot>\r\n\t\t</text>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Loading 加载指示器\r\n\t * @description 用于表示加载中的过渡状态，支持多种动画类型和布局方式\r\n\t * <br> 插件类型：LLoadingComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-loading\r\n\t * \r\n\t * @property {string} color 加载图标颜色（默认：主题色）\r\n\t * @property {'circular' | 'spinner' | 'failed'} mode 动画实现的模式.只针对APP\r\n\t * @value raf 延时\r\n\t * @value animate 基于元素的annimate方法\r\n\t * @property {'circular' | 'spinner' | 'failed'} type 加载状态类型\r\n\t * @value circular  环形旋转动画（默认）\r\n\t * @value spinner   菊花转动画\r\n\t * @value failed    加载失败提示\r\n\t * @property {string} text 提示文字内容\r\n\t * @property {string} textColor 文字颜色（默认同color）\r\n\t * @property {string} textSize 文字字号（默认：14px）\r\n\t * @property {boolean} vertical 是否垂直排列图标和文字\r\n\t * @property {boolean} animated 是否启用旋转动画（failed类型自动禁用）\r\n\t * @property {string} size 图标尺寸（默认：'40px'）\r\n\t */\r\n\timport { LoadingProps } from './type'\r\n\r\n\t// import {useLoading} from './useLoading'\r\n\timport {useLoading} from '@/uni_modules/lime-loading'\r\n\r\n\tconst name = 'l-loading'\r\n\tconst props = withDefaults(defineProps<LoadingProps>(), {\r\n\r\n\t\tsize: '40rpx',\r\n\r\n\t\ttype: 'circular',\r\n\t\tmode: 'raf',\r\n\t\tanimated: true,\r\n\t\tvertical: false,\r\n\t})\r\n\t\r\n\t\r\n\tconst classes = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst cls = new Map<string,any>()\r\n\t\tcls.set(name + '--' + props.type, true)\r\n\t\tif (props.vertical) {\r\n\t\t\tcls.set('is-vertical', props.vertical)\r\n\t\t} else {\r\n\t\t\tcls.set('is-horizontal', !props.vertical)\r\n\t\t}\r\n\t\treturn cls\r\n\t})\r\n\t\r\n\tconst spinnerStyle = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>()\r\n\t\tstyle.set('width', props.size)\r\n\t\tstyle.set('height', props.size)\r\n\r\n\r\n\r\n\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst textStyle = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>()\r\n\t\tif (props.textColor != null) {\r\n\t\t\tstyle.set('color', props.textColor!)\r\n\t\t}\r\n\t\tif (props.textSize != null) {\r\n\t\t\tstyle.set('font-size', props.textSize!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\r\n\tconst loadingRef = ref<UniElement|null>(null)\r\n\t// const {state, color} =  useLoading(loadingRef, props.type, props.color, 1)\r\n\tconst loading = useLoading(loadingRef)\r\n\tloading.type = props.type;\r\n\tloading.mode = props.mode;\r\n\tif(props.animated){\r\n\t\tloading.play()\r\n\t}\r\n\t\r\n\t// state.value = true\r\n\twatchEffect(()=>{\r\n\t\tif(loadingRef.value == null) return\r\n\t\tconst color = props.color  ?? loadingRef.value?.style.getPropertyValue('border-left-color')\r\n\t\tloading.color = color == null || color.length == 0 ? '#1677ff' : color\r\n\t\t\r\n\t\tif(props.animated){\r\n\t\t\tloading.play()\r\n\t\t} else {\r\n\t\t\tloading.pause()\r\n\t\t}\r\n\t})\r\n\r\n\t\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import './index-u.scss';\r\n</style>"]}