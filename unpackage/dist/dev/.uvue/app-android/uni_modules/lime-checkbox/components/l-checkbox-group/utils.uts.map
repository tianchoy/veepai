{"version":3,"file":"utils.uts","sourceRoot":"","sources":["uni_modules/lime-checkbox/components/l-checkbox-group/utils.uts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport { ComputedRef } from './type';\r\nimport { CheckboxStatus } from '../l-checkbox/type';\r\n\r\n\r\n\r\n\r\nfunction intersection<T>(...arrays : T[][]): T[] {\r\n\t// 创建一个空数组来存储相交元素\r\n\tconst result : T[] = [];\r\n\t\r\n\tfor (let i = 0; i < arrays[0].length; i++) {\r\n\t\tconst item = arrays[0][i]\r\n\t\t// 检查该元素是否存在于所有其他数组中\r\n\t\tlet isCommon = true;\r\n\t\tfor (let j = 1; j < arrays.length; j++) {\r\n\t\t\tif (!arrays[j].includes(item)) {\r\n\t\t\t\tisCommon = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 如果该元素存在于所有数组中，并且尚未添加到结果数组中，则将其添加到结果数组中\r\n\t\tif (isCommon && !result.includes(item)) {\r\n\t\t\tresult.push(item);\r\n\t\t}\r\n\t}\r\n\t// 返回包含相交元素的结果数组\r\n\treturn result;\r\n}\r\n\r\n// @ts-ignore\r\nexport function setCheckAllStatus(\r\n\tchildren: LCheckboxComponentPublicInstance[],\r\n\tinnerValue: ComputedRef<any[]>,\r\n\tcheckedSet: ComputedRef<Set<any>>\r\n\t): ComputedRef<CheckboxStatus> {\r\n\t\r\n\tconst intersectionLen = computed(()=>{\r\n\t\tconst values:any[] = []\r\n\t\tchildren.forEach(item => {\r\n\t\t\tconst value = item.value ?? item.name;\r\n\t\t\tif(value == null) return\r\n\t\t\tvalues.push(value)\r\n\t\t})\r\n\t\tif (Array.isArray(innerValue.value)) {\r\n\t\t\treturn intersection(innerValue.value, values).length;\r\n\t\t}\r\n\t\treturn 0\r\n\t})\r\n\tconst isAllChecked = computed((): boolean=>{\r\n\t\tif (checkedSet.value.size != children.length - 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn intersectionLen.value == children.length - 1;\r\n\t})\r\n\tconst isIndeterminate = computed((): boolean=>{\r\n\t\treturn !isAllChecked.value && intersectionLen.value < children.length && intersectionLen.value > 0;\r\n\t})\r\n\treturn computed(():CheckboxStatus => {\r\n\t\tif (isAllChecked.value) return 'checked';\r\n\t\tif (isIndeterminate.value) return 'indeterminate';\r\n\t\treturn 'uncheck';\r\n\t});\r\n}\nimport { LCheckboxComponentPublicInstance  } from \"@/uni_modules/lime-checkbox/components/l-checkbox/l-checkbox.uvue\""]}