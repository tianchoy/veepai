{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, t as _t, sei as _sei, n as _n, s as _s, e as _e } from \"vue\";\nimport { isNumeric } from '@/uni_modules/lime-shared/isNumeric';\nimport { isNumber } from '@/uni_modules/lime-shared/isNumber';\nimport { addUnit } from '@/uni_modules/lime-shared/addUnit';\nimport { toBoolean } from '@/uni_modules/lime-shared/toBoolean';\nimport { getOffsetWithMinusString } from './utils';\nimport {} from './type';\nconst name = 'l-badge';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'l-badge',\n    props: {\n        color: new UTSJSONObject({}),\n        content: new UTSJSONObject({}),\n        dot: new UTSJSONObject({ type: Boolean, default: false }),\n        max: new UTSJSONObject({ default: 99 }),\n        offset: new UTSJSONObject({ default: [] }),\n        position: new UTSJSONObject({ default: 'top-right' }),\n        shape: new UTSJSONObject({}),\n        showZero: new UTSJSONObject({ type: Boolean, default: false }),\n        size: new UTSJSONObject({})\n    },\n    setup(__props) {\n        /**\n         * Badge 徽标组件\n         * @description 用于展示状态标记、消息数量等提示信息，支持多种形态和定位方式\n         * <br> 插件类型：LBadgeComponentPublicInstance\n         * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-badge\n         *\n         * @property {string} [color] 徽标背景色（支持CSS颜色值）\n         * @property {number | string | any} content 显示内容（数字/文字）\n         * @property {boolean} dot 是否显示为小红点（优先级高于content）\n         * @property {number} max 数字最大值（超出显示为${max}+）\n         * @property {Array<string | number> | any[]} offset 位置偏移量（[x, y]）\n         * @property {'top-right' | 'top-left' | 'bottom-right' | 'bottom-left'} position 定位位置\n         * @property {'circle' | 'square' | 'bubble' | 'ribbon'} [shape] 形状（当前版本未实现）\n         * @property {boolean} showZero 数值为0时是否显示\n         * @property {'medium' | 'large'} [size] 尺寸（当前版本未实现）\n         * @property {string | number} [content] 支持字符串模板（例：'${count}条'）\n         * @property {Array<string | number>} offset 支持单位（例：['-10rpx', '20px']）\n         */\n        const props = __props;\n        const context = getCurrentInstance();\n        const classes = computed(() => {\n            const cls = new Map();\n            cls.set(`${name}--fixed`, toBoolean(context.slots['default']));\n            cls.set(`${name}--dot`, props.dot);\n            cls.set(`${name}--${props.position}`, context.slots['default'] != null);\n            return cls;\n        });\n        const styles = computed(() => {\n            const style = new Map();\n            if (toBoolean(props.color)) {\n                style.set('background', props.color);\n            }\n            const positions = props.position.split('-');\n            const offset = props.offset;\n            if (offset.length == 2) {\n                const x = offset[0];\n                const y = offset[1];\n                if (context.slots['default'] != null) {\n                    if (positions.length == 2) {\n                        const offsetY = positions[0], offsetX = positions[1];\n                        if (isNumber(y)) {\n                            const _y = y;\n                            style.set(offsetY, addUnit(offsetY == 'top' ? _y : -_y));\n                        }\n                        else {\n                            style.set(offsetY, offsetY == 'top' ? addUnit(y) : getOffsetWithMinusString(`${y}`));\n                        }\n                        if (isNumber(x)) {\n                            const _x = x;\n                            style.set(offsetX, addUnit(offsetX == 'left' ? _x : -_x));\n                        }\n                        else {\n                            style.set(offsetY, offsetY == 'left' ? addUnit(x) : getOffsetWithMinusString(`${x}`));\n                        }\n                    }\n                }\n                else {\n                    style.set('margin-top', addUnit(y));\n                    style.set('margin-left', addUnit(x));\n                }\n            }\n            return style;\n        });\n        const hasContent = computed(() => {\n            if (toBoolean(context.slots['content'])) {\n                return true;\n            }\n            const content = props.content;\n            return (content != '' && content != null && (props.showZero || content !== '0'));\n        });\n        const renderContent = computed(() => {\n            const dot = props.dot;\n            const max = props.max;\n            const content = props.content;\n            if (!dot && hasContent.value) {\n                if (max != 0 && isNumeric(content) && parseFloat(content.toString()) > max) {\n                    return `${max}+`;\n                }\n            }\n            if (dot) {\n                return '';\n            }\n            return `${content !== null && content !== void 0 ? content : \"\"}`;\n        });\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _ctx.$slots['default'] != null\n            }), _ctx.$slots['default'] != null ? _e(new UTSJSONObject({\n                b: _unref(hasContent) || _ctx.dot\n            }), _unref(hasContent) || _ctx.dot ? new UTSJSONObject({\n                c: _t(_unref(renderContent)),\n                d: _sei('r0-02f1abb1', 'text', 'textRef'),\n                e: _n(_unref(classes)),\n                f: _s(_unref(styles))\n            }) : new UTSJSONObject({})) : _unref(hasContent) || _ctx.dot ? new UTSJSONObject({\n                h: _t(_unref(renderContent)),\n                i: _n(_unref(classes)),\n                j: _s(_unref(styles))\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                g: _unref(hasContent) || _ctx.dot\n            }));\n            return __returned__;\n        };\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-badge/components/l-badge/l-badge.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/isNumeric/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/isNumber/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/addUnit/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/toBoolean/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-badge/components/l-badge/utils.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-badge/components/l-badge/type.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"l-badge.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"l-badge.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
