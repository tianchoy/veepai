{"code":"// @ts-nocheck\n// export * from './vue.ts'\nexport { getRect, getAllRect } from './vue.ts';\n/**\n * 获取视口滚动条位置信息\n */\nexport function getViewportScrollInfo() {\n    return new Promise(resolve => {\n        uni.createSelectorQuery()\n            .selectViewport()\n            .scrollOffset((res) => {\n            resolve(res);\n        }).exec();\n    });\n}\n/**\n * 计算元素需要滚动到可视区域的目标滚动位置\n * @param viewportHeight 视口高度（像素）\n * @param viewportScrollTop 当前滚动位置（像素）\n * @param elementHeight 元素高度（像素）\n * @param elementOffsetTop 元素相对于父容器顶部的偏移量（像素）\n * @param options 配置选项\n * @returns 计算后的目标滚动位置（像素）\n *\n * @example\n * // 示例：将元素滚动到视口顶部对齐\n * const scrollTop = getScrollIntoViewValue(\n *   500,  // 视口高度\n *   200,  // 当前滚动位置\n *   100,  // 元素高度\n *   300,  // 元素偏移量\n *   { position: 'start' }\n * );\n */\nexport function getScrollIntoViewValue(viewportHeight, viewportScrollTop, elementHeight, elementOffsetTop, options = {}) {\n    let _a = options.startOffset, startOffset = _a == void 0 ? 0 : _a, _b = options.endOffset, endOffset = _b == void 0 ? 0 : _b, _c = options.position, position = _c == void 0 ? 'nearest' : _c;\n    // 计算元素相对于视口的上下偏移量\n    const elementToViewportTopOffset = elementOffsetTop - viewportScrollTop - startOffset;\n    const elementToViewportBottomOffset = elementOffsetTop +\n        elementHeight -\n        viewportScrollTop -\n        viewportHeight +\n        endOffset;\n    // 处理 nearest 模式，自动选择最近边缘\n    if (position == 'nearest') {\n        if (elementToViewportTopOffset >= 0 && elementToViewportBottomOffset <= 0) {\n            return viewportScrollTop;\n        }\n        position =\n            Math.abs(elementToViewportTopOffset) > Math.abs(elementToViewportBottomOffset)\n                ? 'end'\n                : 'start';\n    }\n    // 根据不同的对齐位置计算目标滚动位置\n    let nextScrollTop = 0;\n    switch (position) {\n        case 'start':\n            // 顶部对齐：元素顶部对齐视口顶部（考虑顶部缓冲）\n            nextScrollTop = elementOffsetTop - startOffset;\n            break;\n        case 'center':\n            // 居中对齐：元素中心对齐视口中心（考虑上下缓冲）\n            nextScrollTop =\n                elementOffsetTop -\n                    (viewportHeight - elementHeight - endOffset - startOffset) / 2 +\n                    startOffset;\n            break;\n        case 'end':\n            // 底部对齐：元素底部对齐视口底部（考虑底部缓冲）\n            nextScrollTop =\n                elementOffsetTop + elementHeight - viewportHeight + endOffset;\n            break;\n    }\n    return nextScrollTop;\n}\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/getRect/index.js.map","references":["/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/getRect/vue.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"index.ts\"],\"names\":[],\"mappings\":\"AAAA,cAAc;AAQd,2BAA2B;AAC3B,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAA;AAK9C;;GAEG;AACH,MAAM,UAAU,qBAAqB;IACpC,OAAO,IAAI,OAAO,CAAC,OAAO;QACzB,GAAG,CAAC,mBAAmB,EAAE;aACvB,cAAc,EAAE;aAChB,YAAY,CAAC,CAAC,GAAG;YACjB,OAAO,CAAC,GAAG,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;IACZ,CAAC,CAAC,CAAA;AACH,CAAC;AA0CD;;;;;;;;;;;;;;;;;;GAkBG;AACH,MAAM,UAAU,sBAAsB,CACrC,cAAuB,EACvB,iBAA0B,EAC1B,aAAsB,EACtB,gBAAyB,EACzB,UAAkC,EAAE;IAE9B,IAAA,KAAwD,OAAO,YAAhD,EAAf,WAAW,kBAAG,CAAC,KAAA,EAAE,KAAuC,OAAO,UAAjC,EAAb,SAAS,kBAAG,CAAC,KAAA,EAAE,KAAwB,OAAO,SAAX,EAApB,QAAQ,kBAAG,SAAS,KAAA,CAAY;IAEtE,kBAAkB;IAClB,MAAM,0BAA0B,GAAG,gBAAgB,GAAG,iBAAiB,GAAG,WAAW,CAAC;IACtF,MAAM,6BAA6B,GAClC,gBAAgB;QAChB,aAAa;QACb,iBAAiB;QACjB,cAAc;QACd,SAAS,CAAC;IAEX,yBAAyB;IACzB,IAAI,QAAQ,IAAI,SAAS,EAAE;QAC1B,IAAI,0BAA0B,IAAI,CAAC,IAAI,6BAA6B,IAAI,CAAC,EAAE;YAC1E,OAAO,iBAAiB,CAAC;SACzB;QACD,QAAQ;YACP,IAAI,CAAC,GAAG,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,6BAA6B,CAAC;gBAC7E,CAAC,CAAC,KAAK;gBACP,CAAC,CAAC,OAAO,CAAC;KACZ;IAED,oBAAoB;IACpB,IAAI,aAAa,GAAG,CAAC,CAAC;IACtB,QAAQ,QAAQ,EAAE;QACjB,KAAK,OAAO;YACX,0BAA0B;YAC1B,aAAa,GAAG,gBAAgB,GAAG,WAAW,CAAC;YAC/C,MAAM;QACP,KAAK,QAAQ;YACZ,0BAA0B;YAC1B,aAAa;gBACZ,gBAAgB;oBAChB,CAAC,cAAc,GAAG,aAAa,GAAG,SAAS,GAAG,WAAW,CAAC,GAAG,CAAC;oBAC9D,WAAW,CAAC;YACb,MAAM;QACP,KAAK,KAAK;YACT,0BAA0B;YAC1B,aAAa;gBACZ,gBAAgB,GAAG,aAAa,GAAG,cAAc,GAAG,SAAS,CAAC;YAC/D,MAAM;KACP;IAED,OAAO,aAAa,CAAC;AACtB,CAAC\"}"}
