{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { resolveComponent as _resolveComponent, o as _o, p as _p, toDisplayString as _toDisplayString, t as _t, gei as _gei, sei as _sei, e as _e } from \"vue\";\nconst __BINDING_COMPONENTS__ = '{\"fui-input\":{\"name\":\"_easycom_fui_input\",\"type\":\"unknown\"},\"fui-button\":{\"name\":\"_easycom_fui_button\",\"type\":\"unknown\"}}';\nif (!Array) {\n    const _easycom_fui_input_1 = _resolveComponent(\"fui-input\");\n    const _easycom_fui_button_1 = _resolveComponent(\"fui-button\");\n    (_easycom_fui_input_1 + _easycom_fui_button_1)();\n}\nimport _easycom_fui_input from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-input/fui-input.uvue';\nimport _easycom_fui_button from '/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-button/fui-button.uvue';\nif (!Math) {\n    (_easycom_fui_input + _easycom_fui_button)();\n}\nimport { ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent(new UTSJSONObject({\n    __name: 'changePassword',\n    setup(__props) {\n        const oldPassword = ref('');\n        const newPassword = ref('');\n        const confirmPassword = ref('');\n        const btnDisabled = ref(true);\n        const errorMsg = ref(''); // 错误提示信息\n        // 增强密码规则：必须包含两类及以上字符\n        const passwordReg = /^(?:(?=.*[a-zA-Z])(?=.*\\d)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z\\d])|(?=.*\\d)(?=.*[^a-zA-Z\\d])).{8,16}$/;\n        // 验证密码格式\n        function verPassword(psw) {\n            return passwordReg.test(psw);\n        }\n        // 更新按钮状态\n        const updateBtnState = () => {\n            const allFieldsFilled = oldPassword.value.length > 0 &&\n                newPassword.value.length > 0 &&\n                confirmPassword.value.length > 0;\n            const passwordsMatch = newPassword.value === confirmPassword.value;\n            const newPwdValid = verPassword(newPassword.value);\n            btnDisabled.value = !(allFieldsFilled && newPwdValid && passwordsMatch);\n        };\n        // 更新旧密码\n        const updateOldPassword = (e) => {\n            oldPassword.value = e;\n            updateBtnState();\n        };\n        // 更新新密码\n        const updateNewPassword = (e) => {\n            newPassword.value = e;\n            errorMsg.value = '';\n            if (e.length > 0 && !verPassword(e)) {\n                errorMsg.value = '密码格式不符合要求';\n            }\n            else if (confirmPassword.value.length > 0 && e != confirmPassword.value) {\n                errorMsg.value = '两次输入的密码不一致';\n            }\n            updateBtnState();\n        };\n        // 更新确认密码\n        const updateConfirmPassword = (e) => {\n            confirmPassword.value = e;\n            errorMsg.value = '';\n            if (e.length > 0) {\n                if (!verPassword(e)) {\n                    errorMsg.value = '确认密码格式不符合要求';\n                }\n                else if (e != newPassword.value) {\n                    errorMsg.value = '两次输入的密码不一致';\n                }\n            }\n            updateBtnState();\n        };\n        // 提交表单\n        const submit = () => {\n            if (!verPassword(newPassword.value)) {\n                uni.showToast({\n                    title: '密码格式错误',\n                    icon: 'none'\n                });\n                return null;\n            }\n            if (newPassword.value != confirmPassword.value) {\n                uni.showToast({\n                    title: '两次密码不一致',\n                    icon: 'none'\n                });\n                return null;\n            }\n            uni.showToast({\n                title: '提交成功',\n                icon: 'none'\n            });\n        };\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _o(updateOldPassword),\n                b: _p(new UTSJSONObject({\n                    label: '\\u65E7\\u5BC6\\u7801',\n                    placeholder: '\\u8BF7\\u8F93\\u5165\\u539F\\u5BC6\\u7801',\n                    type: 'password',\n                    modelValue: oldPassword.value\n                })),\n                c: _o(updateNewPassword),\n                d: _p(new UTSJSONObject({\n                    label: '\\u65B0\\u5BC6\\u7801',\n                    placeholder: '\\u8BF7\\u8F93\\u5165\\u65B0\\u5BC6\\u7801',\n                    type: 'password',\n                    modelValue: newPassword.value\n                })),\n                e: _o(updateConfirmPassword),\n                f: _p(new UTSJSONObject({\n                    label: '\\u786E\\u8BA4\\u65B0\\u5BC6\\u7801',\n                    placeholder: '\\u518D\\u6B21\\u8F93\\u5165\\u65B0\\u5BC6\\u7801',\n                    type: 'password',\n                    modelValue: confirmPassword.value\n                })),\n                g: errorMsg.value\n            }), errorMsg.value ? new UTSJSONObject({\n                h: _t(errorMsg.value)\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                i: _o(submit),\n                j: _p(new UTSJSONObject({\n                    color: '#fff',\n                    disabled: btnDisabled.value,\n                    text: '\\u63D0\\u4EA4',\n                    background: '#1296db',\n                    height: '80rpx'\n                })),\n                k: _sei(_gei(_ctx, ''), 'view')\n            }));\n            return __returned__;\n        };\n    }\n}));\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/pages/mine/userInfo/changePassword/changePassword.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-input/fui-input.uvue.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-button/fui-button.uvue.ts","/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":["uni.showToast"],"map":"{\"version\":3,\"file\":\"changePassword.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"changePassword.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,eAAe,IAAI,gBAAgB,EAAE,MAAM,KAAK,CAAA;AACzD,OAAO,EAAE,gBAAgB,IAAI,iBAAiB,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,eAAe,IAAI,gBAAgB,EAAE,CAAC,IAAI,EAAE,EAAE,GAAG,IAAI,IAAI,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,MAAM,KAAK,CAAA;AAC9J,MAAM,sBAAsB,GAAG,2HAA2H,CAAA;AAC1J,IAAI,CAAC,KAAK,EAAE;IAAC,MAAM,oBAAkB,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC;IAAA,MAAM,qBAAmB,GAAG,iBAAiB,CAAC,YAAY,CAAC,CAAC;IAAA,CAAC,oBAAkB,GAAC,qBAAmB,CAAC,EAAE,CAAA;CAAC;AAC9K,OAAO,kBAAkB,MAAM,mGAAmG,CAAC;AAAA,OAAO,mBAAmB,MAAM,qGAAqG,CAAC;AACzQ,IAAI,CAAC,IAAI,EAAE;IAAE,CAAC,kBAAkB,GAAC,mBAAmB,CAAC,EAAE,CAAA;CAAE;AAEzD,OAAO,EAAE,GAAG,EAAE,MAAM,KAAK,CAAA;AAGzB,eAAe,aAAa,CAAA,gBAAgB,mBAAC;IAC3C,MAAM,EAAE,gBAAgB;IACxB,KAAK,CAAC,OAAO;QAEd,MAAM,WAAW,GAAG,GAAG,CAAS,EAAE,CAAC,CAAA;QACnC,MAAM,WAAW,GAAG,GAAG,CAAS,EAAE,CAAC,CAAA;QACnC,MAAM,eAAe,GAAG,GAAG,CAAS,EAAE,CAAC,CAAA;QACvC,MAAM,WAAW,GAAG,GAAG,CAAU,IAAI,CAAC,CAAA;QACtC,MAAM,QAAQ,GAAG,GAAG,CAAS,EAAE,CAAC,CAAA,CAAC,SAAS;QAE1C,qBAAqB;QACrB,MAAM,WAAW,GAAG,+FAA+F,CAAA;QAEnH,SAAS;QACT,SAAS,WAAW,CAAC,GAAY;YAChC,OAAO,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;QAC7B,CAAC;QAED,SAAS;QACT,MAAM,cAAc,GAAG;YACtB,MAAM,eAAe,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;gBACnD,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;gBAC5B,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAA;YAEjC,MAAM,cAAc,GAAG,WAAW,CAAC,KAAK,KAAK,eAAe,CAAC,KAAK,CAAA;YAClE,MAAM,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;YAElD,WAAW,CAAC,KAAK,GAAG,CAAC,CAAC,eAAe,IAAI,WAAW,IAAI,cAAc,CAAC,CAAA;QACxE,CAAC,CAAA;QAED,QAAQ;QACR,MAAM,iBAAiB,GAAG,CAAC,CAAU;YACpC,WAAW,CAAC,KAAK,GAAG,CAAC,CAAA;YACrB,cAAc,EAAE,CAAA;QACjB,CAAC,CAAA;QAED,QAAQ;QACR,MAAM,iBAAiB,GAAG,CAAC,CAAU;YACpC,WAAW,CAAC,KAAK,GAAG,CAAC,CAAA;YACrB,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAA;YAEnB,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;gBACpC,QAAQ,CAAC,KAAK,GAAG,WAAW,CAAA;aAC5B;iBAAM,IAAI,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,eAAe,CAAC,KAAK,EAAE;gBAC1E,QAAQ,CAAC,KAAK,GAAG,YAAY,CAAA;aAC7B;YAED,cAAc,EAAE,CAAA;QACjB,CAAC,CAAA;QAED,SAAS;QACT,MAAM,qBAAqB,GAAG,CAAC,CAAU;YACxC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAA;YACzB,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAA;YAEnB,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;oBACpB,QAAQ,CAAC,KAAK,GAAG,aAAa,CAAA;iBAC9B;qBAAM,IAAI,CAAC,IAAI,WAAW,CAAC,KAAK,EAAE;oBAClC,QAAQ,CAAC,KAAK,GAAG,YAAY,CAAA;iBAC7B;aACD;YAED,cAAc,EAAE,CAAA;QACjB,CAAC,CAAA;QAED,OAAO;QACP,MAAM,MAAM,GAAG;YACd,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;gBACpC,GAAG,CAAC,SAAS,CAAC;oBACb,KAAK,EAAE,QAAQ;oBACf,IAAI,EAAE,MAAM;iBACZ,CAAC,CAAA;gBACF,YAAM;aACN;YACD,IAAI,WAAW,CAAC,KAAK,IAAI,eAAe,CAAC,KAAK,EAAE;gBAC/C,GAAG,CAAC,SAAS,CAAC;oBACb,KAAK,EAAE,SAAS;oBAChB,IAAI,EAAE,MAAM;iBACZ,CAAC,CAAA;gBACF,YAAM;aACN;YACD,GAAG,CAAC,SAAS,CAAC;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,MAAM;aACZ,CAAC,CAAA;QACH,CAAC,CAAA;QAEF,OAAO,CAAC,IAAI,OAAA,EAAE,MAAM,OAAA;YAClB,MAAM,YAAY,GAAG,EAAE,mBAAC;gBACxB,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC;gBACxB,CAAC,EAAE,EAAE,mBAAC;oBACJ,KAAK,EAAE,oBAAoB;oBAC3B,WAAW,EAAE,sCAAsC;oBACnD,IAAI,EAAE,UAAU;oBAChB,UAAU,EAAE,WAAW,CAAC,KAAK;iBAC9B,EAAC;gBACF,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC;gBACxB,CAAC,EAAE,EAAE,mBAAC;oBACJ,KAAK,EAAE,oBAAoB;oBAC3B,WAAW,EAAE,sCAAsC;oBACnD,IAAI,EAAE,UAAU;oBAChB,UAAU,EAAE,WAAW,CAAC,KAAK;iBAC9B,EAAC;gBACF,CAAC,EAAE,EAAE,CAAC,qBAAqB,CAAC;gBAC5B,CAAC,EAAE,EAAE,mBAAC;oBACJ,KAAK,EAAE,gCAAgC;oBACvC,WAAW,EAAE,4CAA4C;oBACzD,IAAI,EAAE,UAAU;oBAChB,UAAU,EAAE,eAAe,CAAC,KAAK;iBAClC,EAAC;gBACF,CAAC,EAAE,QAAQ,CAAC,KAAK;aAClB,GAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,mBAAC;gBAClB,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC;aACtB,EAAC,CAAC,mBAAC,EAAE,CAAA,oBAAE;gBACN,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC;gBACb,CAAC,EAAE,EAAE,mBAAC;oBACJ,KAAK,EAAE,MAAM;oBACb,QAAQ,EAAE,WAAW,CAAC,KAAK;oBAC3B,IAAI,EAAE,cAAc;oBACpB,UAAU,EAAE,SAAS;oBACrB,MAAM,EAAE,OAAO;iBAChB,EAAC;gBACF,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC;aAChC,EAAC,CAAA;YACA,OAAO,YAAY,CAAA;QACrB,CAAC,CAAA;IACD,CAAC;CAEA,EAAC,CAAA\"}"}
