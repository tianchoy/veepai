{"version":3,"file":"app-service.js","sources":["uni_modules/lime-shared/isNumber/index.ts","uni_modules/lime-shared/isString/index.ts","uni_modules/lime-shared/isNumeric/index.ts","uni_modules/lime-shared/isDef/index.ts","uni_modules/lime-shared/addUnit/index.ts","uni_modules/lime-icon/components/l-icon/icons.uts","uni_modules/lime-icon/components/l-icon/l-icon.uvue","uni_modules/firstui-unix/components/fui-button/fui-button.uvue","uni_modules/firstui-unix/components/fui-icon/fui-icon.uts","uni_modules/firstui-unix/components/fui-icon/fui-icon.uvue","components/TopNavBar.uvue","pages/index/index.uvue","uni_modules/lime-date-strip/components/l-date-strip-item/l-date-strip-item.uvue","static/dot1.png","uni_modules/lime-date-strip/components/l-date-strip/utils.uts","uni_modules/lime-shared/unitConvert/index.ts","uni_modules/lime-date-strip/components/l-date-strip/l-date-strip.uvue","uni_modules/lime-daily-punch/components/l-daily-punch/calender.uts","uni_modules/lime-daily-punch/components/l-daily-punch/l-daily-punch.uvue","uni_modules/firstui-unix/components/fui-bottom-popup/fui-bottom-popup.uvue","uni_modules/firstui-unix/components/fui-radio/fui-radio.uvue","uni_modules/firstui-unix/components/fui-list-cell/fui-list-cell.uvue","uni_modules/firstui-unix/components/fui-label/fui-label.uvue","uni_modules/firstui-unix/components/fui-radio-group/fui-radio-group.uvue","uni_modules/lime-dayuts/utssdk/interface.uts","uni_modules/lime-dayuts/common/constant.ts","uni_modules/lime-dayuts/common/utils.ts","uni_modules/lime-dayuts/common/locale/en/index.ts","uni_modules/lime-dayuts/common/locale/zh-cn/index.ts","uni_modules/lime-dayuts/common/use.ts","uni_modules/lime-dayuts/common/index.ts","pages/message/message.uvue","static/down.png","static/notice.png","static/vedio.png","static/people.png","static/mobile.png","pages/mine/mine.uvue","static/mine/local.png","static/mine/cloud.png","static/mine/msgList.png","static/mine/user.png","static/mine/right.png","static/mine/liuliang.png","static/mine/order.png","static/mine/quetion.png","static/mine/online.png","static/mine/advice.png","static/mine/setting.png","static/mine/about.png","uni_modules/firstui-unix/components/fui-switch/fui-switch.uvue","pages/mine/userInfo/userInfo.uvue","pages/mine/userInfo/CancelAnAccount/CancelAnAccount.uvue","static/error_big.png","uni_modules/firstui-unix/components/fui-input/fui-input.uvue","pages/mine/userInfo/changePhoneNumber/changePhoneNumber.uvue","pages/mine/userInfo/changePassword/changePassword.uvue","uni_modules/lime-progress/components/l-progress/l-progress.uvue","pages/mine/rechargeDataTraffic/rechargeDataTraffic.uvue","uni_modules/lime-color/utssdk/interface.uts","uni_modules/lime-color/common/util.uts","uni_modules/lime-color/common/conversion.uts","uni_modules/lime-color/common/css-color-names.uts","uni_modules/lime-color/common/format-input.uts","uni_modules/lime-color/common/color.uts","uni_modules/lime-color/common/generate.uts","uni_modules/lime-loading/index.uts","uni_modules/lime-loading/components/l-loading/l-loading.uvue","uni_modules/lime-button/components/l-button/l-button.uvue","uni_modules/lime-shared/characterLimit/index.ts","uni_modules/lime-search/components/l-search/l-search.uvue","uni_modules/lime-tabs/components/l-tab-panel/l-tab-panel.uvue","uni_modules/lime-shared/toBoolean/index.ts","uni_modules/lime-badge/components/l-badge/utils.ts","uni_modules/lime-badge/components/l-badge/l-badge.uvue","uni_modules/lime-tabs/components/l-tabs/utils.ts","uni_modules/lime-shared/clamp/index.ts","uni_modules/lime-tabs/components/l-tabs/touch.ts","uni_modules/lime-tabs/components/l-tabs/l-tabs.uvue","pages/mine/helpCenter/helpCenter.uvue","pages/message/messageDetail/messageDetail.uvue","uni_modules/firstui-unix/components/fui-types/index.uts","uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue","uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue","pages/login/login.uvue","static/login_banner.png","pages/message/messageDeviceDetail/messageDeviceDetail.uvue","uni_modules/firstui-unix/components/fui-tag/fui-tag.uvue","pages/message/messageSystem/messageSystem.uvue","pages/mine/myOrders/myOrders.uvue","pages/mine/myOrders/orderDetail/orderDetail.uvue","uni_modules/lime-style/hairline.uts","uni_modules/lime-textarea/components/l-textarea/l-textarea.uvue","uni_modules/lime-upload/components/l-upload/utils.ts","uni_modules/lime-upload/components/l-upload/l-upload.uvue","uni_modules/lime-picker/components/l-picker-item/l-picker-item.uvue","uni_modules/lime-picker/components/l-picker/utils.uts","uni_modules/lime-picker/components/l-picker/l-picker.uvue","uni_modules/lime-shared/raf/uvue.uts","uni_modules/lime-transition/index.ts","uni_modules/lime-overlay/components/l-overlay/l-overlay.uvue","uni_modules/lime-popup/components/l-popup/utils.ts","uni_modules/lime-popup/components/l-popup/l-popup.uvue","pages/mine/feeback/feeback.uvue","static/required_ios.png","pages/mine/systemSetting/systemSetting.uvue","static/logo.png","uni_modules/lime-grid/components/l-grid-item/l-grid-item.uvue","uni_modules/lime-grid/components/l-grid/l-grid.uvue","pages/index/deviceDetail.uvue","static/device/zxj.png","static/device/vedio.png","static/device/volume_1.png","static/device/voice_1.png","static/device/hd.png","static/device/zhence.png","static/device/night.png","static/device/jtfz.png","static/device/cloud.png","static/device/winfo.png","static/device/jd.png","static/device/redblue_1.png","static/device/replay.png","static/device/share.png","uni_modules/lime-input/components/l-input/l-input.uvue","uni_modules/lime-dialog/components/l-dialog/utils.uts","uni_modules/lime-dialog/components/l-dialog/l-dialog.uvue","pages/index/deviceSetting.uvue","pages/index/deviceReplay.uvue","uni_modules/firstui-unix/components/fui-badge/fui-badge.uvue","pages/index/deviceSettingInfo/deviceSettingInfo.uvue","pages/index/deviceSettingInfo/deviceNight.uvue","pages/index/intelligentWatch.uvue","uni_modules/lime-date-time-picker/components/l-date-time-picker/constant.ts","uni_modules/lime-date-time-picker/components/l-date-time-picker/utils.ts","uni_modules/lime-date-time-picker/components/l-date-time-picker/l-date-time-picker.uvue","pages/index/TFCardSetting.uvue","uni_modules/firstui-unix/components/fui-empty/fui-empty.uvue","pages/index/deviceRechargeData.uvue","uni_modules/lime-checkbox/components/l-checkbox/l-checkbox.uvue","uni_modules/lime-checkbox/components/l-checkbox-group/utils.uts","uni_modules/lime-checkbox/components/l-checkbox-group/l-checkbox-group.uvue","pages/index/deviceShare/deviceShare.uvue","pages/index/deviceShare/deviceVisitor.uvue","pages/index/deviceShare/visitorDetail.uvue","pages/index/addNewDevice/addNewDevice.uvue","static/device/flashlight.png","static/device/picture.png","App.uvue"],"sourcesContent":["// @ts-nocheck\r\n/**\r\n * 检查一个值是否为数字类型\r\n * @param value 要检查的值，可以是 number 类型或 string 类型的数字\r\n * @returns 如果值是数字类型且不是 NaN，则返回 true；否则返回 false\r\n */\r\n\r\n// #ifndef UNI-APP-X\r\nexport function isNumber(value: number | string | null): boolean {\r\n  return typeof value === 'number' && !isNaN(value);\r\n}\r\n// #endif\r\n\r\n// #ifdef UNI-APP-X\r\nexport function isNumber(value: any|null): boolean {\r\n\t// #ifdef APP-ANDROID\r\n\treturn ['Byte', 'UByte','Short','UShort','Int','UInt','Long','ULong','Float','Double','number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifdef APP-IOS\r\n\treturn ['Int8', 'UInt8','Int16','UInt16','Int32','UInt32','Int64','UInt64','Int','UInt','Float','Float16','Float32','Float64','Double', 'number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifndef APP-ANDROID || APP-IOS\r\n\treturn typeof value === 'number' && !isNaN(value);\r\n\t// #endif\r\n}\r\n// #endif","// @ts-nocheck\r\n/**\r\n * 检查一个值是否为字符串类型\r\n * @param str 要检查的值\r\n * @returns 如果值的类型是字符串类型，则返回 true；否则返回 false\r\n */\r\n// #ifndef UNI-APP-X && APP\r\n// export const isString = (str: unknown): str is string => typeof str === 'string';\r\nexport function isString (str: unknown): str is string {\r\n\treturn typeof str == 'string'\r\n}\r\n// #endif\r\n\r\n\r\n// #ifdef UNI-APP-X && APP\r\nexport function isString (str: any|null): boolean {\r\n\treturn typeof str == 'string'\r\n}\r\n// #endif\r\n","// @ts-nocheck\r\n\r\n/**\r\n * 检查一个值是否为数字类型或表示数字的字符串\r\n * @param value 要检查的值，可以是 string 类型或 number 类型\r\n * @returns 如果值是数字类型或表示数字的字符串，则返回 true；否则返回 false\r\n */\r\n\r\n// #ifndef UNI-APP-X && APP\r\nexport function isNumeric(value: string | number | undefined | null): boolean {\r\n  return /^(-)?\\d+(\\.\\d+)?$/.test(value);\r\n}\r\n// #endif\r\n\r\n\r\n// #ifdef UNI-APP-X && APP\r\nimport {isNumber} from '../isNumber';\r\nimport {isString} from '../isString';\r\nexport function isNumeric(value : any|null) : boolean {\r\n\tif(value == null) {\r\n\t\treturn false\r\n\t}\r\n\tif(isNumber(value)) {\r\n\t\treturn true\r\n\t} else if(isString(value)) {\r\n\t\t// const regex = \"-?\\\\d+(\\\\.\\\\d+)?\".toRegex()\r\n\t\tconst regex = new RegExp(\"^(-)?\\\\d+(\\\\.\\\\d+)?$\")\r\n\t\treturn  regex.test(value as string) //regex.matches(value as string) \r\n\t}\r\n\treturn false\r\n\t// return /^(-)?\\d+(\\.\\d+)?$/.test(value);\r\n}\r\n// #endif\r\n","// @ts-nocheck\r\n/**\r\n * 检查一个值是否已定义（不为 undefined）且不为 null\r\n * @param value 要检查的值\r\n * @returns 如果值已定义且不为 null，则返回 true；否则返回 false\r\n */\r\n// #ifndef UNI-APP-X\r\nexport function isDef(value: unknown): boolean {\r\n  return value !== undefined && value !== null;\r\n}\r\n// #endif\r\n\r\n\r\n// #ifdef UNI-APP-X\r\nexport function isDef(value : any|null) : boolean {\r\n\t// #ifdef UNI-APP-X && APP\r\n\treturn value != null;\r\n\t// #endif\r\n\t// #ifndef UNI-APP-X && APP\r\n\treturn value != null && value != undefined;\r\n\t// #endif\r\n}\r\n// #endif","// @ts-nocheck\r\nimport {isNumeric} from '../isNumeric'\r\nimport {isDef} from '../isDef'\r\n/**\r\n * 给一个值添加单位（像素 px）\r\n * @param value 要添加单位的值，可以是字符串或数字\r\n * @returns 添加了单位的值，如果值为 null 则返回 null\r\n */\r\n\r\n// #ifndef UNI-APP-X && APP\r\nexport function addUnit(value?: string | number): string | null {\r\n  if (!isDef(value)) {\r\n    return null;\r\n  }\r\n  value = String(value); // 将值转换为字符串\r\n  // 如果值是数字，则在后面添加单位 \"px\"，否则保持原始值\r\n  return isNumeric(value) ? `${value}px` : value;\r\n}\r\n// #endif\r\n\r\n\r\n// #ifdef UNI-APP-X && APP\r\nfunction addUnit(value: string): string\r\nfunction addUnit(value: number): string\r\nfunction addUnit(value: any|null): string|null  {\r\n  if (!isDef(value)) {\r\n    return null;\r\n  }\r\n  value = `${value}` //value.toString(); // 将值转换为字符串\r\n\r\n  // 如果值是数字，则在后面添加单位 \"px\"，否则保持原始值\r\n  return isNumeric(value) ? `${value}px` : value;\r\n}\r\nexport {addUnit}\r\n// #endif\r\n\r\n\r\n// console.log(addUnit(100)); // 输出: \"100px\"\r\n// console.log(addUnit(\"200\")); // 输出: \"200px\"\r\n// console.log(addUnit(\"300px\")); // 输出: \"300px\"（已经包含单位）\r\n// console.log(addUnit()); // 输出: undefined（值为 undefined）\r\n// console.log(addUnit(null)); // 输出: undefined（值为 null）","// #ifndef APP-ANDROID || APP-IOS || APP-HARMONY\r\nimport iconList from '../../static/icons.json';\r\nexport const icons = ref<Map<string, any | null>>((iconList as UTSJSONObject).toMap())\r\n// #endif\r\n// #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\nexport const icons = ref<Map<string, any | null>>(new Map<string, any | null>())\r\n\r\nif (icons.value.size == 0) {\r\n\tuni.getFileSystemManager().readFile({\r\n\t\tfilePath: '/uni_modules/lime-icon/static/icons.json',\r\n\t\tencoding: 'utf-8',\r\n\t\tsuccess: (res) => {\r\n\t\t\tconst obj = JSON.parseObject(res.data as string)\r\n\t\t\tif (obj == null) return\r\n\t\t\ticons.value = obj.toMap();\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: `lime-icon:${err.errMsg}`\r\n\t\t\t})\r\n\t\t}\r\n\t} as ReadFileOptions);\r\n}\r\n// #endif","<template>\r\n\t<text class=\"l-icon\" :class=\"[classes, lClass]\" :style=\"[styles, lStyle]\" v-if=\"!isImage && !isIconify && !isSVG\" @click=\"$emit('click')\">{{iconCode}}</text>\r\n\t<image class=\"l-icon\" :class=\"[classes, lClass]\" :style=\"[styles, lStyle]\" v-else-if=\"(!isSVG && !isIconify) && isImage\" :src=\"iconUrl\" @click=\"$emit('click')\"></image>\r\n\t<!-- <l-svg class=\"l-icon\" :class=\"[classes, lClass]\" :style=\"[styles, lStyle]\" :color=\"color\" :src=\"iconUrl\" v-else :web=\"web\" @error=\"imageError\" @load=\"imageload\" @click=\"$emit('click')\"></l-svg> -->\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * LimeIcon 图标\r\n\t * @description ICON集\r\n\t * <br> 插件类型：LIconComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=14057\r\n\t * @property {String} name 图标名称\r\n\t * @property {String} color 颜色\r\n\t * @property {String} size 尺寸\r\n\t * @property {String} prefix 字体图标前缀  \r\n\t * @property {Boolean} inherit 是否继承颜色 \r\n\t * @property {Boolean} web 原生 app(nvue,uvue) 是否使用web渲染  \r\n\t * @event {Function} click 点击事件\r\n\t */\r\n\t\r\n\timport { addUnit } from '@/uni_modules/lime-shared/addUnit';\r\n\timport { IconCollection } from './types';\r\n\timport { icons } from './icons'\r\n\t// defineOptions({\r\n\t// \tname: 'l-icon'\r\n\t// })\r\n\tconst name = 'l-icon'\r\n\tconst IconifyURL : string = 'https://api.iconify.design/';\r\n\tconst $iconsHost : string | null = uni.getStorageSync('$limeIconsHost') as string | null\r\n\r\n\tconst props = defineProps({\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t\trequired: true,\r\n\t\t\t// validator: (value: string) : boolean => {\r\n\t\t\t// \t// 确保是字符串类型且不为空\r\n\t\t\t// \treturn typeof value == 'string' && value.trim().length > 0\r\n\t\t\t// }\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\ttype: String,\r\n\t\t\t// default: ''\r\n\t\t},\r\n\t\tsize: {\r\n\t\t\ttype: [String, Number],\r\n\r\n\t\t\t// default: 32,\r\n\r\n\t\t},\r\n\t\tprefix: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tlClass: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\t// 对安卓IOS无效\r\n\t\tinherit: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tweb: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tlStyle: {\r\n\t\t\ttype: [String, Object, Array],\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t})\r\n\r\n\tconst emits = defineEmits(['click'])\r\n\tconst $iconCollection = inject<IconCollection>('$iconCollection', {has: false, icons: new Map<string, any|null>()} as IconCollection)\r\n\r\n\tconst innerName = computed(():string => props.name ?? '')\r\n\r\n\r\n\r\n\r\n\tconst collectionIcon = computed(():string|null => {\r\n\t\treturn $iconCollection.icons.get(innerName.value) as string | null\r\n\t})\r\n\tconst webviewRef = ref<UniWebViewElement | null>(null)\r\n\tconst hasHost = computed<boolean>(() : boolean => innerName.value.indexOf('/') != -1)\r\n\tconst isIconify = computed<boolean>(() : boolean => {\r\n\t\treturn !hasHost.value && innerName.value.includes(':')\r\n\t})\r\n\tconst isImage = computed<boolean>(() : boolean => {\r\n\t\treturn /\\.(jpe?g|png|gif|bmp|webp|tiff?)$/i.test(innerName.value) || /^data:image\\/(jpeg|png|gif|bmp|webp|tiff);base64,/.test(innerName.value)\r\n\t})\r\n\tconst isSVG = computed<boolean>(():boolean => {\r\n\t\treturn /\\.svg$/i.test(innerName.value) || innerName.value.startsWith('data:image/svg+xml') || innerName.value.startsWith('<svg')\r\n\t})\r\n\tconst classes = computed<Map<string, any>>(() : Map<string, any> => {\r\n\t\tconst cls = new Map<string, any>()\r\n\t\tcls.set(`${name}--font`, !isImage.value && !isIconify.value && !isSVG.value)\r\n\t\tcls.set(`${name}--image`, isImage.value || isIconify.value || isSVG.value)\r\n\t\tcls.set(props.prefix, props.prefix.length > 0)\r\n\t\tcls.set(props.lClass, props.lClass.length > 0)\r\n\r\n\r\n\r\n\t\treturn cls\r\n\t})\r\n\tconst styles = computed<Map<string, any>>(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\r\n\t\tif ((props.color != '' && props.color != null) && !isImage.value && !isIconify.value) {\r\n\t\t\tstyle.set('color', props.color!)\r\n\t\t}\r\n\t\tconst size = addUnit(props.size) ?? ((isImage.value || isIconify.value) ? '32px' : null)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tif (size != null) {\r\n\t\t\tif (isImage.value || isIconify.value || isSVG.value) {\r\n\t\t\t\tstyle.set('height', size)\r\n\t\t\t\tstyle.set('width', size)\r\n\t\t\t} else {\r\n\t\t\t\tstyle.set('font-size', size)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\tconst iconCode = computed<string>(() : string => {\r\n\t\treturn icons.value.get(innerName.value) as string | null ?? (/[^\\x00-\\x7F]/.test(innerName.value) ? innerName.value : '')\r\n\t})\r\n\tconst isError = ref(false)\r\n\tconst cacheMap = new Map<string, string>()\r\n\tconst iconUrl = computed(():string => {\r\n\t\tconst hasIconsHost = $iconsHost != null && $iconsHost != '' \r\n\t\t// const hasIconCollection = $iconCollection.has\r\n\t\tif(isImage.value) {\r\n\t\t\treturn hasHost.value ? innerName.value : ($iconsHost ?? '') + innerName.value\r\n\t\t} else if(isIconify.value) {\r\n\t\t\t// 防止重绘\r\n\t\t\tif(cacheMap.has(innerName.value) && !isError.value) {\r\n\t\t\t\treturn cacheMap.get(innerName.value)!\r\n\t\t\t}\r\n\t\t\t// 如果存在collectionIcon则使用 \r\n\t\t\t// 如果设置的路径加载失败 就使用网络地址 就使用iconify api\r\n\t\t\tconst _host = `${hasIconsHost ? $iconsHost : IconifyURL}`\r\n\t\t\tconst _icon =collectionIcon.value ?? _host + `${innerName.value}.svg`.replace(/:/g, '/') \r\n\t\t\tcacheMap.set(innerName.value, _icon)\r\n\t\t\treturn _icon\r\n\t\t} else if(isSVG.value) {\r\n\t\t\treturn (/\\.svg$/i.test(innerName.value) && $iconsHost != null && !hasHost.value ? $iconsHost : '') + innerName.value.replace(/'/g, '\"')\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t})\r\n\t\t\r\n\tconst imageError = () => {\r\n\t\tisError.value = true\r\n\t}\r\n\tconst imageload = () => {\r\n\t\tisError.value = false\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index.scss';\r\n</style>","<template>\r\n\t<view class=\"fui-button__wrap\"\r\n\t\t:class=\"[getWidth=='' || getWidth=='100%'?'fui-button__flex-1':'',disabled && disabledBackground=='' ? 'fui-button__opacity' : '',background=='' && disabledBackground=='' && !plain?`fui-button__${type}`:'',height=='' && btnSize==''?'fui-button__height':'',radius==''?'fui-button__radius':'',highlight && !disabled ?'fui-button__active':'']\"\r\n\t\t:style=\"{width: getWidth,height: getHeight,margin:margin,borderRadius: radius,background:getBackground,border:`${borderColor==''?'0px':borderWidth} solid`,borderColor:getBorderColor}\"\r\n\t\t@touchstart=\"handleStart\" @touchend=\"handleEnd\" @touchcancel=\"handleEnd\" @tap=\"handleTap\">\r\n\t\t<view ref=\"fui_button_loading\" @transitionend=\"onEnd\" class=\"fui-button__spin\" :style=\"getStyl\" v-if=\"loading\">\r\n\r\n\t\t\t<view class=\"fui-button__spin-dot\" :style=\"{background:activeColor}\"></view>\r\n\r\n\t\t</view>\r\n\t\t<text class=\"fui-button__text\"\r\n\t\t\t:class=\"{'fui-btn__gray-color':background=='' && disabledBackground=='' && !plain && type=='gray' && color=='#fff','fui-text__bold':bold,'fui-button__size':size==0 && btnSize=='','fui-button__height-text':height=='' && btnSize==''}\"\r\n\t\t\tv-if=\"text\"\r\n\t\t\t:style=\"{fontSize: getSize,color:getColor,height: getHeight,lineHeight:getHeight}\">{{text}}</text>\r\n\t\t<slot></slot>\r\n\t\t<view ref=\"fui_button_hover\" class=\"fui-button__hover\" :style=\"{borderRadius: radius}\"\r\n\t\t\t:class=\"{'fui-button__radius':radius==''}\" v-if=\"highlight\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue';\r\n\t/**\r\n\t * Button 按钮\r\n\t * @description Button 按钮，支持自定义大小、颜色等。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} type {String} 按钮类型，可取值：primary、success、 warning、danger、link、purple、gray\r\n\t * @property {String} background {String} 按钮背景色，当传入值时type失效\r\n\t * @property {String} text {String}\t按钮显示文本\r\n\t * @property {String} color\t{String} 按钮字体颜色\r\n\t * @property {String} disabledBackground {String} 按钮禁用状态下背景色\r\n\t * @property {String} disabledColor {String} 按钮禁用状态下字体颜色\r\n\t * @property {String} borderWidth {String} 按钮边框宽度\r\n\t * @property {String} borderColor {String} 按钮边框颜色\r\n\t * @property {String} btnSize {String} 按钮大小，可选值：medium、small、mini，优先级高于width和height属性\r\n\t * @property {String} width\t{String} 按钮宽度\r\n\t * @property {String} height 按钮高度\r\n\t * @property {Number} size {Number} 字体大小，单位rpx\r\n\t * @property {Boolean} bold {Boolean} 字体是否加粗\r\n\t * @property {String} margin {String} margin值：\r\n\t * @property {String} radius {String} 圆角大小\r\n\t * @property {Boolean} plain {Boolean} 是否镂空\r\n\t * @property {Boolean} highlight {Boolean} 是否需要点击效果 \r\n\t * @property {Boolean} disabled\t{Boolean} 是否禁用\r\n\t * @property {Boolean}loading {Boolean} 是否显示加载图标\r\n\t * @property {String} iconColor\t{String} loading圆环背景色\r\n\t * @property {String} activeColor {String} loading圆环高亮部分颜色\r\n\t * @property {String} formType {String} 用于 form 组件，点击分别会触发 form 组件的 submit/reset 事件\r\n\t * @event {Function} onclick 按钮点击事件，(event: MouseEvent) => void\r\n\t */\r\n\texport default {\r\n\t\tname: 'fui-button',\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'primary'\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttext: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdisabledBackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdisabledColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderWidth: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '0.5px'\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tbtnSize: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '100%'\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tbold: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmargin: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tplain: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\thighlight: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tloading: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ticonColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"#B2B2B2\"\r\n\t\t\t},\r\n\t\t\tactiveColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"#FFFFFF\"\r\n\t\t\t},\r\n\t\t\t//V1.2.6+\r\n\t\t\tformType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t//ios端暂时不支持单边框颜色，设置border-radius\r\n\t\t\t\tmp.set('border-color', this.iconColor)\r\n\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetBackground() : string {\r\n\t\t\t\tlet color = this.background;\r\n\t\t\t\tif (this.disabled && this.disabledBackground != '') {\r\n\t\t\t\t\tcolor = this.disabledBackground;\r\n\t\t\t\t}\r\n\t\t\t\tcolor = this.type == 'link' || this.plain ? 'rgba(0,0,0,0)' : color;\r\n\t\t\t\treturn color\r\n\t\t\t},\r\n\t\t\tgetBorderColor() : string {\r\n\t\t\t\tlet color = this.borderColor\r\n\t\t\t\tif (color == '') {\r\n\t\t\t\t\tcolor = this.disabled && this.disabledBackground != '' ? this.disabledBackground : this.background\r\n\t\t\t\t}\r\n\t\t\t\tcolor = this.type == 'link' ? 'rgba(0,0,0,0)' : color;\r\n\t\t\t\treturn color;\r\n\t\t\t},\r\n\t\t\tgetColor() : string {\r\n\t\t\t\tlet color : string;\r\n\t\t\t\tif (this.color != '') {\r\n\t\t\t\t\tcolor = this.disabled && this.disabledBackground != '' ? this.disabledColor : this.color\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.disabled && this.disabledBackground != '') {\r\n\t\t\t\t\t\tcolor = this.disabledColor == '' ? '#FFFFFF' : this.disabledColor\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcolor = this.type == 'gray' ? '#465CFF' : '#FFFFFF'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn color;\r\n\t\t\t},\r\n\t\t\tgetSize() : string {\r\n\t\t\t\tlet size = this.size;\r\n\t\t\t\tif (this.btnSize != '') {\r\n\t\t\t\t\tsize = size == 0 ? 32 : size;\r\n\t\t\t\t\tif (this.btnSize == 'small') {\r\n\t\t\t\t\t\tsize = size > 28 ? 28 : size;\r\n\t\t\t\t\t} else if (this.btnSize == 'mini') {\r\n\t\t\t\t\t\tsize = size > 28 ? 24 : size;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn `${size}rpx`\r\n\t\t\t},\r\n\t\t\tgetWidth() : string {\r\n\t\t\t\t//medium 400*84 / small 200*84/ mini 120 * 64\r\n\t\t\t\tlet width = this.width;\r\n\t\t\t\tif (this.btnSize != '') {\r\n\t\t\t\t\twidth = ({\r\n\t\t\t\t\t\tmedium: '400rpx',\r\n\t\t\t\t\t\tsmall: '200rpx',\r\n\t\t\t\t\t\tmini: '120rpx'\r\n\t\t\t\t\t}[this.btnSize]) as string\r\n\t\t\t\t}\r\n\t\t\t\treturn width\r\n\t\t\t},\r\n\t\t\tgetHeight() : string {\r\n\t\t\t\tlet height = this.height;\r\n\t\t\t\tif (this.btnSize != '') {\r\n\t\t\t\t\theight = ({\r\n\t\t\t\t\t\tmedium: '84rpx',\r\n\t\t\t\t\t\tsmall: '72rpx',\r\n\t\t\t\t\t\tmini: '64rpx'\r\n\t\t\t\t\t}[this.btnSize]) as string\r\n\t\t\t\t}\r\n\t\t\t\treturn height\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tloading(newValue : boolean) {\r\n\t\t\t\tif (newValue) {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.startSpin()\r\n\t\t\t\t\t\t}, 50)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.endSpin()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimes: 0,\r\n\t\t\t\tisSpin: false,\r\n\t\t\t\telement: null as UniElement | null,\r\n\t\t\t\thoverEle: null as UniElement | null,\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getParent('fui-form')\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (this.loading) this.startSpin();\r\n\t\t\t\t}, 200)\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tbeforeUnmount() {\r\n\t\t\tthis.isSpin = false\r\n\t\t\tthis.element = null;\r\n\t\t\tthis.hoverEle = null\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleStart() {\r\n\r\n\t\t\t\tthis.switchHover(true)\r\n\r\n\t\t\t},\r\n\t\t\thandleTap(e : MouseEvent) {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.$emit('onclick', e);\r\n\t\t\t\tif (this.formType != '' && this.fuiForm != null) {\r\n\t\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance;\r\n\t\t\t\t\tform.$callMethod('buttonEvent', this.formType)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleEnd() {\r\n\r\n\t\t\t\tthis.switchHover(false)\r\n\r\n\t\t\t},\r\n\t\t\tswitchHover(show : boolean) {\r\n\t\t\t\tif (!this.highlight || this.disabled) return;\r\n\t\t\t\tif (this.hoverEle == null) {\r\n\t\t\t\t\tthis.hoverEle = this.$refs['fui_button_hover'] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tthis.hoverEle!.style.setProperty('visibility', show ? 'visible' : 'hidden')\r\n\t\t\t},\r\n\t\t\tstartSpin() {\r\n\t\t\t\tif (this.element != null && this.isSpin) return;\r\n\t\t\t\tif (this.element == null) {\r\n\t\t\t\t\tthis.element = this.$refs['fui_button_loading'] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tthis.times = this.times + 1\r\n\t\t\t\tthis.element!.style.setProperty('transform', `rotate(${this.times * 360}deg)`)\r\n\t\t\t\tthis.element!.style.setProperty('transition-duration', '600ms')\r\n\t\t\t\tthis.isSpin = true\r\n\t\t\t},\r\n\t\t\tendSpin() {\r\n\t\t\t\tthis.isSpin = false\r\n\t\t\t\tthis.times = 0\r\n\t\t\t\tthis.element!.style.setProperty('transform', `rotate(${this.times * 360}deg)`)\r\n\t\t\t\tthis.element!.style.setProperty('transition-duration', '0s')\r\n\t\t\t\tthis.element = null;\r\n\t\t\t},\r\n\t\t\tonEnd() {\r\n\r\n\t\t\t\tif (this.isSpin && this.loading) {\r\n\t\t\t\t\tthis.times = this.times + 1\r\n\t\t\t\t\tthis.element!.style.setProperty('transform', `rotate(${this.times * 360}deg)`)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-color-success: #09BE4F !default;\r\n\t$fui-color-warning: #FFB703 !default;\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-purple: #6831FF !default;\r\n\t$fui-bg-color-content: #F8F8F8 !default;\r\n\t$fui-bg-color-hover: rgba(0, 0, 0, 0.2) !default;\r\n\t$fui-button-height: 96rpx !default;\r\n\t$fui-button-size: 32rpx !default;\r\n\t$fui-button-radius: 16rpx !default;\r\n\r\n\t.fui-button__wrap {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.fui-button__flex-1 {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.fui-button__opacity {\r\n\t\topacity: .5;\r\n\t}\r\n\r\n\t.fui-button__hover {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: $fui-bg-color-hover;\r\n\t\tz-index: 2;\r\n\t\tborder-radius: 0;\r\n\t\tvisibility: hidden;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.fui-button__spin {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tborder-width: 2px;\r\n\t\tborder-style: solid;\r\n\t\tborder-radius: 100px;\r\n\t\ttransition-duration: 600ms;\r\n\t\ttransition-property: transform;\r\n\t\ttransition-timing-function: linear;\r\n\t\ttransform: rotate(0deg);\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-right: 8rpx;\r\n\t\tposition: relative;\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.fui-button__spin-dot {\r\n\t\tposition: absolute;\r\n\t\twidth: 12rpx;\r\n\t\theight: 12rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t}\r\n\r\n\r\n\r\n\t.fui-button__text {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.fui-text__bold {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.fui-button__link {\r\n\t\tborder-color: rgba(0, 0, 0, 0) !important;\r\n\t\tbackground-color: rgba(0, 0, 0, 0) !important;\r\n\t}\r\n\r\n\r\n\t.fui-button__primary {\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t\tbackground: $fui-color-primary !important;\r\n\t}\r\n\r\n\r\n\t.fui-button__success {\r\n\t\tborder-color: $fui-color-success !important;\r\n\t\tbackground: $fui-color-success !important;\r\n\t}\r\n\r\n\t.fui-button__warning {\r\n\t\tborder-color: $fui-color-warning !important;\r\n\t\tbackground: $fui-color-warning !important;\r\n\t}\r\n\r\n\t.fui-button__danger {\r\n\t\tborder-color: $fui-color-danger !important;\r\n\t\tbackground: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-button__purple {\r\n\t\tborder-color: $fui-color-purple !important;\r\n\t\tbackground: $fui-color-purple !important;\r\n\t}\r\n\r\n\t.fui-button__gray {\r\n\t\tborder-color: $fui-bg-color-content !important;\r\n\t\tbackground: $fui-bg-color-content !important;\r\n\t}\r\n\r\n\t.fui-btn__gray-color {\r\n\t\tcolor: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-button__height {\r\n\t\theight: $fui-button-height !important;\r\n\t}\r\n\r\n\t.fui-button__height-text {\r\n\t\theight: $fui-button-height !important;\r\n\t\tline-height: $fui-button-height !important;\r\n\t}\r\n\r\n\t.fui-button__size {\r\n\t\tfont-size: $fui-button-size !important;\r\n\t}\r\n\r\n\t.fui-button__radius {\r\n\t\tborder-radius: $fui-button-radius !important;\r\n\t}\r\n</style>","export default {\r\n\t\"addressbook\": \"\\ue80c\",\r\n\t\"addfriends-fill\": \"\\ue80a\",\r\n\t\"addfriends\": \"\\ue80b\",\r\n\t\"backspace-fill\": \"\\ue808\",\r\n\t\"backspace\": \"\\ue809\",\r\n\t\"bankcard-fill\": \"\\ue806\",\r\n\t\"bankcard\": \"\\ue807\",\r\n\t\"camera-fill\": \"\\ue804\",\r\n\t\"camera\": \"\\ue805\",\r\n\t\"captcha-fill\": \"\\ue802\",\r\n\t\"captcha\": \"\\ue803\",\r\n\t\"cart-fill\": \"\\ue800\",\r\n\t\"cart\": \"\\ue801\",\r\n\t\"classify\": \"\\ue7fe\",\r\n\t\"classify-fill\": \"\\ue7ff\",\r\n\t\"comment-fill\": \"\\ue7fc\",\r\n\t\"comment\": \"\\ue7fd\",\r\n\t\"community-fill\": \"\\ue7fa\",\r\n\t\"community\": \"\\ue7fb\",\r\n\t\"coupon-fill\": \"\\ue7f8\",\r\n\t\"coupon\": \"\\ue7f9\",\r\n\t\"delete\": \"\\ue7f6\",\r\n\t\"delete-fill\": \"\\ue7f7\",\r\n\t\"edit\": \"\\ue7f4\",\r\n\t\"edit-fill\": \"\\ue7f5\",\r\n\t\"fabulous-fill\": \"\\ue7f2\",\r\n\t\"fabulous\": \"\\ue7f3\",\r\n\t\"find\": \"\\ue7f0\",\r\n\t\"find-fill\": \"\\ue7f1\",\r\n\t\"help-fill\": \"\\ue7ee\",\r\n\t\"help\": \"\\ue7ef\",\r\n\t\"home-fill\": \"\\ue7ec\",\r\n\t\"home\": \"\\ue7ed\",\r\n\t\"idcard-fill\": \"\\ue7ea\",\r\n\t\"idcard\": \"\\ue7eb\",\r\n\t\"info\": \"\\ue7e8\",\r\n\t\"info-fill\": \"\\ue7e9\",\r\n\t\"invite-fill\": \"\\ue7e6\",\r\n\t\"invite\": \"\\ue7e7\",\r\n\t\"kefu-fill\": \"\\ue7e4\",\r\n\t\"kefu\": \"\\ue7e5\",\r\n\t\"like-fill\": \"\\ue7e2\",\r\n\t\"like\": \"\\ue7e3\",\r\n\t\"location\": \"\\ue7e0\",\r\n\t\"location-fill\": \"\\ue7e1\",\r\n\t\"lock\": \"\\ue7de\",\r\n\t\"lock-fill\": \"\\ue7df\",\r\n\t\"mail-fill\": \"\\ue7dc\",\r\n\t\"mail\": \"\\ue7dd\",\r\n\t\"message\": \"\\ue7da\",\r\n\t\"message-fill\": \"\\ue7db\",\r\n\t\"mobile-fill\": \"\\ue7d8\",\r\n\t\"mobile\": \"\\ue7d9\",\r\n\t\"more\": \"\\ue7d6\",\r\n\t\"more-fill\": \"\\ue7d7\",\r\n\t\"my-fill\": \"\\ue7d4\",\r\n\t\"my\": \"\\ue7d5\",\r\n\t\"principal\": \"\\ue80d\",\r\n\t\"notice-fill\": \"\\ue7d2\",\r\n\t\"notice\": \"\\ue7d3\",\r\n\t\"order\": \"\\ue7d0\",\r\n\t\"order-fill\": \"\\ue7d1\",\r\n\t\"picture\": \"\\ue7ce\",\r\n\t\"picture-fill\": \"\\ue7cf\",\r\n\t\"setup-fill\": \"\\ue7cc\",\r\n\t\"setup\": \"\\ue7cd\",\r\n\t\"share\": \"\\ue7ca\",\r\n\t\"share-fill\": \"\\ue7cb\",\r\n\t\"shop\": \"\\ue7c8\",\r\n\t\"shop-fill\": \"\\ue7c9\",\r\n\t\"star-fill\": \"\\ue7c5\",\r\n\t\"star\": \"\\ue7c6\",\r\n\t\"starhalf\": \"\\ue7c7\",\r\n\t\"stepon-fill\": \"\\ue7c3\",\r\n\t\"stepon\": \"\\ue7c4\",\r\n\t\"wait-fill\": \"\\ue7c1\",\r\n\t\"wait\": \"\\ue7c2\",\r\n\t\"warning\": \"\\ue7bf\",\r\n\t\"warning-fill\": \"\\ue7c0\",\r\n\t\"plus\": \"\\ue7bc\",\r\n\t\"plussign-fill\": \"\\ue7bd\",\r\n\t\"plussign\": \"\\ue7be\",\r\n\t\"minus\": \"\\ue7b9\",\r\n\t\"minussign\": \"\\ue7ba\",\r\n\t\"minussign-fill\": \"\\ue7bb\",\r\n\t\"close\": \"\\ue7b8\",\r\n\t\"clear\": \"\\ue7b6\",\r\n\t\"clear-fill\": \"\\ue7b7\",\r\n\t\"checkbox-fill\": \"\\ue7b5\",\r\n\t\"checkround\": \"\\ue7b4\",\r\n\t\"checkbox\": \"\\ue7b3\",\r\n\t\"check\": \"\\ue7b2\",\r\n\t\"pulldown-fill\": \"\\ue7ae\",\r\n\t\"pullup\": \"\\ue7af\",\r\n\t\"pullup-fill\": \"\\ue7b0\",\r\n\t\"pulldown\": \"\\ue7b1\",\r\n\t\"roundright-fill\": \"\\ue7ac\",\r\n\t\"roundright\": \"\\ue7ad\",\r\n\t\"arrowright\": \"\\ue7a9\",\r\n\t\"arrowleft\": \"\\ue7aa\",\r\n\t\"arrowdown\": \"\\ue7ab\",\r\n\t\"left\": \"\\ue7a6\",\r\n\t\"up\": \"\\ue7a7\",\r\n\t\"right\": \"\\ue7a8\",\r\n\t\"back\": \"\\ue7a3\",\r\n\t\"top\": \"\\ue7a4\",\r\n\t\"dropdown\": \"\\ue7a5\",\r\n\t\"turningleft\": \"\\ue79f\",\r\n\t\"turningup\": \"\\ue7a0\",\r\n\t\"turningright\": \"\\ue7a1\",\r\n\t\"turningdown\": \"\\ue7a2\",\r\n\t\"refresh\": \"\\ue79c\",\r\n\t\"loading\": \"\\ue79d\",\r\n\t\"search\": \"\\ue79e\",\r\n\t\"rotate\": \"\\ue79b\",\r\n\t\"screen\": \"\\ue79a\",\r\n\t\"signin\": \"\\ue799\",\r\n\t\"calendar\": \"\\ue798\",\r\n\t\"scan\": \"\\ue797\",\r\n\t\"qrcode\": \"\\ue796\",\r\n\t\"wallet\": \"\\ue795\",\r\n\t\"telephone\": \"\\ue794\",\r\n\t\"visible\": \"\\ue793\",\r\n\t\"invisible\": \"\\ue792\",\r\n\t\"menu\": \"\\ue78e\",\r\n\t\"operate\": \"\\ue78f\",\r\n\t\"slide\": \"\\ue790\",\r\n\t\"list\": \"\\ue791\",\r\n\t\"nonetwork\": \"\\ue78d\",\r\n\t\"partake\": \"\\ue78c\",\r\n\t\"qa\": \"\\ue78b\",\r\n\t\"barchart\": \"\\ue788\",\r\n\t\"piechart\": \"\\ue789\",\r\n\t\"linechart\": \"\\ue78a\",\r\n\t\"at\": \"\\ue787\",\r\n\t\"face\": \"\\ue77f\",\r\n\t\"redpacket\": \"\\ue780\",\r\n\t\"suspend\": \"\\ue781\",\r\n\t\"link\": \"\\ue782\",\r\n\t\"keyboard\": \"\\ue783\",\r\n\t\"play\": \"\\ue784\",\r\n\t\"video\": \"\\ue785\",\r\n\t\"voice\": \"\\ue786\",\r\n\t\"sina\": \"\\ue77a\",\r\n\t\"browser\": \"\\ue77b\",\r\n\t\"moments\": \"\\ue77c\",\r\n\t\"qq\": \"\\ue77d\",\r\n\t\"wechat\": \"\\ue77e\",\r\n\t\"balance\": \"\\ue779\",\r\n\t\"bankcardpay\": \"\\ue778\",\r\n\t\"wxpay\": \"\\ue777\",\r\n\t\"alipay\": \"\\ue776\",\r\n\t\"payment\": \"\\ue818\",\r\n\t\"receive\": \"\\ue817\",\r\n\t\"sendout\": \"\\ue816\",\r\n\t\"evaluate\": \"\\ue815\",\r\n\t\"aftersale\": \"\\ue814\",\r\n\t\"warehouse\": \"\\ue813\",\r\n\t\"transport\": \"\\ue812\",\r\n\t\"delivery\": \"\\ue811\",\r\n\t\"switch\": \"\\ue810\",\r\n\t\"goods\": \"\\ue80f\",\r\n\t\"goods-fill\": \"\\ue80e\"\r\n} as UTSJSONObject;","<template>\r\n\t<text :style=\"getIconStyl\" class=\"fui-icon\"\r\n\t\t:class=\"{'fui-icon__fontsize':isBind,'fui-icon__active-color':primary && color=='','fui-icon__color': color=='' && !primary }\"\r\n\t\t@tap=\"handleClick\">{{ getIcon }}</text>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport icons from './fui-icon.uts';\r\n\t/**\r\n\t * Icon 图标\r\n\t * @description Icon 图标，First UI字体图标库。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String} 图标名称\r\n\t * @property {Number} size {Number} 图标大小\r\n\t * @property {String} unit {String} 图标大小单位，可选值：rpx、px\r\n\t * @property {String} color {String} 图标颜色\r\n\t * @property {String} fontWeight {String} 图标字重，注意：仅支持normal、bold、‘400‘，’700‘\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用点击，设置为true则点击事件及效果失效\r\n\t * @property {String} param\t{String} 自定义参数，点击事件中回传\r\n\t * @property {Boolean} primary\t{Boolean} 是否显示为主色调，color为空时有效。【内部保留属性】\r\n\t * @event {Function} onclick 点击图标时触发，(event: string) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-icon\",\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tunit: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'rpx'\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tfontWeight: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'normal'\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tparam: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '0'\r\n\t\t\t},\r\n\t\t\t//是否显示为主色调，color为空时有效。【内部保留属性】\r\n\t\t\tprimary: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetSize() : string {\r\n\t\t\t\tlet size : string;\r\n\t\t\t\tif (typeof this.size == 'number') {\r\n\t\t\t\t\tsize = (this.size as number).toString() + this.unit;\r\n\t\t\t\t} else if (typeof this.size == 'string') {\r\n\t\t\t\t\tsize = (this.size as string) + this.unit;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsize = this.size.toString() + this.unit;\r\n\t\t\t\t}\r\n\t\t\t\treturn size;\r\n\t\t\t},\r\n\t\t\tisBind() : boolean {\r\n\t\t\t\tconst size = this.getSize\r\n\t\t\t\tlet bind = false;\r\n\t\t\t\tif (size == '' || size == 'px' || size == 'rpx' || size == '0rpx' || size == '0px') {\r\n\t\t\t\t\tbind = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn bind;\r\n\t\t\t},\r\n\t\t\tgetIcon() : string {\r\n\t\t\t\tconst icon = this.icons.getString(this.name)\r\n\t\t\t\treturn icon == null ? '' : icon\r\n\t\t\t},\r\n\t\t\tgetIconStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('fontWeight', this.fontWeight);\r\n\t\t\t\tmp.set('fontSize', this.getSize);\r\n\t\t\t\tmp.set('lineHeight', this.getSize);\r\n\t\t\t\tif (this.color != '') mp.set('color', this.color);\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ticons: icons as UTSJSONObject\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleClick() {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.$emit('onclick', this.param);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-section: #333333 !default;\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-icon-size: 64rpx !default;\r\n\r\n\t@font-face {\r\n\t\tfont-family: fuiFont;\r\n\t\tsrc: url(\"./fui-icon.ttf\");\r\n\t}\r\n\r\n\t.fui-icon {\r\n\t\tfont-family: fuiFont;\r\n\t}\r\n\r\n\t.fui-icon__color {\r\n\t\tcolor: $fui-color-section !important;\r\n\t}\r\n\r\n\t.fui-icon__active-color {\r\n\t\tcolor: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-icon__fontsize {\r\n\t\tfont-size: $fui-icon-size !important;\r\n\t\tline-height: $fui-icon-size !important;\r\n\t}\r\n</style>","<template>\r\n\t<view class=\"custom-nav\">\r\n\t\t<view class=\"nav-back\" @click=\"goBack\">\r\n\t\t\t<fui-icon v-if=\"props.showBack\" name=\"arrowleft\" size=\"50\" />\r\n\t\t</view>\r\n\t\t<view class=\"nav-item\">\r\n\t\t\t<text class=\"nav-title\" >\r\n\t\t\t\t{{ props.title }}\r\n\t\t\t</text>\r\n\t\t</view>\r\n\t\t<view class=\"nav-actions\"  @click=\"rightIcon\">\r\n\t\t\t<text v-if=\"isText\">\r\n\t\t\t\t{{ rightText }}\r\n\t\t\t</text>\r\n\t\t\t<fui-icon v-else :name=\"rightText\" size=\"45\" />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\r\n\tconst props = defineProps({\r\n\t\ttitle: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault:'首页'\r\n\t\t},\r\n\t\tshowBack: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tmessageCount: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\trightText:{\r\n\t\t\ttype:String,\r\n\t\t\tdefault:''\r\n\t\t},\r\n\t\tisText:{\r\n\t\t\ttype:Boolean,\r\n\t\t\tdefault:false\r\n\t\t}\r\n\t})\r\n\r\n\t// 定义触发给父组件的事件 \r\n\tconst emits = defineEmits(['back', 'message', 'rightEvent'])\r\n\r\n\t// 导航事件处理\r\n\tconst goBack = () => emits('back')\r\n\tconst onMessage = () => emits('message')\r\n\tconst rightIcon = () => emits('rightEvent')\r\n\t\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.custom-nav {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 100rpx 20rpx 30rpx 20rpx;\r\n\t\twidth:100%;\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\t.nav-back {\r\n\t\twidth: 45rpx;\r\n\t\theight: 45rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.nav-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.nav-title {\r\n\t\tcolor: #333;\r\n\t\tmargin: 0 20rpx;\r\n\t\tmax-width: 400rpx;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.nav-actions {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.nav-icon {\r\n\t\twidth: 45rpx;\r\n\t\theight: 45rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t\tmargin-left: 16rpx;\r\n\t}\r\n</style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<TopNavBar title=\"首页\" rightText=\"plussign\" @rightEvent=\"addNewDevice\" />\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"video-container\" style=\"border-radius: 15rpx; overflow: hidden;\">\r\n\t\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoSrc\" :controls=\"onLine\" :show-play-btn=\"onLine\"\r\n\t\t\t\t:show-center-play-btn=\"onLine\" :enable-progress-gesture=\"onLine\" :show-fullscreen-btn=\"onLine\"\r\n\t\t\t\t:show-mute-btn=\"onLine\" >\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"device-title\" v-if=\"onLine\">{{deviceTitle}}</view>\r\n\t\t\t\t\t<view class=\"video-right-control\" v-if=\"onLine\">\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"forward\" @click=\"toDeviceDetail\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"errIcon\" @click=\"errClick\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"transfer\" @click=\"transferClick\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"replayIcon\" @click=\"replay\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"offline\" v-else>\r\n\t\t\t\t\t\t<view class=\"offline-content\">\r\n\t\t\t\t\t\t\t<l-icon name=\"link-unlink\" color=\"#fff\"></l-icon>\r\n\t\t\t\t\t\t\t<text class=\"offline-title\">设备断线了</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"time\">2025-07-21 14:33</text>\r\n\t\t\t\t\t\t<fui-button color=\"#1296db\" text=\"查看帮助\" radius=\"50rpx\" :size=\"22\" background=\"#fff\" width=\"120rpx\" height=\"40rpx\"></fui-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</video>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- <view class=\"video-bottom-control\">\r\n\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t<image class=\"vedio-control-icon\" @click=\"pauseClick\" :src=\"pauseIcon\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport TopNavBar from '@/components/TopNavBar.uvue'\r\n\r\n\tconst deviceTitle = ref('设备名称')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst forward = '/static/video/forward.png'\r\n\tconst errIcon = '/static/video/error.png'\r\n\tconst transfer = '/static/video/transfer.png'\r\n\tconst replayIcon = '/static/video/replay.png'\r\n\tconst playIcon = '/static/video/play.png'\r\n\tconst pauseIcon = '/static/video/pause.png'\r\n\tconst addIcon = '/static/tabbar/add.png'\r\n\tconst videoSrc = \"https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4\"\r\n\tconst onLine = ref<boolean>(true)\r\n\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tuni.__log__('log','at pages/index/index.uvue:66','视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tuni.__log__('error','at pages/index/index.uvue:68','创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\tconst replay = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/deviceReplay'\r\n\t\t})\r\n\t}\r\n\r\n\tconst transferClick = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/mine/rechargeDataTraffic/rechargeDataTraffic'\r\n\t\t})\r\n\t}\r\n\r\n\tconst errClick = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl:'/pages/message/message'\r\n\t\t})\r\n\t}\r\n\r\n\tconst toDeviceDetail = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '设备详情',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/index/deviceDetail'\r\n\t\t})\r\n\t}\r\n\r\n\tconst pauseClick = () => {\r\n\r\n\t\tvideoContext.value!!.pause()\r\n\r\n\t\tvideoContext.value!!.pause();\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '暂停',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst addNewDevice = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/addNewDevice/addNewDevice'\r\n\t\t})\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.content {\r\n\t\t\tposition: relative;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400rpx;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.video-container {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.video {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tmargin-bottom: 0; \r\n\t\t\t\t.device-title{\r\n\t\t\t\t\tbackground:rgba(0, 0, 0, .3);\r\n\t\t\t\t\tpadding:10rpx;\r\n\r\n\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t.video-right-control {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tright: 10rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\theight: 90%;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tz-index: 2;\r\n\t\t\t\t\t.vedio-control {\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\t\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.offline{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: rgba(255,255,255, .7);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t.offline-title{\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.time{\r\n\t\t\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.offline-content{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.video-top-title {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\tpadding: 15rpx 0 0 20rpx;\r\n\t\t\t\tbackground: linear-gradient(to right,\r\n\t\t\t\t\t\trgba(255, 255, 255, 0.5),\r\n\t\t\t\t\t\trgba(255, 255, 255, 0));\r\n\t\t\t\tz-index: 3; // 确保标题显示在视频上方\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\t.video-bottom-control {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 10rpx;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tz-index: 1;\r\n\r\n\t\t\t\t.vedio-control {\r\n\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\r\n\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","<template>\r\n\t<view \r\n\t\tclass=\"l-date-strip__item\"\r\n\t\t:class=\"'l-date-strip__item--' + switchMode\"\r\n\t\t>\r\n\t\t<view \r\n\t\t\tclass=\"l-date-strip__grid\" \r\n\t\t\t:style=\"[\r\n\t\t\t\tstyles,\r\n\t\t\t\titem.type == 'selected' && shape == 'square' && activeBgColor != null ? {background: activeBgColor}: {},\r\n\t\t\t\tshape == 'square' && radius != null ? {'border-radius': radius} : {}\r\n\t\t\t]\"\r\n\t\t\t:class=\"[\r\n\t\t\t\t'l-date-strip__grid--' + shape,\r\n\t\t\t\t{\r\n\t\t\t\t\t'l-date-strip__grid--active-bg' : shape == 'square' && item.type == 'selected',\r\n\t\t\t\t\t// 'l-date-strip__grid--disabled': item.type == 'disabled',\r\n\t\t\t\t\t'l-date-strip__grid--selected': item.type == 'selected'\r\n\t\t\t\t}\r\n\t\t\t]\"\r\n\t\t\tv-for=\"item in dates\" \r\n\t\t\t@click=\"onClick(item)\"\r\n\t\t\t:key=\"item.key\">\r\n\t\t\t<text v-if=\"item.prefix != null\"\r\n\t\t\t\tclass=\"l-date-strip__grid-prefix\" \r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\t'l-date-strip__grid--active-text' : item.type == 'selected' && shape == 'square',\r\n\t\t\t\t\t'l-date-strip__grid--active-text-none' : item.type == 'selected' && shape == 'none',\r\n\t\t\t\t}\"\r\n\t\t\t\t:style=\"[\r\n\t\t\t\t\titem.type == 'selected' && activeColor != null ? { color: activeColor} : {},\r\n\t\t\t\t]\">{{item.prefix}}</text>\r\n\t\t\t<view \r\n\t\t\t\tclass=\"l-date-strip__grid-info\"\r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\t'l-date-strip__grid--active-bg' : shape == 'circle' &&  item.type == 'selected',\r\n\t\t\t\t}\"\r\n\t\t\t\t:style=\"[\r\n\t\t\t\t\titem.type == 'selected' && shape == 'circle' && activeBgColor != null ? {background: activeBgColor}: {},\r\n\t\t\t\t\tshape == 'square' && radius != null ? {'border-radius': radius}: {}\r\n\t\t\t\t]\">\r\n\t\t\t\t<text \r\n\t\t\t\t\tclass=\"l-date-strip__grid-day\" \r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'l-date-strip__grid--active-text' : item.type == 'selected' && shape != 'none',\r\n\t\t\t\t\t\t'l-date-strip__grid--active-text-none' : item.type == 'selected' && shape == 'none',\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\t:style=\"[\r\n\t\t\t\t\t\titem.type == 'selected' && activeColor != null ? { color: activeColor} : {},\r\n\t\t\t\t\t]\">{{item.text}}</text>\r\n\t\t\t\t<!-- <text \r\n\t\t\t\t\tclass=\"l-date-strip__grid-suffix\" \r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'l-date-strip__grid--active-text' : item.type == 'selected' && shape != 'none',\r\n\t\t\t\t\t\t'l-date-strip__grid--active-text-none' : item.type == 'selected' && shape == 'none',\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\t:style=\"[\r\n\t\t\t\t\t\titem.type == 'selected' && activeColor != null  ? { color: activeColor} : {},\r\n\t\t\t\t\t]\" v-if=\"item.suffix != null\">{{item.suffix}}</text> -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view v-if=\"item.suffix == 'true'\"><image style=\"width: 16rpx;height: 16rpx;\" src=\"@/static/dot1.png\"></image></view>\n\t\t\t\t\t\t<view v-else><text style=\"width: 16rpx;height: 16rpx;\"></text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\timport { DateStripItemProps } from './type';\r\n\timport { DateStriPDay } from '../l-date-strip/type';\r\n\tconst emit = defineEmits(['click'])\r\n\tconst props = withDefaults(defineProps<DateStripItemProps>(), {\r\n\t\tdates: [] as DateStriPDay[],\r\n\t\tshape: 'square',\r\n\t\tswitchMode: 'week',\r\n\t})\r\n\t\r\n\tconst styles = computed(():Map<string, any>=>{\r\n\t\tconst style = new Map<string, any>()\r\n\t\t\r\n\t\tif(props.gridWidth != null && props.switchMode == 'none') {\r\n\t\t\tstyle.set('width', props.gridWidth!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\tconst onClick = (day: DateStriPDay) => {\n\t\tuni.__log__('log','at uni_modules/lime-date-strip/components/l-date-strip-item/l-date-strip-item.uvue:88',day)\r\n\t\temit('click', day)\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '../l-date-strip';\r\n</style>","export default \"__VITE_ASSET__6a4c565c__\"","// @ts-nocheck\r\nimport { WeekRange, DateType } from './type';\r\n\r\n\r\n/**\r\n * 获取指定日期所在周的日期范围。\r\n * @param {Date} date - 指定日期。\r\n * @param {number} firstDayOfWeek - 一周的第一天，0 表示周日，1 表示周一，以此类推。\r\n * @returns {WeekRange} 返回一个包含周起始和结束日期的对象。\r\n */\r\n\r\nexport function getWeekRange(date : Date, firstDayOfWeek : number) : WeekRange {\r\n\tconst start = new Date(date.getTime());\r\n\tconst dayOffset = (date.getDay() - firstDayOfWeek + 7) % 7;\r\n\tstart.setDate(start.getDate() - dayOffset);\r\n\r\n\tconst end = new Date(start.getTime());\r\n\tend.setDate(end.getDate() + 6);\r\n\treturn { start, end } as WeekRange\r\n};\r\n\r\n/**\r\n * 向指定日期添加天数。\r\n * @param {Date} date - 基础日期。\r\n * @param {number} days - 要添加的天数，可以是正数或负数。\r\n * @returns {Date} 返回一个新的日期对象，该对象是基础日期加上指定天数后的结果。\r\n */\r\nexport function addDays(date : Date, days : number) : Date {\r\n\tconst result = new Date(date.getTime());\r\n\tresult.setDate(result.getDate() + days);\r\n\treturn result;\r\n};\r\n\r\n\r\nexport function addWeeks(date : Date, weeks : number) : Date {\r\n\tconst result = new Date(date.getTime());\r\n\tresult.setDate(result.getDate() + weeks * 7);\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * 判断两个日期是否表示同一天（忽略时间部分）。\r\n *\r\n * @param date1 - 第一个日期。\r\n * @param date2 - 第二个日期。\r\n * @returns 如果两个日期是同一天，返回 true；否则返回 false。\r\n */\r\nfunction isSameDay(date1 : Date, date2 : Date) : boolean {\r\n\treturn (\r\n\t\tdate1.getFullYear() == date2.getFullYear() &&\r\n\t\tdate1.getMonth() == date2.getMonth() &&\r\n\t\tdate1.getDate() == date2.getDate()\r\n\t);\r\n}\r\nexport function calcType(date : Date, minDate : Date, maxDate : Date, selectedDate : Date | null) : DateType {\r\n\t// 检查日期是否早于 minDate 或晚于 maxDate\r\n\tif (date.getTime() < minDate.getTime() || date.getTime() > maxDate.getTime()) {\r\n\t    return 'disabled';\r\n\t}\r\n\t// 如果 selectedDate 不为 null，检查日期是否等于 selectedDate\r\n\tif (selectedDate != null && isSameDay(date, selectedDate)) {\r\n\t\treturn 'selected';\r\n\t}\r\n\treturn ''\r\n}\r\n\r\n\r\nexport function daysBetween(date1: Date, date2: Date): number {\n  // 将两个日期转换为毫秒\n  const diffInMilliseconds = Math.abs(date2.getTime() - date1.getTime());\n  return Math.floor(diffInMilliseconds / (1000 * 3600 * 24));\n}","// @ts-nocheck\r\nimport { isString } from '../isString'\r\nimport { isNumeric } from '../isNumeric'\r\n\r\n/**\r\n * 单位转换函数，将字符串数字或带有单位的字符串转换为数字\r\n * @param value 要转换的值，可以是字符串数字或带有单位的字符串\r\n * @returns 转换后的数字，如果无法转换则返回0\r\n */\r\n// #ifndef UNI-APP-X && APP\r\nexport function unitConvert(value : string | number | null | undefined, base: number = 0) : number {\r\n\t// 如果是字符串数字\r\n\tif (isNumeric(value)) {\r\n\t\treturn Number(value);\r\n\t}\r\n\t// 如果有单位\r\n\tif (isString(value)) {\r\n\t\tconst reg = /^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g;\r\n\t\tconst results = reg.exec(value);\r\n\t\tif (!value || !results) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tconst unit = results[3];\r\n\t\tconst _value = parseFloat(value);\r\n\t\tif (unit === 'rpx') {\r\n\t\t\treturn uni.upx2px(_value);\r\n\t\t}\r\n\t\tif (unit === 'px') {\r\n\t\t\treturn _value * 1;\r\n\t\t}\r\n\t\tif(unit == '%') {\r\n\t\t\treturn _value / 100 * base\r\n\t\t}\r\n\t\t// 如果是其他单位，可以继续添加对应的转换逻辑\r\n\t}\r\n\treturn 0;\r\n}\r\n// #endif\r\n\r\n\r\n// #ifdef UNI-APP-X && APP\r\nimport { isNumber } from '../isNumber'\r\nexport function unitConvert(value : any | null, base: number = 0) : number {\r\n\tif (isNumber(value)) {\r\n\t\treturn value as number\r\n\t}\r\n\t// 如果是字符串数字\r\n\tif (isNumeric(value)) {\r\n\t\treturn parseFloat(value as string);\r\n\t}\r\n\t// 如果有单位\r\n\tif (isString(value)) {\r\n\t\tconst reg = /^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g;\r\n\t\tconst results = reg.exec(value as string);\r\n\t\tif (results == null) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tconst unit = results[3];\r\n\t\tconst _value = parseFloat(value);\r\n\t\tif (unit == 'rpx') {\r\n\t\t\t// const { windowWidth } = uni.getWindowInfo()\r\n\t\t\t// return windowWidth / 750 * _value;\r\n\t\t\treturn uni.rpx2px(_value)\r\n\t\t}\r\n\t\tif (unit == 'px') {\r\n\t\t\treturn _value;\r\n\t\t}\r\n\t\tif(unit == '%') {\r\n\t\t\treturn _value / 100 * base\r\n\t\t}\r\n\t\t// 如果是其他单位，可以继续添加对应的转换逻辑\r\n\t}\r\n\treturn 0;\r\n}\r\n// #endif\r\n// 示例\r\n// console.log(unitConvert(\"123\")); // 输出: 123 (字符串数字转换为数字)\r\n// console.log(unitConvert(\"3.14em\")); // 输出: 0 (无法识别的单位)\r\n// console.log(unitConvert(\"20rpx\")); // 输出: 根据具体情况而定 (根据单位进行转换)\r\n// console.log(unitConvert(10)); // 输出: 10 (数字不需要转换)","<template>\r\n\t<scroll-view \r\n\t\tclass=\"l-date-strip l-date-strip__scroll\"\r\n\t\t:scroll-x=\"true\"\r\n\t\t:scroll-left=\"scrollLeft\"\r\n\t\t:show-scrollbar=\"false\"\r\n\t\tdirection=\"horizontal\"\r\n\t\t:style=\"[styles]\"\r\n\t\tv-if=\"switchMode == 'none'\">\r\n\t\t\t<l-date-strip-item \r\n\t\t\t\t:dates=\"displayWeeks[0].dates\" \r\n\t\t\t\t:color=\"color\"\r\n\t\t\t\t:activeBgColor=\"activeBgColor\"\r\n\t\t\t\t:activeColor=\"activeColor\"\r\n\t\t\t\t:bgColor=\"bgColor\"\r\n\t\t\t\t:radius=\"radius\"\r\n\t\t\t\t:switchMode=\"switchMode\"\r\n\t\t\t\t:shape=\"shape\"\r\n\t\t\t\t@click=\"onClick\">\r\n\t\t\t</l-date-strip-item>\r\n\t</scroll-view>\r\n\t<swiper \r\n\t\tv-else\r\n\t\tclass=\"l-date-strip\" \r\n\t\t:style=\"[styles]\"\r\n\t\t:current=\"currentWeekIndex\" \r\n\t\t:circular=\"swiperCircular\" \r\n\t\t@animationfinish=\"swiperFinish\" \r\n\t\t@change=\"swiperChange\">\r\n\t\t<swiper-item v-for=\"(week, g) in displayWeeks\" :key=\"g\">\r\n\t\t\t<l-date-strip-item \r\n\t\t\t\t:dates=\"week.dates\" \r\n\t\t\t\t:color=\"color\"\r\n\t\t\t\t:activeBgColor=\"activeBgColor\"\r\n\t\t\t\t:activeColor=\"activeColor\"\r\n\t\t\t\t:bgColor=\"bgColor\"\r\n\t\t\t\t:radius=\"radius\"\r\n\t\t\t\t:switchMode=\"switchMode\"\r\n\t\t\t\t:shape=\"shape\"\r\n\t\t\t\t@click=\"onClick\">\r\n\t\t\t</l-date-strip-item>\r\n\t\t</swiper-item>\r\n\t</swiper>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\timport { DateStripProps, WeekDateCollection, DateStriPDay, DateType } from './type';\r\n\timport { getWeekRange, addDays, addWeeks, calcType, daysBetween } from './utils';\r\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\r\n\tconst emit = defineEmits(['change', 'select', 'scroll', 'panelChange', 'update:modelValue'])\r\n\tconst props = withDefaults(defineProps<DateStripProps>(), {\r\n\t\tweekdays: ['日', '一', '二', '三', '四', '五', '六'],\r\n\t\tfirstDayOfWeek: 1,\r\n\t\tshape: 'square',\r\n\t\tswitchMode: 'week'\r\n\t})\r\n\t// 当前选中的周索引\r\n\tconst currentWeekIndex = ref(0)\r\n\tconst scrollLeft = ref(0)\r\n\t// 是否循环滚动\r\n\tconst swiperCircular = ref(true);\r\n\tconst selectedDate = ref<Date|null>(null);\r\n\t// 计算一周的星期顺序\r\n\tconst firstDayOfWeek = computed(() : number => Math.min(Math.max(props.firstDayOfWeek, 0), 6));\r\n\t\r\n\t// 计算最小和最大日期\r\n\tconst today = new Date();\r\n\tconst minDate = computed(() : Date => (props.minDate != null ? new Date(props.minDate!) : today));\r\n\tconst maxDate = computed(() : Date => (props.maxDate != null\r\n\t\t? new Date(props.maxDate!)\r\n\t\t: addDays(today, 31))\r\n\t);\r\n\t\r\n\tconst days = computed(():number => {\r\n\t\treturn daysBetween(maxDate.value, minDate.value)\r\n\t})\r\n\t\r\n\tconst styles = computed(():Map<string, any>=>{\r\n\t\tconst style = new Map<string, any>()\r\n\t\t\r\n\t\tif(props.height != null) {\r\n\t\t\tstyle.set('height', props.height!)\r\n\t\t}\r\n\t\tif(props.bgColor != null) {\r\n\t\t\tstyle.set('background', props.bgColor!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst cache = new Map<number,WeekDateCollection>()\r\n\tconst createWeek = (currentStartDate: Date, length: number):WeekDateCollection => {\r\n\t\tconst dates : DateStriPDay[] = [];\r\n\t\tconst time = currentStartDate.getTime()\r\n\t\tif(cache.has(time)) {\r\n\t\t\treturn cache.get(time)!\r\n\t\t}\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tconst date = new Date(time);\r\n\t\t\tdate.setDate(currentStartDate.getDate() + i);\r\n\t\t\tconst week = date.getDay();\r\n\t\t\tconst year = date.getFullYear();\r\n\t\t\tconst month = date.getMonth() + 1; \r\n\t\t\tconst day =  date.getDate()\r\n\t\t\tconst dateObj:DateStriPDay = {\r\n\t\t\t\tkey: `${year}-${month}-${day}`,\r\n\t\t\t\tdate,\r\n\t\t\t\tyear,\r\n\t\t\t\tmonth,\r\n\t\t\t\tday,\r\n\t\t\t\ttext: `${day}`.padStart(2, '0'),\r\n\t\t\t\ttype: calcType(date, minDate.value, maxDate.value, selectedDate.value),\r\n\t\t\t\tprefix: props.weekdays[week],\r\n\t\t\t}\r\n\t\t\tdates.push(props.format != null ? props.format!(dateObj) : dateObj);\r\n\t\t}\r\n\t\tconst obj:WeekDateCollection = {\r\n\t\t\tstart: new Date(dates[0].year, dates[0].month - 1, dates[0].day).getTime(),\r\n\t\t\tend: new Date(dates[length - 1].year, dates[length - 1].month - 1, dates[length - 1].day).getTime(),\r\n\t\t\tdates\r\n\t\t} as WeekDateCollection\r\n\t\t\r\n\t\t// cache.set(time, obj)\r\n\t\t\r\n\t\treturn obj\r\n\t}\r\n\t\r\n\tconst currentDate = ref<Date>(today)\r\n\t\r\n\t// 计算要显示的三周数据\r\n\tconst displayWeeks = computed(() : WeekDateCollection[] => {\r\n\t\tconst weeks: WeekDateCollection[] = [];\r\n\t\tif(props.switchMode == 'week') {\r\n\t\t\tconst currentRange = getWeekRange(currentDate.value, firstDayOfWeek.value);\r\n\t\t\tconst offsetMap = new Map<number, number[]>([\r\n\t\t\t\t[0, [0, 1, -1]],\r\n\t\t\t\t[1, [-1, 0, 1]],\r\n\t\t\t\t[2, [1, -1, 0]],\r\n\t\t\t])\r\n\t\t\tlet indices = offsetMap.get(currentWeekIndex.value)!\r\n\t\t\tindices.forEach(i => {\r\n\t\t\t\t const weekDate = addWeeks(currentRange.start, i);\r\n\t\t\t\t weeks.push(createWeek(weekDate, 7)) \r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t weeks.push(createWeek(minDate.value, days.value)) \r\n\t\t}\r\n\t\t\r\n\t\treturn weeks\r\n\t})\r\n\t\r\n\tconst swiperChange = (event : UniSwiperChangeEvent) => {\r\n\t\tconst delta = event.detail.current - currentWeekIndex.value;\r\n\t\tconst newDate = addWeeks(currentDate.value, delta == 1 || delta == -2 ? 1 : -1);\r\n\t\tcurrentDate.value = newDate;\r\n\t\tcurrentWeekIndex.value = event.detail.current;\r\n\t}\r\n\tconst swiperFinish = (_event : UniSwiperAnimationFinishEvent) => {\r\n\t\t\r\n\t}\r\n\t\r\n\tconst onClick = (day: DateStriPDay) => {\r\n\t\tif(day.type == 'disabled') return\r\n\t\tselectedDate.value = day.date\r\n\t\tconst v = day.date.getTime()\r\n\t\temit('change', v)\r\n\t\temit('select', v)\r\n\t\temit('update:modelValue', v)\r\n\t}\r\n\t\r\n\t\r\n\tconst scrollToDate = (date: Date) => {\r\n\t\tcurrentDate.value = date\r\n\t\tif(props.switchMode != 'none') return\r\n\t\tscrollLeft.value = unitConvert(props.gridWidth ?? 50)  *  daysBetween(date, minDate.value)\r\n\t}\r\n\t\r\n\twatchEffect(()=>{\r\n\t\tconst value = props.value ?? props.modelValue\r\n\t\tif(value == null) return\r\n\t\tselectedDate.value = new Date(value)\r\n\t})\r\n\t\r\n\tonMounted(()=>{\r\n\t\tnextTick(()=>{\r\n\t\t\tscrollToDate(currentDate.value)\r\n\t\t})\r\n\t})\r\n\t\r\n\tdefineExpose({\r\n\t\tscrollToDate\r\n\t})\r\n\t\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","import { LDay, LYearMonth, LGridSize, LMonthData, LOptions } from '../../index'\r\n// import { LDay } from '../../utssdk/interface';\r\n\r\n\r\nexport class ArrowIcon {\r\n\tx : number = 0\r\n\ty : number = 0\r\n\tsize : number = 0\r\n\ttype : string = ''\r\n\tcolor : string = ''\r\n\tconstructor(x : number, y : number, size : number, type : string, color : string) {\r\n\t\tthis.x = x\r\n\t\tthis.y = y\r\n\t\tthis.size = size\r\n\t\tthis.type = type\r\n\t\tthis.color = color\r\n\t}\r\n\tdraw(ctx : CanvasRenderingContext2D) {\r\n\t\tconst { x, y, size, color, type } = this\r\n\t\t// 设置绘图的填充颜色\r\n\t\tctx.strokeStyle = color;\r\n\t\tctx.beginPath();\r\n\t\tctx.lineJoin = 'round'\r\n\t\tctx.lineWidth = 2\r\n\t\t// 根据箭头类型绘制不同的形状\r\n\t\tif (type === 'left') {\r\n\t\t\tctx.moveTo(x + size * 0.6042, y + size * 0.25);\r\n\t\t\tctx.lineTo(x + size * 0.3542, y + size * 0.5);\r\n\t\t\tctx.lineTo(x + size * 0.6042, y + size * 0.75);\r\n\r\n\t\t} else if (type === 'right') {\r\n\t\t\tctx.moveTo(x + size * (1 - 0.6042), y + size * 0.25);\r\n\t\t\tctx.lineTo(x + size * (1 - 0.3542), y + size * 0.5);\r\n\t\t\tctx.lineTo(x + size * (1 - 0.6042), y + size * 0.75);\r\n\t\t}\r\n\r\n\t\tctx.stroke()\r\n\t}\r\n\tisCoordinateInside(x : number, y : number) : boolean {\r\n\t\treturn x >= this.x && x <= this.x + this.size && y >= this.y && y <= this.y + this.size;\r\n\t}\r\n}\r\n\r\nexport class Day implements LDay {\r\n\tday : number = 0;\r\n\tmonth : number = 0;\r\n\tyear : number = 0;\r\n\tfullDay : string = '00';\r\n\tfullMonth : string = '00';\r\n\tfullDate : string = '';\r\n\tisBeforeToday : boolean = false;\r\n\tisToday : boolean = false\r\n\t// isCheckedIn: boolean = false;\r\n\tisCurrentMonth : boolean = false;\r\n\tprivate x : number = 0;\r\n\tprivate y : number = 0;\r\n\tprivate calendar : Calendar\r\n\twidth : number = 0;\r\n\theight : number = 0;\r\n\toriginalMonth : number = 0;\r\n\ttype : string = 'current'\r\n\tfontSize : number = 20\r\n\ttimestamp : number = 0\r\n\tconstructor(day : number, month : number, year : number, isCurrentMonth : boolean, isToday : boolean, isBeforeToday : boolean, calendar : Calendar) {\r\n\t\tthis.day = day;\r\n\t\tthis.month = month\r\n\t\tthis.year = year;\r\n\t\tthis.originalMonth = month - 1;\r\n\t\tthis.fullMonth = this.formatMonth(month)\r\n\t\tthis.fullDay = this.formatDay(day)\r\n\t\tthis.fullDate = `${year}-${this.fullMonth}-${this.fullDay}`;\r\n\t\tthis.isCurrentMonth = isCurrentMonth;\r\n\t\tthis.isBeforeToday = isBeforeToday;\r\n\t\tthis.isToday = isToday\r\n\t\tthis.calendar = calendar\r\n\t\tthis.timestamp = new Date(year, month - 1, day).getTime()\r\n\t}\r\n\r\n\tprivate formatDay(day : number) : string {\r\n\t\treturn `${day}`.padStart(2, '0');\r\n\t}\r\n\r\n\tprivate formatMonth(month : number) : string {\r\n\t\treturn `${month}`.padStart(2, '0');\r\n\t}\r\n\t\r\n\tisCoordinateInside(x : number, y : number) : boolean {\r\n\t\treturn x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\r\n\t}\r\n\r\n\tsetPosition(x : number, y : number) : void {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tsetDimensions(width : number, height : number) : void {\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\tprivate get opt(): LOptions{\r\n\t\treturn this.calendar.opt\r\n\t}\r\n\tget selectDate() : LDay | null {\r\n\t\treturn this.calendar.selectDate\r\n\t}\r\n\tset selectDate(_val: LDay| null) {\r\n\t\t\r\n\t}\r\n\tget canSupplement() : boolean {\r\n\t\t// 在今日之前 并且 未签到 并且 支持补签\r\n\t\treturn this.opt.canSupplement! && this.isBeforeToday && !this.isCheckedIn\r\n\t}\r\n\tset canSupplement(_v: boolean) {\r\n\t\t\r\n\t}\r\n\tget isCheckedIn() : boolean {\r\n\t\treturn this.calendar.signedDates.includes(this.timestamp)\r\n\t\t// return true\r\n\t\t// if (this.calendar.opt.signedDates == null) return false\r\n\t\t// return this.calendar.opt.signedDates.some((dateString : string) : boolean => {\r\n\t\t// \tconst [year, month, day] = dateString.split('-').map((v : string) : number => parseInt(v));\r\n\t\t// \treturn year == this.year && month == this.month && day == this.day\r\n\t\t// })\r\n\t}\r\n\tset isCheckedIn(_v:boolean) {\r\n\t\t\r\n\t}\r\n\tprivate drawCircle(ctx : CanvasRenderingContext2D, x : number, y : number, radius : number, color : string, border : boolean = false) {\r\n\t\tctx.beginPath();\r\n\t\tif (border) {\r\n\t\t\tctx.lineWidth = 1\r\n\t\t\tctx.strokeStyle = 'white'\r\n\t\t}\r\n\t\tctx.fillStyle = color;\r\n\t\tctx.arc(x, y, radius, 0, Math.PI * 2);\r\n\t\tctx.fill();\r\n\t\tif (border) {\r\n\t\t\tctx.stroke()\r\n\t\t}\r\n\t}\r\n\tdraw(ctx : CanvasRenderingContext2D) {\r\n\t\tconst size = Math.min(this.width, this.height) * 0.9\r\n\t\tconst centerX = this.x + this.width / 2\r\n\t\tconst centerY = this.y + this.height / 2\r\n\t\tconst color = this.opt.color!\r\n\t\tconst unsignedColor = this.opt.unsignedColor!\r\n\t\tconst selectedDayBgColor = this.opt.selectedDayBgColor!\r\n\t\tconst textColor = this.opt.textColor!\r\n\t\tconst disabledColor = this.opt.disabledColor!\r\n\t\tconst dayFontSize = this.opt.dayFontSize!\r\n\t\t\r\n\t\t\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.font = this.isToday ? `${dayFontSize - 2}px Arial` : `${dayFontSize}px Arial`;\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t// 判断是否是当前选中日期\r\n\t\tconst isSelectedDate = this.selectDate == null || this.selectDate == this;\r\n\r\n\t\t// 设置字体颜色\r\n\t\tlet txtColor = this.type == 'current' ? textColor : disabledColor;\r\n\t\tif (this.isToday && !isSelectedDate) {\r\n\t\t\ttxtColor = color;\r\n\t\t}\r\n\r\n\t\t// 绘制选中效果\r\n\t\tif (this.selectDate != null && this.selectDate == this) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillStyle = selectedDayBgColor;\r\n\t\t\tctx.arc(centerX, centerY, size / 2, 0, Math.PI * 2);\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\t\t\r\n\t\t// 绘制今日效果\r\n\t\tif (this.isToday && isSelectedDate) {\r\n\t\t\tthis.drawCircle(ctx, centerX, centerY, size / 2, color);\r\n\t\t\ttxtColor = 'white';\r\n\t\t\t\r\n\t\t}\r\n\t\t// 绘制已签到或可补签效果 小点\r\n\t\tif (this.type == 'current' && (this.isCheckedIn || this.canSupplement)) {\r\n\t\t\tthis.drawCircle(ctx, centerX, centerY + this.fontSize * 0.9, 4, this.isCheckedIn ? (this.isToday && isSelectedDate ? 'white' : color) : unsignedColor);\r\n\t\t}\r\n\r\n\t\t// 绘制文字\r\n\t\tctx.fillStyle = txtColor;\r\n\t\tctx.fillText(this.isToday ? '今天' : this.fullDay, centerX, centerY);\r\n\r\n\t}\r\n}\r\n\r\n\r\nexport class Calendar {\r\n\tprivate year : number = 0\r\n\tprivate month : number = 0\r\n\tprivate el : UniCanvasElement | null = null\r\n\tprivate ctx : CanvasRenderingContext2D | null = null\r\n\tprivate init : boolean = false\r\n\tprivate today : number = 0\r\n\tprivate currentMonth : number = 0\r\n\tprivate currentYear : number = 0\r\n\t// private headerHeight : number = 50\r\n\t// private weekHeight : number = 30\r\n\tprivate monthDateCache : Map<string, LMonthData>\r\n\tprivate week : string[] = []\r\n\tselectDate : LDay | null = null\r\n\tprivate containerHeight : number = 0\r\n\tprivate containerWidth : number = 0\r\n\tprivate arrowIcons : ArrowIcon[] = []\r\n\topt : LOptions = {\r\n\t\tcanSupplement: false,\r\n\t\tisFullCalendar: true,\r\n\t\tyearMonth: '',\r\n\t\tsignedDates: [],\r\n\t\tweek: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\r\n\t\tweekStartsOn: 0,\r\n\t\tweekColor: '#BDC0C3',\r\n\t\tweekFontSize: 12,\r\n\t\tweekHeight: 40,\r\n\t\tselectedDayBgColor: 'rgba(0,0,0,0.06)',\r\n\t\tdayFontSize: 12,\r\n\t\ttextColor: '#1A1F24',\r\n\t\tdisabledColor: '#BDC0C3',\r\n\t\tmonthTitleHeight: 50,\r\n\t\tmonthTitleFontSize: 20,\r\n\t\tcolor: '#3B87F6',\r\n\t\tunsignedColor: '#F1A33A',\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tconst date = new Date()\r\n\t\tthis.currentYear = date.getFullYear()\r\n\t\tthis.currentMonth = date.getMonth() + 1\r\n\t\tthis.today = date.getDate()\r\n\t\tthis.monthDateCache = new Map<string, LMonthData>()\r\n\t\tthis.week = this.opt.week ?? []\r\n\t}\r\n\tget signedDates() : number[] {\r\n\t\tif (this.opt.signedDates == null) return []\r\n\t\tconst values : number[] = []\r\n\t\tthis.opt.signedDates!.forEach(item => {\r\n\t\t\tconst [year, month, day] = item.split('-').map((v : string) : number => parseInt(v));\r\n\t\t\tconst time = new Date(year, month - 1, day).getTime()\r\n\t\t\tif (!values.includes(time)) {\r\n\t\t\t\tvalues.push(time)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn values\r\n\t}\r\n\tget checkinDays() : number {\r\n\t\tif (this.signedDates.length == 0) return 0\r\n\t\tconst sortedDates = this.signedDates.sort((a, b):number => {\r\n\t\t\t// #ifdef APP-ANDROID\r\n\t\t\t// 这里的判断不能省略\r\n\t\t\tif (a.compareTo(b) == 0) {\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\treturn b - a\r\n\t\t})\r\n\t\treturn this.calculateContinuousCheckinDays(sortedDates);\r\n\t}\r\n\tprivate calculateContinuousCheckinDays(sortedDates : number[]) : number {\r\n\t\tconst dayInMillis = 24 * 60 * 60 * 1000;\r\n\t\tconst todayTime = new Date(this.currentYear, this.currentMonth - 1, this.today).getTime();\r\n\t\tlet count = 0;\r\n\t\tlet streak = 0;\r\n\r\n\t\tfor (let i = 0; i < sortedDates.length; i++) {\r\n\t\t\tif (i == 0) {\r\n\t\t\t\t// 大于1天，即隔了一天就已经中断签到 不再计算\r\n\t\t\t\tif (todayTime - sortedDates[i] > dayInMillis) {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tif (sortedDates[i] == todayTime || todayTime - sortedDates[i] == dayInMillis) {\r\n\t\t\t\t\tstreak = 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (sortedDates[i - 1] - sortedDates[i] == dayInMillis) {\r\n\t\t\t\t\tstreak++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn streak;\r\n\t}\r\n\tsetCanvas(el : UniCanvasElement | null) {\r\n\t\tif (el == null) return\r\n\t\tthis.el = el\r\n\t\tthis.containerHeight = 6 * (this.opt.dayHeight ?? 0) + this.opt.weekHeight! + this.opt.monthTitleHeight! //6\r\n\t\tthis.containerWidth = this.el!.offsetWidth\r\n\t\tthis.el!.style.setProperty('height', this.containerHeight + 'px')\r\n\t\tthis.ctx = el.getContext('2d')!\r\n\t\tconst dpr = uni.getDeviceInfo().devicePixelRatio ?? 1;\r\n\t\t\r\n\t\tthis.el!.width = this.containerWidth * dpr;\r\n\t\tthis.el!.height = this.containerHeight * dpr;\r\n\t\tthis.ctx!.scale(dpr, dpr)\r\n\t\t// this.ctx = el.getDrawableContext()\r\n\t\t\r\n\t\t// this.ctx.fillStyle = 'red'\r\n\t\t// this.ctx.fillRect(0,0,100,100)\r\n\t}\r\n\tsetOptions(opt : LOptions) {\r\n\t\tlet datechange = false\r\n\t\tlet weekStartsOn = -1\r\n\t\tfor (let key in opt) {\r\n\t\t\tconst value = opt[key]\r\n\t\t\tif (key == 'yearMonth' && value != null && value != this.opt.yearMonth) {\r\n\t\t\t\tdatechange = true\r\n\t\t\t}\r\n\t\t\tif (key == 'weekStartsOn' && value != null && value != this.opt.weekStartsOn) {\r\n\t\t\t\tweekStartsOn = value as number\r\n\t\t\t}\r\n\t\t\tif (value != null) {\r\n\t\t\t\tthis.opt[key] = value\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (weekStartsOn != -1) {\r\n\t\t\tconst normalWeek = [...this.opt.week!]\r\n\t\t\tconst sIndex = weekStartsOn < 0 ? 0 : weekStartsOn >= normalWeek.length ? normalWeek.length - 1 : weekStartsOn\r\n\t\t\tnormalWeek.unshift(...normalWeek.slice(-sIndex))\r\n\t\t\tnormalWeek.length = 6\r\n\t\t\tthis.week = normalWeek\r\n\t\t}\r\n\r\n\t\tif (this.opt.yearMonth != '' && !this.init || datechange) {\r\n\t\t\tconst arr = this.opt.yearMonth!.split('-')\r\n\t\t\tthis.year = parseInt(arr[0])\r\n\t\t\tthis.month = parseInt(arr[1])\r\n\t\t\tthis.init = true\r\n\t\t}\r\n\t}\r\n\r\n\t/** 获取当月共多少天，也就是获取月的最后一天 */\r\n\tgetMonthDayLength(year : number, month : number) : number {\r\n\t\treturn new Date(year, month, 0).getDate()\r\n\t}\r\n\t// 获取当月第一天星期几\r\n\tgetFirstDayOfWeek(year : number, month : number, day : number = 1) : number {\r\n\t\treturn new Date(year, month - 1, day).getDay();\r\n\t}\r\n\t// 获取加/减一个月的日期\r\n\tgetOperateMonthDate(nowYear : number, nowMonth:number, num : number) : LYearMonth {\r\n\t\tlet month = nowMonth + num\r\n\t\tlet year = nowYear;\r\n\t\tif (month > 12) {\r\n\t\t\tmonth = 1;\r\n\t\t\tyear++;\r\n\t\t} else if (month < 1) {\r\n\t\t\tmonth = 12;\r\n\t\t\tyear--;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tmonth,\r\n\t\t\tyear,\r\n\t\t} as LYearMonth\r\n\t}\r\n\r\n\tgenerateMonthDateCache(year : number = this.year, month : number = this.month) : LMonthData {\r\n\t\t// 检查是否可以切换到下个月\r\n\t\t// const canSwitchToNextMonth = this.currentYear > year || (this.currentYear == year && this.currentMonth > month + 1);\r\n\t\tconst key = `${year}-${month}`\r\n\t\tif (this.monthDateCache.has(key)) {\r\n\t\t\treturn this.monthDateCache.get(key)!\r\n\t\t}\r\n\t\tconst arr : LDay[] = []\r\n\t\tconst days = this.getMonthDayLength(year, month);\r\n\t\tconst firstday = this.getFirstDayOfWeek(year, month);\r\n\t\tconst beforeEmptyLength = (firstday + this.opt.weekStartsOn!) % 7 //this.getFirstDayOfWeek(year, month);\r\n\t\t// Math.ceil((days + beforeEmptyLength) / 7)\r\n\t\tconst afterEmptyLength = 5 * 7 - beforeEmptyLength - days //6 - this.getFirstDayOfWeek(year, month, days); //6\r\n\r\n\t\tconst last = this.getOperateMonthDate(year, month, -1);\r\n\t\tconst lastMonthEndDay = this.getMonthDayLength(last.year, last.month);\r\n\t\tconst next = this.getOperateMonthDate(year, month, 1);\r\n\t\tconst today = new Date(this.currentYear, this.currentMonth - 1, this.today).getTime();\r\n\t\tlet index = 0\r\n\t\tconst getGridSize = (i : number) : LGridSize => {\r\n\t\t\t// 确保this.el存在并且可以获取到边界矩形\r\n\t\t\tconst rect = this.el?.getBoundingClientRect();\r\n\r\n\r\n\t\t\tconst height = this.opt.dayHeight ?? 0;\r\n\r\n\t\t\tconst width = rect == null ? 0 : rect.width / 7;\r\n\r\n\t\t\t// 计算行和列\r\n\t\t\tconst row = Math.floor(i / 7);\r\n\t\t\tconst col = i % 7;\r\n\r\n\t\t\t// 计算网格单元的位置\r\n\t\t\tconst x = col * width;\r\n\t\t\tconst y = row * height + this.opt.monthTitleHeight! + this.opt.weekHeight!;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx, // 使用计算得到的x值\r\n\t\t\t\ty, // 使用计算得到的y值\r\n\t\t\t\twidth, // 使用计算得到的width值\r\n\t\t\t\theight // 使用正确的变量名height\r\n\t\t\t} as LGridSize;\r\n\t\t};\r\n\t\tfor (var i = 0; i < beforeEmptyLength; i++) {\r\n\t\t\tconst { x, y, width, height } = getGridSize(index);\r\n\t\t\tconst date = lastMonthEndDay - beforeEmptyLength + i + 1;\r\n\t\t\tconst time = new Date(last.year, last.month - 1, date).getTime()\r\n\t\t\tconst day = new Day(\r\n\t\t\t\tdate,\r\n\t\t\t\tlast.month,\r\n\t\t\t\tlast.year,\r\n\t\t\t\tlast.year == this.currentYear && last.month == this.currentMonth,\r\n\t\t\t\ttime == today,\r\n\t\t\t\ttime < today,\r\n\t\t\t\tthis\r\n\t\t\t)\r\n\t\t\tday.type = 'last'\r\n\t\t\tday.setPosition(x, y)\r\n\t\t\tday.setDimensions(width, height)\r\n\t\t\tarr.push(day)\r\n\t\t\tindex++\r\n\t\t}\r\n\t\tfor (var i = 0; i < days; i++) {\r\n\t\t\tconst { x, y, width, height } = getGridSize(index)\r\n\t\t\tconst date = i + 1;\r\n\t\t\tconst time = new Date(year, month - 1, date).getTime()\r\n\t\t\tconst day = new Day(\r\n\t\t\t\tdate,\r\n\t\t\t\tmonth,\r\n\t\t\t\tyear,\r\n\t\t\t\tyear == this.currentYear && month == this.currentMonth,\r\n\t\t\t\ttime == today,\r\n\t\t\t\ttime < today,\r\n\t\t\t\tthis)\r\n\t\t\tday.setPosition(x, y)\r\n\t\t\tday.setDimensions(width, height)\r\n\t\t\tarr.push(day)\r\n\t\t\tindex++\r\n\t\t}\r\n\t\tfor (var i = 0; i < afterEmptyLength; i++) {\r\n\t\t\tconst { x, y, width, height } = getGridSize(index)\r\n\t\t\tconst date = i + 1;\r\n\t\t\tconst time = new Date(next.year, next.month - 1, date).getTime()\r\n\t\t\tconst day = new Day(date,\r\n\t\t\t\tnext.month,\r\n\t\t\t\tnext.year,\r\n\t\t\t\tnext.year == this.currentYear && next.month == this.currentMonth,\r\n\t\t\t\ttime == today,\r\n\t\t\t\ttime < today,\r\n\t\t\t\tthis)\r\n\t\t\tday.type = 'next'\r\n\t\t\tday.setPosition(x, y)\r\n\t\t\tday.setDimensions(width, height)\r\n\t\t\tarr.push(day)\r\n\t\t\tindex++\r\n\t\t}\r\n\r\n\t\tconst monthData : LMonthData = {\r\n\t\t\tyear,\r\n\t\t\tmonth,\r\n\t\t\tdays: arr,\r\n\t\t}\r\n\t\tthis.monthDateCache.set(key, monthData)\r\n\t\treturn monthData\r\n\t}\r\n\tnext() {\r\n\t\tconst { year, month } = this.getOperateMonthDate(this.year, this.month, 1)\r\n\t\t// 检查是否可以切换到下个月\r\n\t\tconst canSwitchToNextMonth = this.currentYear > year || (this.currentYear == year && month - this.currentMonth <= 1);\r\n\t\tif (canSwitchToNextMonth) {\r\n\t\t\tthis.year = year\r\n\t\t\tthis.month = month\r\n\t\t\tthis.render(year, month)\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'error',\r\n\t\t\t\ttitle: '往后最多查看一个月'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tlast() {\r\n\t\tconst { year, month } = this.getOperateMonthDate(this.year, this.month, -1)\r\n\t\tthis.year = year\r\n\t\tthis.month = month\r\n\t\tthis.render(year, month)\r\n\t}\r\n\t/**\r\n\t* 前往某一天 \r\n\t* @param {string} date 格式 YYYY-MM-DD\r\n\t*/ \r\n\tgoToDate(date : string | null = null) {\r\n\t\tif (date == null) {\r\n\t\t\tthis.render(this.currentYear, this.currentMonth, this.today)\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst [year, month, day] = date.split('-').map((item) : number => parseInt(item))\r\n\t\t\t\tthis.render(year, month, day)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow new Error('参数有误')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tprivate drawIcon(ctx : CanvasRenderingContext2D, size : number, x : number, y : number, arrow : string, color : string) {\r\n\t\t// 设置绘图的填充颜色\r\n\t\tctx.strokeStyle = color;\r\n\t\tctx.beginPath();\r\n\t\tctx.lineJoin = 'round'\r\n\t\tctx.lineWidth = 2\r\n\t\t// 根据箭头类型绘制不同的形状\r\n\t\tif (arrow === 'left') {\r\n\t\t\tctx.moveTo(x + size * 0.6042, y + size * 0.25);\r\n\t\t\tctx.lineTo(x + size * 0.3542, y + size * 0.5);\r\n\t\t\tctx.lineTo(x + size * 0.6042, y + size * 0.75);\r\n\r\n\t\t} else if (arrow === 'right') {\r\n\t\t\tctx.moveTo(x + size * (1 - 0.6042), y + size * 0.25);\r\n\t\t\tctx.lineTo(x + size * (1 - 0.3542), y + size * 0.5);\r\n\t\t\tctx.lineTo(x + size * (1 - 0.6042), y + size * 0.75);\r\n\t\t}\r\n\r\n\t\tctx.stroke()\r\n\t}\r\n\tprivate drawHead(monthData : LMonthData) {\r\n\t\tconst width = this.containerWidth\r\n\t\tif (this.ctx == null) return\r\n\t\tconst ctx = this.ctx!\r\n\t\tconst height = this.opt.monthTitleHeight!\r\n\t\t// ctx.fillStyle = 'rgba(0,0,0,0.1)'\r\n\t\t// ctx.rect(0,0,width, this.opt.monthTitleHeight!)\r\n\t\t// ctx.fill()\r\n\t\tctx.textAlign = 'center'\r\n\t\tctx.fillStyle = this.opt.textColor!\r\n\t\tctx.font = ` ${this.opt.monthTitleFontSize!}px sans-serif`\r\n\t\tctx.textBaseline = 'middle'\r\n\t\tctx.fillText(`${monthData.year}年` + `${monthData.month}`.padStart(2, '0') + '月', width * 0.5, height * 0.55)\r\n\t\tif (this.arrowIcons.length == 0) {\r\n\t\t\tconst offsetTop = (height - 30) / 2\r\n\t\t\tthis.arrowIcons.push(new ArrowIcon(0, offsetTop, 30, 'left', `#A0A5AA`))\r\n\t\t\tthis.arrowIcons.push(new ArrowIcon(width - 30, offsetTop, 30, 'right', `#A0A5AA`))\r\n\t\t}\r\n\t\tthis.arrowIcons.forEach(icon => {\r\n\t\t\ticon.draw(ctx)\r\n\t\t})\r\n\t}\r\n\tprivate drawWeek() {\r\n\t\tif (this.ctx == null) return\r\n\t\tconst ctx = this.ctx!\r\n\t\tctx.textAlign = 'center'\r\n\t\tctx.font = `${this.opt.weekFontSize}px Arial`\r\n\t\tctx.textBaseline = 'middle'\r\n\t\tctx.fillStyle = this.opt.weekColor!\r\n\t\tthis.week.forEach((week, index) => {\r\n\t\t\tctx.fillText(`${week}`, this.containerWidth / 7 * (index + 0.5), this.opt.monthTitleHeight! + this.opt.weekHeight! * 0.5)\r\n\t\t})\r\n\t}\r\n\trender(year : number = this.year, month : number = this.month, day : number | null = null) {\r\n\t\tconst monthData = this.generateMonthDateCache(year, month);\r\n\t\tif (day != null) {\r\n\t\t\tthis.selectDate = monthData.days.find((item) : boolean => item.day == day)\r\n\t\t}\r\n\t\tif (this.el != null && this.ctx != null) {\r\n\t\t\tthis.ctx!.clearRect(0, 0, this.containerWidth, this.containerHeight)\r\n\t\t\tthis.drawHead(monthData)\r\n\t\t\tthis.drawWeek()\r\n\r\n\t\t\tmonthData.days.forEach(day => {\r\n\t\t\t\tday.draw(this.ctx!)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn\r\n\t}\r\n\ttouch(e : UniPointerEvent) {\r\n\t\tif (this.el == null) return\r\n\t\tconst rect = this.el!.getBoundingClientRect()\r\n\t\tconst x = e.clientX - rect.left\r\n\t\tconst y = e.clientY - rect.top\r\n\r\n\t\t// 判断 是点了左右\r\n\t\tconst icon = this.arrowIcons.find((icon) : boolean => icon.isCoordinateInside(x, y))\r\n\r\n\t\tif (icon != null) {\r\n\t\t\tif (icon.type == 'left') {\r\n\t\t\t\tthis.last()\r\n\t\t\t} else {\r\n\t\t\t\tthis.next()\r\n\t\t\t}\r\n\t\t\tthis.opt.panelChange?.({\r\n\t\t\t\tyear: this.year,\r\n\t\t\t\tmonth: this.month\r\n\t\t\t} as LYearMonth)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// 判断是点了日历\r\n\t\tconst month = this.monthDateCache.get(`${this.year}-${this.month}`)\r\n\t\tif (month == null) return\r\n\t\tconst day = month.days.find((day) : boolean => day.isCoordinateInside(x, y))\r\n\t\t// 只有点击当前月的\r\n\t\tif (day != null && day.type == 'current') {\r\n\t\t\t// if(this.selectDate != day) {\r\n\t\t\t\tthis.selectDate = day\r\n\t\t\t\tthis.render()\r\n\t\t\t// }\r\n\t\t\tthis.opt.select?.(day)\r\n\t\t}\r\n\t}\r\n}","<template>\n\t<view class=\"calender\">\n\t\t<canvas ref=\"dailyRef\" id=\"l-daily-punch\" class=\"l-daily-punch\" :style=\"[styles]\" @click=\"onClick\"></canvas>\n\t</view>\n</template>\n<script setup lang=\"uts\">\n\timport { Calendar} from './calender'\n\timport { PropType } from 'vue'\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert';\n\timport { LDay,  LOptions, LYearMonth } from '../../index';\n\tconst emits = defineEmits(['select', 'panelChange', 'streak'])\n\tconst props = defineProps({\n\t\tcanSupplement: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tisFullCalendar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tyearMonth: {\n\t\t\ttype: String,\n\t\t\tdefault: () : string => {\n\t\t\t\tconst date = new Date();\n\t\t\t\tconst year = date.getFullYear();\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0'); // 确保月份是两位数\n\t\t\t\treturn `${year}-${month}`;\n\t\t\t}\n\t\t},\n\t\tsignedDates: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\tdefault: () : string[] => {\n\t\t\t\treturn [] as string[];\n\t\t\t},\n\t\t\tvalidator: (value : string[]):boolean => {\n\t\t\t\t// 简单的验证函数，确保每个元素都是有效的日期字符串\n\t\t\t\treturn value.every((date : string) : boolean => /^\\d{4}-\\d{2}-\\d{2}$/.test(date));\n\t\t\t}\n\t\t},\n\n\n\n\n\n\n\n\t\tdayHeight: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 76\n\t\t},\n\n\t\tweek: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\tdefault: () : string[] => ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n\t\t},\n\t\tweekStartsOn: {\n\t\t\ttype: Number,\n\t\t\tdefault: 6,\n\t\t\tvalidator: (value:number):boolean => value <= 6\n\t\t},\n\t\tweekColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#BDC0C3'\n\t\t},\n\t\tweekFontSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 14\n\t\t},\n\t\tweekHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 30\n\t\t},\n\t\tselectedDayBgColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'rgba(0,0,0,0.06)'\n\t\t},\n\t\tdayFontSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 16\n\t\t},\n\t\ttextColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#1A1F24'\n\t\t},\n\t\tdisabledColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#BDC0C3'\n\t\t},\n\t\tmonthTitleHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 50\n\t\t},\n\t\tmonthTitleFontSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#3B87F6'\n\t\t},\n\t\tunsignedColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#F1A33A'\n\t\t},\n\t})\n\tlet drawRef = ref<UniCanvasElement|null>(null)\n\tlet calender:Calendar|null = null\n\t\n\t\n\tconst styles = computed(():Map<string, any> => {\n\t\tconst style = new Map<string, any>()\n\t\tstyle.set('height', `${6 * unitConvert(props.dayHeight) + props.weekHeight + props.monthTitleHeight}px`)\n\t\t\n\t\treturn style\n\t})\n\t\n\tconst onClick = (e: UniPointerEvent) => {\n\t\tcalender?.touch(e)\n\t}\n\t\n\tconst setOpt = () => {\n\t\tconst opt:LOptions = {\n\t\t\tcanSupplement: props.canSupplement,\n\t\t\tisFullCalendar: props.isFullCalendar,\n\t\t\tyearMonth: props.yearMonth,\n\t\t\tsignedDates: [...props.signedDates],\n\t\t\tdayHeight: unitConvert(props.dayHeight),\n\t\t\tweek: props.week as string[],\n\t\t\tweekStartsOn: props.weekStartsOn,\n\t\t\tweekColor: props.weekColor,\n\t\t\tweekFontSize: props.weekFontSize,\n\t\t\tweekHeight: props.weekHeight,\n\t\t\tselectedDayBgColor: props.selectedDayBgColor,\n\t\t\tdayFontSize: props.dayFontSize,\n\t\t\ttextColor: props.textColor,\n\t\t\tdisabledColor: props.disabledColor,\n\t\t\tmonthTitleHeight: props.monthTitleHeight,\n\t\t\tmonthTitleFontSize: props.monthTitleFontSize,\n\t\t\tcolor:props.color,\n\t\t\tunsignedColor: props.unsignedColor,\n\t\t\tselect: (e: LDay) => {\n\t\t\t\temits('select', e)\n\t\t\t},\n\t\t\tpanelChange: (e: LYearMonth) => {\n\t\t\t\temits('panelChange', e)\n\t\t\t}\n\t\t}\n\t\tif(calender == null) return\n\t\tcalender!.setOptions(opt)\n\t}\n\twatchEffect(() => {\n\t\tsetOpt()\n\t\tif(calender == null) return\n\t\tcalender!.render()\n\t\temits('streak', calender!.checkinDays)\n\t})\n\tconst instance = getCurrentInstance()!.proxy!\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t// IOS hbx4.52 / HOS HBX4.63\n\tconst dailyRef = ref<UniElement|null>(null)\n\tonMounted(()=> {\n\t\tnextTick(()=> {\n\t\t\tcalender = new Calendar()\n\t\t\tsetOpt()\n\t\t\tcalender!.setCanvas(dailyRef.value)\n\t\t\tcalender!.render()\n\t\t\temits('streak', calender!.checkinDays)\n\t\t})\n\t})\n\n</script>\n<style lang=\"scss\">\n\t.l-daily-punch {\n\t\twidth: 100%;\n\t\t// height: 75 * 6 + 50px + 40px;\n\t}\n\t.calender{\n\t\tmargin:0 30rpx;\n\t}\n</style>","<template>\r\n\t<view class=\"fui-bottom__popup-wrap\" :style=\"{ zIndex: zIndex,background:maskBackground}\" @tap.stop=\"handleClose\"\r\n\t\t:ref=\"refMkId\">\r\n\t\t<view @tap.stop=\"stop\" :ref=\"refId\" class=\"fui-bottom__popup\" :class=\"{'fui-bp__safe-weex':iphoneX && safeArea}\"\r\n\t\t\t:style=\"{borderTopLeftRadius:`${radius}rpx`,borderTopRightRadius:`${radius}rpx`,background: background}\">\r\n\t\t\t<slot></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * BottomPopup 底部弹出层\r\n\t * @description BottomPopup 底部弹出层，从底部弹出的浮层，引导用户进行相关操作。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Boolean} visible {Boolean} 是否显示底部弹出层\r\n\t * @property {String} background {String} 底部弹出层背景颜色\r\n\t * @property {Number} radius {Number} 底部弹出层左上/右上圆角值，单位rpx\r\n\t * @property {Number} zIndex {Number} 底部弹出层z-index值\r\n\t * @property {Boolean} maskClosable {Boolean} 点击遮罩 是否可关闭\r\n\t * @property {String} maskBackground {String} 遮罩背景色\r\n\t * @property {Boolean} safeArea {Boolean} 是否适配底部安全区\r\n\t * @event {Function} close 点击遮罩层（maskClosable=true）时触发，() => void\r\n\t * @event {Function} update:visible 点击遮罩层（maskClosable=true）时触发，用于双向绑定\t，(event: boolean) => void\r\n\t */\r\n\texport default {\r\n\t\tname: 'fui-bottom-popup',\r\n\t\temits: ['close', 'update:visible'],\r\n\t\tprops: {\r\n\t\t\tvisible: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#fff'\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 24\r\n\t\t\t},\r\n\t\t\tzIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 996\r\n\t\t\t},\r\n\t\t\tmaskClosable: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tmaskBackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'rgba(0,0,0,.6)'\r\n\t\t\t},\r\n\t\t\tsafeArea: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst refId = `fui_bp_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`\r\n\t\t\tconst refMkId = `fui_bpmk_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`\r\n\t\t\treturn {\r\n\t\t\t\trefId: refId,\r\n\t\t\t\trefMkId: refMkId,\r\n\t\t\t\tiphoneX: false,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\telement: null as UniElement | null,\r\n\t\t\t\tmkElement: null as UniElement | null\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvisible: {\r\n\t\t\t\thandler(newVal : boolean) {\r\n\t\t\t\t\tif (newVal) {\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.isShow) this.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\tthis.iphoneX = this.isPhoneX();\r\n\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (!this.visible) this.close();\r\n\t\t\t\t}, 50);\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleClose() {\r\n\t\t\t\tif (!this.maskClosable) return;\r\n\t\t\t\tthis.$emit('close');\r\n\t\t\t\tthis.$emit('update:visible', false)\r\n\t\t\t},\r\n\r\n\t\t\tisPhoneX() : boolean {\r\n\t\t\t\tif (!this.safeArea) return false;\r\n\t\t\t\t//34px\r\n\t\t\t\tconst res : GetSystemInfoResult = uni.getSystemInfoSync();\r\n\t\t\t\tlet iphonex = false;\r\n\t\t\t\tlet models = ['iphonex', 'iphonexr', 'iphonexsmax']\r\n\t\t\t\tfor (let i = 11; i < 20; i++) {\r\n\t\t\t\t\tmodels.push(`iphone${i}`)\r\n\t\t\t\t\tmodels.push(`iphone${i}mini`)\r\n\t\t\t\t\tmodels.push(`iphone${i}pro`)\r\n\t\t\t\t\tmodels.push(`iphone${i}promax`)\r\n\t\t\t\t}\r\n\t\t\t\tconst model = res.model.replace(/\\s/g, \"\").toLowerCase()\r\n\t\t\t\tconst newModel = model.split('<')[0]\r\n\t\t\t\tif (models.includes(model) || models.includes(newModel) || res.safeAreaInsets.bottom > 0) {\r\n\t\t\t\t\tiphonex = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn iphonex;\r\n\t\t\t},\r\n\r\n\t\t\topen() {\r\n\t\t\t\tthis.isShow = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis._animation(true);\r\n\t\t\t\t\t}, 50);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.isShow = false;\r\n\t\t\t\tthis._animation(false);\r\n\t\t\t},\r\n\t\t\t_animation(visible : boolean) {\r\n\t\t\t\tif (this.element == null) {\r\n\t\t\t\t\tthis.element = this.$refs[this.refId] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.mkElement == null) {\r\n\t\t\t\t\tthis.mkElement = this.$refs[this.refMkId] as UniElement;\r\n\t\t\t\t}\r\n\t\t\t\tthis.element!.style.setProperty('transform', `translateY(${visible ? '0' : '100%'})`);\r\n\t\t\t\tthis.element!.style.setProperty('opacity', visible ? '1' : '0')\r\n\t\t\t\tthis.mkElement!.style.setProperty('opacity', visible ? '1' : '0')\r\n\t\t\t\tif (visible) {\r\n\t\t\t\t\tthis.mkElement!.style.setProperty('visibility', 'visible');\r\n\t\t\t\t\tthis.element!.style.setProperty('visibility', 'visible');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.mkElement!.style.setProperty('visibility', 'hidden');\r\n\t\t\t\t\t\tthis.element!.style.setProperty('visibility', 'hidden');\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstop() { }\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.fui-bottom__popup-wrap {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: center;\r\n\t\ttransition-property: opacity, visibility;\r\n\t\ttransition-timing-function: ease-in-out;\r\n\t\ttransition-duration: 0.3s;\r\n\t\tvisibility: hidden;\r\n\t\tborder-bottom-width: 0;\r\n\t\toverflow: hidden;\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.fui-bottom__popup {\r\n\t\twidth: 100%;\r\n\t\ttransition-property: transform, opacity, visibility;\r\n\t\ttransition-timing-function: ease-in-out;\r\n\t\ttransition-duration: 0.3s;\r\n\t\tmin-height: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\ttransform: translateY(100%);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-bp__safe-weex {\r\n\t\tpadding-bottom: 34px;\r\n\t}\r\n</style>","<template>\r\n\t<view class=\"fui-radio__input\"\r\n\t\t:class=\"[scaleRatio!=1?`fui-radio__scale-${scaleAlign}`:'',disabled?'fui-radio__disabled':'',color=='' && styleVal && (!isCheckMark || styleType==2)?'fui-radio__color':'',color=='' && styleVal && !isCheckMark && styleType==1?'fui-radio__active-bgcolor':'',normalColor=='' && !styleVal && (!isCheckMark || styleType==2)?'fui-radio__background':'',color=='' && styleVal && styleType==2?'fui-radio__background':'',borderColor=='' && !styleVal && (!isCheckMark || styleType==2)?'fui-radio__normal-border':'']\"\r\n\t\t:style=\"getStyl\" @tap.stop=\"radioClick\">\r\n\t\t<view class=\"fui-check__mark\" :class=\"{'fui-radio__mark-color':checkMarkColor==''}\" :style=\"getMarkStyl\"\r\n\t\t\tv-if=\"val && styleType==1\">\r\n\t\t</view>\r\n\t\t<view class=\"fui-check__mark-circle\" :class=\"{'fui-radio__active-bgcolor':checkMarkColor==''}\"\r\n\t\t\t:style=\"getCheckMarkStyl\" v-if=\"val && styleType==2\">\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Radio 单选框\r\n\t * @description Radio 单项选择器，需结合fui-radio-group和fui-radio组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} value {String} value值，当选中时会携带该值\t\r\n\t * @property {Boolean} checked {Boolean} 是否选中\r\n\t * @property {Boolean} disabled\t {Boolean} 是否禁用\r\n\t * @property {String} color\t{String} 选中时背景颜色\t\r\n\t * @property {String} normalColor {String} 未选中时背景颜色\r\n\t * @property {String} borderColor {String} 未选中时边框颜色\r\n\t * @property {String} borderRadius {String}\t圆角值\r\n\t * @property {Boolean} isCheckMark {Boolean} 是否只展示对号，无边框背景\r\n\t * @property {String} checkMarkColor {String} 对号颜色\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\r\n\t * @property {Number} styleType {Number} 选中后样式类型,可选值：1-checkmark 2-dot\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-radio\",\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tchecked: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tnormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '100px'\r\n\t\t\t},\r\n\t\t\tisCheckMark: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcheckMarkColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tscaleAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t},\r\n\t\t\tstyleType: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.val = this.checked;\r\n\t\t\tthis.getParent('fui-radio-group');\r\n\t\t\tif (this.fuiRadioGroup != null) {\r\n\t\t\t\tconst group = this.fuiRadioGroup as ComponentPublicInstance;\r\n\t\t\t\t(group.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\tif (group.$props['modelValue'] != '') {\r\n\t\t\t\t\tthis.val = this.value == group.$props['modelValue']\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst parent = this.getParent('fui-label')\r\n\t\t\tif (parent) {\r\n\t\t\t\tconst label = this.fuiLabel as ComponentPublicInstance\r\n\t\t\t\t(label.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchecked(newVal : boolean) {\r\n\t\t\t\tthis.val = newVal;\r\n\t\t\t},\r\n\t\t\tval(newVal : boolean) {\r\n\t\t\t\tif (newVal && this.fuiRadioGroup != null) {\r\n\t\t\t\t\tconst group = this.fuiRadioGroup as ComponentPublicInstance;\r\n\t\t\t\t\tgroup.$callMethod('changeValue', this.value, this);\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.styleVal = newVal;\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('transform', `scale(${this.scaleRatio})`);\r\n\t\t\t\tmp.set('border-radius', this.borderRadius);\r\n\t\t\t\tconst color = this.val ? this.color : (this.borderColor == '' ? this.color : this.borderColor);\r\n\t\t\t\tconst bgColor = this.val ? this.color : this.normalColor;\r\n\t\t\t\tif (this.styleType == 1) {\r\n\t\t\t\t\tif (this.isCheckMark) {\r\n\t\t\t\t\t\tmp.set('border-color', 'transparent')\r\n\t\t\t\t\t\tmp.set('background', 'transparent')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (color != '') mp.set('border-color', color)\r\n\t\t\t\t\t\tif (bgColor != '') mp.set('background', bgColor)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (color != '') mp.set('border-color', color)\r\n\t\t\t\t\tif (bgColor != '') mp.set('background', bgColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetCheckMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') mp.set('background', this.checkMarkColor)\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') {\r\n\t\t\t\t\tmp.set('borderBottomColor', this.checkMarkColor)\r\n\t\t\t\t\tmp.set('borderRightColor', this.checkMarkColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: false,\r\n\t\t\t\tstyleVal: false,\r\n\t\t\t\tfuiLabel: null as null | ComponentPublicInstance,\r\n\t\t\t\tfuiRadioGroup: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tradioClick(e : UniPointerEvent) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tthis.radioChange();\r\n\t\t\t},\r\n\t\t\tradioChange() {\r\n\t\t\t\tif (this.disabled || this.val) return;\r\n\t\t\t\tthis.val = true;\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tif (name == 'fui-radio-group') {\r\n\t\t\t\t\tthis.fuiRadioGroup = parent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fuiLabel = parent;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tlabelClick() {\r\n\t\t\t\tthis.radioChange()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-radio-border-color: #CCCCCC !default;\r\n\t$fui-radio-background: #fff !default;\r\n\t$fui-radio-mark-color: #fff !default;\r\n\r\n\t.fui-radio__input {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\r\n\t\tborder-radius: 100px;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-shrink: 0;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-radio__scale-left {\r\n\t\ttransform-origin: 0 center;\r\n\t}\r\n\r\n\t.fui-radio__scale-center {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-radio__scale-right {\r\n\t\ttransform-origin: 100% center;\r\n\t}\r\n\r\n\t.fui-radio__active-bgcolor {\r\n\t\tbackground: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-radio__color {\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-radio__normal-border {\r\n\t\tborder-color: $fui-radio-border-color !important;\r\n\t}\r\n\r\n\t.fui-radio__background {\r\n\t\tbackground: $fui-radio-background !important;\r\n\t}\r\n\r\n\t.fui-radio__mark-color {\r\n\t\tborder-bottom-color: $fui-radio-mark-color !important;\r\n\t\tborder-right-color: $fui-radio-mark-color !important;\r\n\t}\r\n\r\n\t.fui-check__mark {\r\n\t\twidth: 20rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 3px;\r\n\t\tborder-bottom-color: #FFFFFF;\r\n\t\tborder-right-style: solid;\r\n\t\tborder-right-width: 3px;\r\n\t\tborder-right-color: #FFFFFF;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\ttransform-origin: 54% 48%;\r\n\t}\r\n\r\n\t.fui-check__mark-circle {\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\r\n\t\tborder-radius: 16rpx;\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\t.fui-radio__disabled {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","<template>\r\n\t<view class=\"fui-list__cell\" :hover-class=\"highlight?'fui-list__cell-highlight':''\" :hover-stay-time=\"150\"\r\n\t\t:class=\"{'fui-list__cell-background':background==''}\"\r\n\t\t:style=\"{background:background,marginTop:`${marginTop}rpx`,marginBottom:`${marginBottom}rpx`,borderRadius:radius}\"\r\n\t\t@tap=\"handleClick\">\r\n\t\t<view v-if=\"topBorder\" :style=\"getTopLineStyl\" class=\"fui-cell__border-top\"\r\n\t\t\t:class=\"{'fui-cell__border-color':borderColor==''}\"></view>\r\n\t\t<!-- 外层设置 padding 会影响 absolute 定位的left和right值 ... -->\r\n\t\t<view class=\"fui-list__cell-inner\" :class=\"{'fui-list__cell-padding':padding==''}\" :style=\"getPadding\">\r\n\t\t\t<slot></slot>\r\n\t\t\t<view class=\"fui-cell__arrow\" :style=\"getBorderColor\" :class=\"{'fui-list__cell-arrowcolor':arrowColor==''}\" v-if=\"arrow\">\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"bottomBorder\" :style=\"getBtmLineStyl\" class=\"fui-cell__border-bottom\"\r\n\t\t\t:class=\"{'fui-cell__border-color':borderColor=='','fui-list__cell-bleft':bottomLeft==-1}\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * List 列表\r\n\t * @description 列表Item项目，常用的布局组件。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} padding {String} padding值\r\n\t * @property {Number} marginTop {Number} margin-top值，单位rpx\r\n\t * @property {Number} marginBottom {Number} margin-bottom值，单位rpx\r\n\t * @property {String} background {String} 背景颜色\r\n\t * @property {Boolean} highlight {Boolean} 是否有点击效果\r\n\t * @property {Boolean} arrow {Boolean} 是否需要右侧箭头\r\n\t * @property {String} arrowColor {String} 右侧箭头颜色\r\n\t * @property {Boolean} topBorder {Boolean} 是否显示上边框\r\n\t * @property {Boolean} bottomBorder {Boolean} 是否显示下边框\r\n\t * @property {String} borderColor {String} 边框颜色\r\n\t * @property {Number} topLeft {Number} 上边框left值，单位rpx\r\n\t * @property {Number} topRight {Number} 上边框right值，单位rpx\r\n\t * @property {Number} bottomLeft {Number} 下边框left值，单位rpx\r\n\t * @property {Number} bottomRight {Number} 下边框right值，单位rpx\r\n\t * @property {String} radius {String} border-radius圆角值 , 如‘16rpx’\r\n\t * @property {Number} index {Number} 索引值\r\n\t * @event {Function} onclick 点击组件时触发，返回索引值，(event: number) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-list-cell\",\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginBottom: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\thighlight: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tarrow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tarrowColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttopBorder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tbottomBorder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttopLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\ttopRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tbottomLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tbottomRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '0'\r\n\t\t\t},\r\n\t\t\tindex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetPadding() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.padding != '') mp.set('padding', this.padding);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\n\t\t\tgetBorderColor(): object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.arrowColor != '') mp.set('border-color', this.arrowColor);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetTopLineStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.borderColor != '') mp.set('background', this.borderColor);\r\n\t\t\t\tmp.set('left', `${this.topLeft}rpx`);\r\n\t\t\t\tmp.set('right', `${this.topRight}rpx`);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetBtmLineStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.borderColor != '') mp.set('background', this.borderColor);\r\n\t\t\t\tmp.set('left', `${this.bottomLeft == -1 ? 0 : this.bottomLeft}rpx`);\r\n\t\t\t\tmp.set('right', `${this.bottomRight}rpx`);\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleClick() {\r\n\t\t\t\tthis.$emit('onclick', this.index);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-bg-color-hover: rgba(0, 0, 0, 0.2) !default;\r\n\t$fui-color-border: #EEEEEE !default;\r\n\t$fui-bg-color: #FFFFFF !default;\r\n\t$fui-list-cell-padding: 32rpx !default;\r\n\t$fui-list-cell-arrowcolor: #B2B2B2 !default;\r\n\t$fui-list-cell-bottomleft: 32rpx !default;\r\n\t$fui-list-cell-borderwidth: 0.5px !default;\r\n\r\n\t.fui-list__cell {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-list__cell-inner {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-cell__arrow {\r\n\t\theight: 40rpx;\r\n\t\twidth: 40rpx;\r\n\t\tborder-width: 3px 3px 0 0;\r\n\t\tborder-style: solid;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\tborder-radius: 4rpx;\r\n\t\tflex-shrink: 0;\r\n\t\tmargin-left: auto;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransform-origin: center center;\r\n\t\tmargin-right: -5.8579rpx;\r\n\t}\r\n\r\n\t.fui-cell__border-top {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\theight: $fui-list-cell-borderwidth;\r\n\t\tz-index: 1;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 0;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-cell__border-bottom {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\theight: $fui-list-cell-borderwidth;\r\n\t\theight: 1px;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 100%;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-cell__border-color {\r\n\t\tbackground-color: $fui-color-border !important;\r\n\t}\r\n\r\n\t.fui-list__cell-background {\r\n\t\tbackground-color: $fui-bg-color !important;\r\n\t}\r\n\r\n\t.fui-list__cell-highlight {\r\n\t\tbackground-color: $fui-bg-color-hover !important;\r\n\t}\r\n\r\n\t.fui-list__cell-padding {\r\n\t\tpadding: $fui-list-cell-padding !important;\r\n\t}\r\n\r\n\t.fui-list__cell-arrowcolor {\r\n\t\tborder-color: $fui-list-cell-arrowcolor !important;\r\n\t}\r\n\r\n\t.fui-list__cell-bleft {\r\n\t\tleft: $fui-list-cell-bottomleft !important;\r\n\t}\r\n</style>","<template>\n\t<view class=\"fui-label__wrap\" :class=\"{'fui-label__full':full}\" :style=\"{padding:padding,margin:margin}\"\n\t\t@tap.stop=\"onclick\">\n\t\t<slot></slot>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n\timport { ComponentPublicInstance } from 'vue';\n\t/**\n\t * Label 标签\n\t * @description Label 标签，用来改进表单组件的可用性，将控件放在该标签下，当点击时，就会触发对应的控件，目前主要用于fui-switch、fui-radio、fui-checkbox组件。\n\t * @tutorial https://unix.firstui.cn/\n\t * @property {String} padding {String} padding值\n\t * @property {String} margin {String} margin值\n\t * @property {Boolean} full {Boolean} 宽度是否100%\n\t */\n\texport default {\n\t\tname: \"fui-label\",\n\t\tprops: {\n\t\t\t//padding值：'20rpx 32rpx'\n\t\t\tpadding: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\t//margin值：'20rpx 32rpx'\n\t\t\tmargin: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tfull: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tchildrens: [] as ComponentPublicInstance[]\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonclick() {\n\t\t\t\tif (this.childrens.length > 0) {\n\t\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\n\t\t\t\t\t\titem.$callMethod('labelClick')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.fui-label__wrap {\n\t\tbox-sizing: border-box;\n\t}\n\n\t.fui-label__full {\n\t\twidth: 100%;\n\t}\n</style>","<template>\r\n\t<radio-group :name=\"name\">\r\n\t\t<slot></slot>\r\n\t</radio-group>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Radio 单选框\r\n\t * @description Radio 单项选择器，需结合fui-radio-group和fui-radio组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String} 单项选择器名称\r\n\t * @property {String} modelValue {String} 选中的value值，默认值\r\n\t * @event {Function} change 选中项发生变化时触发，(event: string) => void\r\n\t * @event {Function} update:modelValue 用于组件双向绑定，(event: string) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-radio-group\",\r\n\t\temits: ['change', 'update:modelValue'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: '',\r\n\t\t\t\tchildrens: [] as ComponentPublicInstance[],\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmodelValue(val : string) {\r\n\t\t\t\tthis.modelChange(val)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tradioChange(e : string) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t},\r\n\t\t\tchangeValue(value : string, target : ComponentPublicInstance) {\r\n\t\t\t\tif (value == this.val) return;\r\n\t\t\t\tthis.val = value;\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tif (item !== target) {\r\n\t\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.radioChange(value)\r\n\t\t\t},\r\n\t\t\tmodelChange(val : string) {\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tif (item.$props['value'] == val) {\r\n\t\t\t\t\t\titem.$data['val'] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\tthis.modelChange('')\r\n\t\t\t\tthis.radioChange('');\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string {\r\n\t\t\t\treturn this.val == '' ? this.modelValue : this.val;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped></style>","// @ts-nocheck\r\nexport type DayutsConfig = {\r\n\tdate: any|null\r\n\tformat : string|null\r\n\tlocale : string|null\r\n}\r\n\r\nexport type DayutsUnit = 'year' | 'month' | 'day' | 'week' | 'date' | 'hour' | 'minute' | 'second' | 'millisecond' | 'quarter'\r\n\r\nexport type DayutsFormats = {\r\n\t/**\r\n\t * 小时和分钟的格式化字符串。\r\n\t */\r\n\tLT : string;\r\n\r\n\t/**\r\n\t * 小时、分钟和秒的格式化字符串。\r\n\t */\r\n\tLTS : string;\r\n\r\n\t/**\r\n\t * 年份、月份和日期的格式化字符串。\r\n\t */\r\n\tL : string;\r\n\r\n\t/**\r\n\t * 年份、月份、日期和星期的格式化字符串。\r\n\t */\r\n\tLL : string;\r\n\r\n\t/**\r\n\t * 年份、月份、日期、星期和小时的格式化字符串。\r\n\t */\r\n\tLLL : string;\r\n\r\n\t/**\r\n\t * 年份、月份、日期、星期、小时和分钟的格式化字符串。\r\n\t */\r\n\tLLLL : string;\r\n\r\n\t/**\r\n\t * 缩小的年份、月份和日期的格式化字符串。\r\n\t */\r\n\tl : string;\r\n\r\n\t/**\r\n\t * 缩小的年份、月份、日期和星期的格式化字符串。\r\n\t */\r\n\tll : string;\r\n\r\n\t/**\r\n\t * 缩小的年份、月份、日期、星期和小时的格式化字符串。\r\n\t */\r\n\tlll : string;\r\n\r\n\t/**\r\n\t * 缩小的年份、月份、日期、星期、小时和分钟的格式化字符串。\r\n\t */\r\n\tllll : string;\r\n}\r\nexport type DayutsRelativeTime = {\r\n\t/**\r\n\t * 时间单位之后的格式化字符串。\r\n\t */\r\n\tfuture : string;\r\n\r\n\t/**\r\n\t * 时间单位之前的格式化字符串。\r\n\t */\r\n\tpast : string;\r\n\r\n\t/**\r\n\t * 秒的格式化字符串。\r\n\t */\r\n\ts : string;\r\n\r\n\t/**\r\n\t * 分钟的格式化字符串。\r\n\t */\r\n\tm : string;\r\n\r\n\t/**\r\n\t * 分钟（带前缀）的格式化字符串。\r\n\t */\r\n\tmm : string;\r\n\r\n\t/**\r\n\t * 小时的格式化字符串。\r\n\t */\r\n\th : string;\r\n\r\n\t/**\r\n\t * 小时（带前缀）的格式化字符串。\r\n\t */\r\n\thh : string;\r\n\r\n\t/**\r\n\t * 天的格式化字符串。\r\n\t */\r\n\td : string;\r\n\r\n\t/**\r\n\t * 天（带前缀）的格式化字符串。\r\n\t */\r\n\tdd : string;\r\n\r\n\t/**\r\n\t * 月的格式化字符串。\r\n\t */\r\n\tM : string;\r\n\r\n\t/**\r\n\t * 月（带前缀）的格式化字符串。\r\n\t */\r\n\tMM : string;\r\n\r\n\t/**\r\n\t * 年的格式化字符串。\r\n\t */\r\n\ty : string;\r\n\r\n\t/**\r\n\t * 年（带前缀）的格式化字符串。\r\n\t */\r\n\tyy : string;\r\n}\r\n\r\n/**\r\n * 本地化对象接口。\r\n */\r\nexport type DayutsLocale = {\r\n\t/**\r\n\t * 区域设置名称。\r\n\t */\r\n\tname : string;\r\n\r\n\t/**\r\n\t * 一周中每天的完整名称。\r\n\t */\r\n\tweekdays : string[];\r\n\r\n\t/**\r\n\t * 一周中每天的缩写名称。\r\n\t */\r\n\tweekdaysShort ?: string[];\r\n\r\n\t/**\r\n\t * 一周中每天的最小缩写名称。\r\n\t */\r\n\tweekdaysMin ?: string[];\r\n\r\n\t/**\r\n\t * 一年中的每个月份的名称。\r\n\t */\r\n\tmonths : string[];\r\n\r\n\t/**\r\n\t * 一年中的每个月份的缩写名称。\r\n\t */\r\n\tmonthsShort ?: string[];\r\n\r\n\t/**\r\n\t * 返回序数词的函数。\r\n\t *\r\n\t * @param number - 要格式化的数字。\r\n\t * @param period - 周期类型（如 \"W\" 表示周）。\r\n\t * @returns 返回格式化后的序数词字符串。\r\n\t */\r\n\t// ordinal : (number : number) => string;\r\n\tordinal : (number : number, period : string) => string;\r\n\r\n\t/**\r\n\t * 一周的开始日期（星期几）。\r\n\t */\r\n\tweekStart ?: number;\r\n\r\n\t/**\r\n\t * 年的开始月份。\r\n\t */\r\n\tyearStart ?: number;\r\n\r\n\t/**\r\n\t * 日期和时间格式化选项。\r\n\t */\r\n\tformats ?: DayutsFormats;\r\n\r\n\t/**\r\n\t * 相对时间格式化选项。\r\n\t */\r\n\trelativeTime ?: DayutsRelativeTime;\r\n\r\n\t/**\r\n\t * 根据小时和分钟返回上午或下午的函数。\r\n\t *\r\n\t * @param hour - 小时数（0-23）。\r\n\t * @param minute - 分钟数（0-59）。\r\n\t * @returns 返回上午或下午的字符串。\r\n\t */\r\n\tmeridiem ?: (hour : number, minute : number, isLowercase : boolean) => string;\r\n}\r\n\r\n\r\nexport type DayutsObject = {\r\n\tyears : number;\r\n\tmonths : number;\r\n\tdate : number;\r\n\thours : number;\r\n\tminutes : number;\r\n\tseconds : number;\r\n\tmilliseconds : number;\r\n}\r\n\r\n\r\n// 主 Dayuts 类类型定义\n// export interface Dayuts {\n//     // 公共属性\n//     $L: string;\n\n//     // 私有属性\n//     $d: Date;\n//     $y: number;\n//     $M: number;\n//     $D: number;\n//     $W: number;\n//     $H: number;\n//     $m: number;\n//     $s: number;\n//     $ms: number;\n//     $u: boolean;\n\n//     // 构造函数\n//     // constructor(cfg: DayutsConfig);\n\n//     // 解析配置并初始化日期\n//     // private parse(cfg: DayutsConfig): void;\n\n//     // 初始化日期的各个部分\n//     // private init(): void;\n\n//     // 检查日期是否有效\n//     isValid(): boolean;\n\n//     // 判断当前日期是否与给定日期在指定时间单位内相同\n//     // isSame(input: string, units?: DayutsUnit): boolean;\n//     // isSame(input: number, units?: DayutsUnit): boolean;\n//     // isSame(input: Date, units?: DayutsUnit): boolean;\n//     // isSame(input: Dayuts, units?: DayutsUnit): boolean;\n//     // isSame(input: UTSJSONObject, units?: DayutsUnit): boolean;\n// \t// isSame(input : string) : boolean\r\n// \t// isSame(input : number) : boolean\r\n// \t// isSame(input : Date) : boolean\r\n// \t// isSame(input : Dayuts) : boolean\r\n// \t// isSame(input : UTSJSONObject) : boolean\r\n\t\r\n// \t// isSame(input : string, units : DayutsUnit) : boolean\r\n// \t// isSame(input : number, units : DayutsUnit) : boolean\r\n// \t// isSame(input : Date, units : DayutsUnit) : boolean\r\n// \t// isSame(input : Dayuts, units : DayutsUnit) : boolean\r\n// \t// isSame(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n// \t// isSame(input : any, units : DayutsUnit) : boolean\r\n\t\n//     // 判断给定日期是否在当前日期指定时间单位之后\n//     // isAfter(input: string, units?: DayutsUnit): boolean;\n//     // isAfter(input: number, units?: DayutsUnit): boolean;\n//     // isAfter(input: Date, units?: DayutsUnit): boolean;\n//     // isAfter(input: Dayuts, units?: DayutsUnit): boolean;\n//     // isAfter(input: UTSJSONObject, units?: DayutsUnit): boolean;\r\n// \t// isAfter(input : string) : boolean\r\n// \t// isAfter(input : number) : boolean\r\n// \t// isAfter(input : Date) : boolean\r\n// \t// isAfter(input : Dayuts) : boolean\r\n// \t// isAfter(input : UTSJSONObject) : boolean\r\n\t\r\n// \t// isAfter(input : string, units : DayutsUnit) : boolean\r\n// \t// isAfter(input : number, units : DayutsUnit) : boolean\r\n// \t// isAfter(input : Date, units : DayutsUnit) : boolean\r\n// \t// isAfter(input : Dayuts, units : DayutsUnit) : boolean\r\n// \t// isAfter(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n// \t// isAfter(input : any, units : DayutsUnit) : boolean\n\n//     // 判断给定日期是否在当前日期指定时间单位之前\n//     // isBefore(input: string, units?: DayutsUnit): boolean;\n//     // isBefore(input: number, units?: DayutsUnit): boolean;\n//     // isBefore(input: Date, units?: DayutsUnit): boolean;\n//     // isBefore(input: Dayuts, units?: DayutsUnit): boolean;\n//     // isBefore(input: UTSJSONObject, units?: DayutsUnit): boolean;\n\n//     // 判断当前日期是否与给定日期在指定时间单位内相同或之前\n//     // isSameOrBefore(input: string, units?: DayutsUnit): boolean;\n//     // isSameOrBefore(input: number, units?: DayutsUnit): boolean;\n//     // isSameOrBefore(input: Date, units?: DayutsUnit): boolean;\n//     // isSameOrBefore(input: Dayuts, units?: DayutsUnit): boolean;\n//     // isSameOrBefore(input: UTSJSONObject, units?: DayutsUnit): boolean;\n\n//     // 判断当前日期是否与给定日期在指定时间单位内相同或之后\n//     // isSameOrAfter(input: string, units?: DayutsUnit): boolean;\n//     // isSameOrAfter(input: number, units?: DayutsUnit): boolean;\n//     // isSameOrAfter(input: Date, units?: DayutsUnit): boolean;\n//     // isSameOrAfter(input: Dayuts, units?: DayutsUnit): boolean;\n//     // isSameOrAfter(input: UTSJSONObject, units?: DayutsUnit): boolean;\n\n//     // 判断当前日期是否在两个给定日期之间\n//     // isBetween(input: any, input2: any): boolean;\r\n//     // isBetween(input: any, input2: any, units?: DayutsUnit, interval?: string): boolean;\n\n//     // 判断当前年份是否为闰年\n//     isLeapYear(): boolean;\n\n//     // 判断当前日期是否为今天\n//     isToday(): boolean;\n\n//     // 获取 Unix 时间戳（秒）\n//     unix(): number;\n\n//     // 设置为指定时间单位的开始或结束\n//     // startOf(units: DayutsUnit): Dayuts;\r\n//     // startOf(units: DayutsUnit, startOf?: boolean): Dayuts;\n//     endOf(units: DayutsUnit): Dayuts;\n\n//     // 设置指定时间单位的值\n//     set(units: DayutsUnit, int: number): Dayuts;\n\n//     // 获取指定时间单位的值\n//     get(units: DayutsUnit): number;\n\n//     // 年、月、日、时、分、秒、毫秒的 getter 和 setter 方法\n//     year(): number;\r\n//     year(input?: number): Dayuts;\n//     month(): number\r\n//     month(input?: number): Dayuts;\n//     // day(): number;\r\n//     day(input?: number): Dayuts;\n//     date(): number;\r\n//     date(input?: number): Dayuts;\n//     // hour(): number;\r\n//     hour(input?: number): Dayuts;\n//     // minute(): number;\r\n//     minute(input?: number): Dayuts;\n//     // second(): number;\r\n//     second(input?: number): Dayuts;\n//     // millisecond(): number;\r\n//     millisecond(input?: number): Dayuts;\n\n//     // 添加时间\n//     add(number: number, units: DayutsUnit): Dayuts;\n\n//     // 减去时间\n//     subtract(number: number, units: DayutsUnit): Dayuts;\n\n//     // 格式化日期\n//     format(formatStr?: string): string;\n\n//     // 获取 UTC 偏移量（分钟）\n//     utcOffset(): number;\n\n//     // 计算两个日期之间的差值\n//     diff(input: string, units?: DayutsUnit, float?: boolean): number;\n//     diff(input: number, units?: DayutsUnit, float?: boolean): number;\n//     diff(input: Date, units?: DayutsUnit, float?: boolean): number;\n//     diff(input: Dayuts, units?: DayutsUnit, float?: boolean): number;\n//     diff(input: UTSJSONObject, units?: DayutsUnit, float?: boolean): number;\n\n//     // 转换为原生 Date 对象\n//     toDate(): Date;\n\n//     // 转换为 ISO 8601 字符串\n//     toJSON(): string | null;\n//     toISOString(): string;\n\n//     // 转换为对象\n//     toObject(): DayutsObject;\n\n//     // 转换为数组\n//     toArray(): number[];\n\n//     // 获取时间戳（毫秒）\n//     valueOf(): number;\n\n//     // 获取月份的天数\n//     daysInMonth(): number;\n\n//     // 获取本地化对象\n//     // private $locale(): DayutsLocale;\n\n//     // 设置或获取本地化配置\n//     locale(preset: string, object?: DayutsLocale): Dayuts;\n//     locale(preset: DayutsLocale, object?: DayutsLocale): Dayuts;\n\n//     // 克隆当前实例\n//     clone(): Dayuts;\n\n//     // 转换为字符串\n//     // toString(): string;\n\n//     // 获取或设置一年中的第几天\n//     dayOfYear(): number;\r\n//     dayOfYear(input?: number): Dayuts;\n\n//     // 相对时间方法\n//     fromToBase(input: any, withoutSuffix: boolean, instance: Dayuts, isFrom: boolean): string;\n//     to(input: any, withoutSuffix?: boolean): string;\n//     from(input: any, withoutSuffix?: boolean): string;\n//     toNow(withoutSuffix?: boolean): string;\n//     fromNow(withoutSuffix?: boolean): string;\n// }","// @ts-nocheck\r\nexport const SECONDS_A_MINUTE = 60\nexport const SECONDS_A_HOUR = SECONDS_A_MINUTE * 60\nexport const SECONDS_A_DAY = SECONDS_A_HOUR * 24\nexport const SECONDS_A_WEEK = SECONDS_A_DAY * 7\n\nexport const MILLISECONDS_A_SECOND = 1e3\nexport const MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND\n\n// English locales\nexport const MS = 'millisecond'\nexport const S = 'second'\nexport const MIN = 'minute'\nexport const H = 'hour'\nexport const D = 'day'\nexport const W = 'week'\nexport const M = 'month'\nexport const Q = 'quarter'\nexport const Y = 'year'\nexport const DATE = 'date'\n\nexport const FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ'\n\nexport const INVALID_DATE_STRING = 'Invalid Date'\n\n// regex\nexport const REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/\nexport const REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g\r\n// export const REGEX_FORMAT = /(?:[^\\]]+)|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;\n","// @ts-nocheck\r\nimport { Dayuts } from './index'\r\nimport { M, Y, W, D, DATE, H, MIN, S, MS, Q } from './constant'\r\nimport {DayutsUnit} from '../utssdk/interface'\r\n/**\r\n * 用指定字符串填充目标字符串的开头，以达到指定的总长度。\r\n *\r\n * @param {string} string - 需要填充的目标字符串。\r\n * @param {number} length - 填充后的总长度。\r\n * @param {string} pad - 用于填充的字符串。\r\n * @returns {string} 填充后的字符串。\r\n */\r\nfunction padStart(string : string, length : number, pad : string) : string {\r\n\tconst str = string//`${string}`\r\n\tif (str.length >= length) return str\r\n\treturn str.padStart(length, pad) //`${Array((length + 1) - string.length).join(pad)}${string}`\r\n}\r\nexport {\r\n\tpadStart\r\n}\r\nfunction padZoneStr(instance : Dayuts) : string {\r\n\tconst negMinutes = -instance.utcOffset()\r\n\tconst minutes = Math.abs(negMinutes)\r\n\tconst hourOffset = Math.floor(minutes / 60)\r\n\tconst minuteOffset = minutes % 60\r\n\treturn `${negMinutes <= 0 ? '+' : '-'}${padStart(hourOffset.toString(), 2, '0')}:${padStart(minuteOffset.toString(), 2, '0')}`\r\n}\r\nexport {\r\n\tpadZoneStr\r\n}\r\n\r\n// export function isNull(s): boolean{\r\n// \treturn s == null\r\n// }\r\n\r\nexport function isNumber(value : any | null) : boolean {\r\n\t// #ifdef APP-ANDROID\r\n\treturn ['Byte', 'UByte', 'Short', 'UShort', 'Int', 'UInt', 'Long', 'ULong', 'Float', 'Double', 'number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifdef APP-IOS\r\n\treturn ['Int8', 'UInt8', 'Int16', 'UInt16', 'Int32', 'UInt32', 'Int64', 'UInt64', 'Int', 'UInt', 'Float', 'Float16', 'Float32', 'Float64', 'Double', 'number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifndef APP-ANDROID || APP-IOS\r\n\treturn typeof value === 'number' && !isNaN(value);\r\n\t// #endif\r\n}\r\n\r\n\r\n\r\n/**\r\n * 将给定的时间单位转换为标准格式。\r\n *\r\n * @param {string} u - 要转换的时间单位。\r\n * @returns {string} 返回转换后的时间单位。\r\n */\r\nexport function prettyUnit(u : string) : DayutsUnit {\r\n\tconst special = new Map<string, string>([\r\n\t\t['M', M],\r\n\t\t['y', Y],\r\n\t\t['w', W],\r\n\t\t['d', D],\r\n\t\t['D', DATE],\r\n\t\t['h', H],\r\n\t\t['m', MIN],\r\n\t\t['s', S],\r\n\t\t['ms', MS],\r\n\t\t['Q', Q]\r\n\t])\r\n\treturn (special.get(u) ?? `${u}`.toLowerCase().replace(/s$/, '')) as DayutsUnit\r\n}\r\n\r\n\r\n/**\r\n * 计算两个日期之间的月份差值\r\n * @param {Dayjs} a - 第一个日期\r\n * @param {Dayjs} b - 第二个日期\r\n * @returns {number} 返回两个日期之间的月份差值\r\n */\r\nexport function monthDiff(a : Dayuts, b : Dayuts) : number {\r\n\t// 该函数来自 moment.js，以保持相同的结果\r\n\tif (a.date() < b.date()) return -monthDiff(b, a)\r\n\tconst wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month())\r\n\tconst anchor = a.clone().add(wholeMonthDiff, M).valueOf()\r\n\tconst c = b.valueOf() - anchor < 0\r\n\tconst anchor2 = a.clone().add(wholeMonthDiff + (c ? -1 : 1), M).valueOf()\r\n\t// return +(-(wholeMonthDiff + ((b.valueOf() - anchor) / (c ? (anchor - anchor2) :\r\n\t// \t(anchor2 - anchor)))) || 0)\r\n\t\r\n\tconst decimalMonthDiff = (b.valueOf() - anchor) / (c ? (anchor - anchor2) : (anchor2 - anchor));\r\n\tconst result = wholeMonthDiff + decimalMonthDiff;\r\n\tconst negatedResult = -result;\r\n\tconst absResult = +negatedResult;\r\n\tconst finalResult = !isNaN(absResult) ? absResult : 0;\r\n\treturn finalResult;\r\n}\r\n\r\n\r\n/**\r\n * 返回向下取整的绝对值\r\n * @param {number} n - 输入的数字\r\n * @returns {number} 返回向下取整的绝对值\r\n */\r\nexport function absFloor(n : number):number {\r\n\t// return (n < 0 ? Math.ceil(n) || 0 : Math.floor(n))\r\n\treturn (n < 0 ? Math.max(Math.ceil(n), 0) : Math.floor(n))\r\n}","// @ts-nocheck\r\nimport type { DayutsLocale, DayutsRelativeTime} from '../../../utssdk/interface'\r\n/**\r\n * 英语本地化对象。\r\n */\r\nexport default {\r\n\tname: 'en',\r\n\t/**\r\n\t * 星期名称数组。\r\n\t */\r\n\tweekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n\t/**\r\n\t * 月份名称数组。\r\n\t */\r\n\tmonths: [\r\n\t\t'January',\r\n\t\t'February',\r\n\t\t'March',\r\n\t\t'April',\r\n\t\t'May',\r\n\t\t'June',\r\n\t\t'July',\r\n\t\t'August',\r\n\t\t'September',\r\n\t\t'October',\r\n\t\t'November',\r\n\t\t'December',\r\n\t],\r\n\trelativeTime: {\r\n\t\tfuture: 'in %s',\r\n\t\tpast: '%s ago',\r\n\t\ts: 'a few seconds',\r\n\t\tm: 'a minute',\r\n\t\tmm: '%d minutes',\r\n\t\th: 'an hour',\r\n\t\thh: '%d hours',\r\n\t\td: 'a day',\r\n\t\tdd: '%d days',\r\n\t\tM: 'a month',\r\n\t\tMM: '%d months',\r\n\t\ty: 'a year',\r\n\t\tyy: '%d years'\r\n\t} as DayutsRelativeTime,\r\n\t/**\r\n\t * 序数函数，用于将数字转换为带有序数后缀的字符串。\r\n\t *\r\n\t * @param {number} n - 要转换的数字。\r\n\t * @returns {string} 带有序数后缀的字符串。\r\n\t */\r\n\tordinal: (n : number, _ : string) : string => {\r\n\t\tconst s = ['th', 'st', 'nd', 'rd']\r\n\t\tconst v = n % 100\r\n\t\tconst i = (v - 20) % 10\r\n\t\tconst k = i < s.length ? i : v < s.length ? v : 0\r\n\t\treturn `[${n}${(s[k])}]`\r\n\t},\r\n} as DayutsLocale","// @ts-nocheck\r\nimport type { DayutsLocale, DayutsRelativeTime, DayutsFormats } from '../../../utssdk/interface'\r\n\r\nconst locale : DayutsLocale = {\r\n\tname: 'zh-cn',\r\n\tweekdays: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\r\n\tweekdaysShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\r\n\tweekdaysMin: ['日', '一', '二', '三', '四', '五', '六'],\r\n\tmonths: [\r\n\t\t'一月', '二月', '三月', '四月', '五月', '六月',\r\n\t\t'七月', '八月', '九月', '十月', '十一月', '十二月'\r\n\t],\r\n\tmonthsShort: [\r\n\t\t'1月', '2月', '3月', '4月', '5月', '6月',\r\n\t\t'7月', '8月', '9月', '10月', '11月', '12月'\r\n\t],\r\n\tordinal: (number:number, period:string):string => {\r\n\t\t// switch (period) {\r\n\t\t// \tcase 'W':\r\n\t\t// \t\treturn `${number}周`;\r\n\t\t// \tdefault:\r\n\t\t// \t\treturn `${number}日`;\r\n\t\t// }\r\n\t\tif(period == 'W'){\r\n\t\t\treturn `${number}周`;\r\n\t\t}\r\n\t\treturn `${number}日`\r\n\t},\r\n\tweekStart: 1,\r\n\tyearStart: 4,\r\n\tformats: {\r\n\t\tLT: 'HH:mm',\r\n\t\tLTS: 'HH:mm:ss',\r\n\t\tL: 'YYYY/MM/DD',\r\n\t\tLL: 'YYYY年M月D日',\r\n\t\tLLL: 'YYYY年M月D日Ah点mm分',\r\n\t\tLLLL: 'YYYY年M月D日ddddAh点mm分',\r\n\t\tl: 'YYYY/M/D',\r\n\t\tll: 'YYYY年M月D日',\r\n\t\tlll: 'YYYY年M月D日 HH:mm',\r\n\t\tllll: 'YYYY年M月D日dddd HH:mm'\r\n\t} as DayutsFormats,\r\n\trelativeTime: {\r\n\t\tfuture: '%s内',\r\n\t\tpast: '%s前',\r\n\t\ts: '几秒',\r\n\t\tm: '1 分钟',\r\n\t\tmm: '%d 分钟',\r\n\t\th: '1 小时',\r\n\t\thh: '%d 小时',\r\n\t\td: '1 天',\r\n\t\tdd: '%d 天',\r\n\t\tM: '1 个月',\r\n\t\tMM: '%d 个月',\r\n\t\ty: '1 年',\r\n\t\tyy: '%d 年'\r\n\t} as DayutsRelativeTime,\r\n\tmeridiem: (hour:number, minute:number, _ : boolean):string => {\r\n\t\tconst hm = (hour * 100) + minute;\r\n\t\tif (hm < 600) {\r\n\t\t\treturn '凌晨';\r\n\t\t} else if (hm < 900) {\r\n\t\t\treturn '早上';\r\n\t\t} else if (hm < 1100) {\r\n\t\t\treturn '上午';\r\n\t\t} else if (hm < 1300) {\r\n\t\t\treturn '中午';\r\n\t\t} else if (hm < 1800) {\r\n\t\t\treturn '下午';\r\n\t\t}\r\n\t\treturn '晚上';\r\n\t}\r\n};\r\n\r\nexport default locale;","// @ts-nocheck\r\nimport {DayutsLocale} from '../utssdk/interface'\r\nimport en from './locale/en'\r\nimport zhCn from './locale/zh-cn'\r\n\r\n// #ifndef UNI-APP-X\r\n\r\n// #ifdef VUE2\r\nimport {reactive} from '@vue/composition-api'\r\n// #endif\r\n\r\n// #ifdef VUE3\r\nimport {reactive} from 'vue'\r\n// #endif\r\n\r\n// #endif\r\n\r\n\r\nconst localesMap = new Map<string, DayutsLocale>()\n//定义一个大写的State类型\ntype LocaleState = {\n  lang: string;\r\n  locales: Map<string, DayutsLocale>\n}\nexport let localeState = reactive({\n  lang: 'en',\n  locales: localesMap\n} as LocaleState)\r\nlocaleState.locales.set('en', en)\r\nlocaleState.locales.set('zh-cn', zhCn)\r\n\r\nclass DayutsIntl {\r\n\tconstructor(){}\r\n\tuse(locale:DayutsLocale):DayutsIntl{\r\n\t\tlocaleState.locales.set(locale.name, locale)\r\n\t\treturn this\r\n\t}\r\n\tset locale(locale: string){\r\n\t\tif(localeState.locales.has(locale)){\r\n\t\t\tlocaleState.lang = locale\r\n\t\t} else {\r\n\t\t\tlet list:string[] = []\r\n\t\t\tlocaleState.locales.forEach(function(_:any,key:string){\r\n\t\t\t   list.push(key)\r\n\t\t\t})\r\n\t\t\tconsole.warn(`未知语言: \"${locale}\". 请使用以下已知语言之一:${list.join(', ')}`);\r\n\t\t}\r\n\t}\r\n\tget locale(): string{\r\n\t\treturn localeState.lang\r\n\t}\r\n\tset(name: string, locale:DayutsLocale){\r\n\t\tlocaleState.locales.set(name, locale)\r\n\t}\r\n\thas(name: string):boolean{\r\n\t\treturn localeState.locales.has(name)\r\n\t}\r\n}\r\nexport const dayutsIntl = new DayutsIntl()\r\n\r\n\r\n// const dyauts = use(xx).use(xx).use(xx).use(xx)\r\n// dyauts.locale ='zh'","// @ts-nocheck\r\nimport { DayutsConfig, type DayutsLocale, DayutsUnit, DayutsObject } from '../utssdk/interface'\r\nimport { REGEX_FORMAT, REGEX_PARSE, INVALID_DATE_STRING, M, Y, W, D, DATE, H, MIN, S, MS, Q, MILLISECONDS_A_MINUTE, MILLISECONDS_A_HOUR, MILLISECONDS_A_SECOND, MILLISECONDS_A_WEEK, MILLISECONDS_A_DAY, FORMAT_DEFAULT } from './constant'\r\nimport { isNumber, prettyUnit, padStart, padZoneStr, monthDiff, absFloor } from './utils'\r\nimport { dayutsIntl, localeState } from './use'\r\n\r\ntype Threshold = {\r\n\tl : string;\r\n\tr ?: number;\r\n\td ?: DayutsUnit;\r\n}\r\n\r\nfunction parseLocale(preset : string | null) : string | null;\r\nfunction parseLocale(preset : DayutsLocale | null) : string | null;\r\nfunction parseLocale(preset : string, object : DayutsLocale | null, isLocal : boolean) : string | null;\r\nfunction parseLocale(preset : DayutsLocale, object : DayutsLocale, isLocal : boolean) : string | null;\r\nfunction parseLocale(preset : any | null, object : DayutsLocale | null = null, isLocal : boolean = false) : string | null {\r\n\tlet l : string | null = null\r\n\tif (preset == null) return dayutsIntl.locale\r\n\tif (typeof preset == 'string') {\r\n\t\tconst presetLower = (preset as string).toLowerCase()\r\n\t\tif (dayutsIntl.has(presetLower)) {\r\n\t\t\tl = presetLower\r\n\t\t}\r\n\t\tif (object != null) {\r\n\t\t\tdayutsIntl.set(presetLower, object)\r\n\t\t\tl = presetLower\r\n\t\t}\r\n\t\tconst presetSplit = preset.split('-')\r\n\t\tif (l == null && presetSplit.length > 1) {\r\n\t\t\treturn parseLocale(presetSplit[0])\r\n\t\t}\r\n\t} else if (preset instanceof DayutsLocale) {\r\n\t\t// const { name } = preset as DayutsLocale\r\n\t\tdayutsIntl.set(preset.name, preset)\r\n\t\tl = preset.name\r\n\t}\r\n\tif (!isLocal && l != null) {\r\n\t\t// L = l\r\n\t\tdayutsIntl.locale = l\r\n\t}\r\n\t// return l ?? L //(!isLocal && L != null)\r\n\treturn l ?? dayutsIntl.locale //(!isLocal && L != null)\r\n}\r\n\r\nfunction tryParseNumberAtIndex(digits : (any|null)[], index : number) : number | null {\r\n\t// 检查索引是否在数组范围内\r\n\tif (index >= 0 && index < digits.length) {\r\n\t\tif(digits[index] == null) return null\r\n\t\t// 尝试解析索引位置的字符串为数字\r\n\t\tconst parsedNumber = isNumber(digits[index]) ? digits[index] as number : parseInt(`${digits[index]}`, 10);\r\n\r\n\t\t// 检查解析结果是否为有效数字\r\n\t\tif (!isNaN(parsedNumber)) {\r\n\t\t\treturn parsedNumber;\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n// function createDateFromArray(d: number[]):Date\r\n// function createDateFromArray(d: string[]):Date\r\nfunction createDateFromArray(d : (any|null)[], offset : number = 0) : Date {\r\n\tconst year = tryParseNumberAtIndex(d, 1 - offset) ?? new Date().getFullYear()\r\n\tconst month = (tryParseNumberAtIndex(d, 2 - offset) ?? 1) - 1\r\n\tconst day = tryParseNumberAtIndex(d, 3 - offset) ?? 1\r\n\tconst hour = tryParseNumberAtIndex(d, 4 - offset) ?? 0\r\n\tconst minute = tryParseNumberAtIndex(d, 5 - offset) ?? 0\r\n\tconst second = tryParseNumberAtIndex(d, 6 - offset) ?? 0\r\n\tconst millisecond = (tryParseNumberAtIndex(d, 7 - offset) ?? 0).toString().substring(0, 3) //d.length > 7 ? parseInt((d[7] ?? '0').substring(0, 3)) : 0\r\n\r\n\treturn new Date(\r\n\t\tyear,\r\n\t\tmonth,\r\n\t\tday,\r\n\t\thour,\r\n\t\tminute,\r\n\t\tsecond,\r\n\t\tparseInt(millisecond))\r\n}\r\nfunction parseDate(cfg : DayutsConfig) : Date|null {\r\n\tconst { date } = cfg\r\n\tif (date == null) return new Date()\r\n\tif (date instanceof Date) return date as Date\r\n\t\r\n\ttry {\r\n\t\tif (typeof date == 'string' && /^\\d+$/.test(date as string)) {\r\n\t\t\treturn new Date(parseInt(`${date}`.padEnd(13, '0')))\r\n\t\t}\r\n\t\tif (typeof date == 'string' && !/Z$/i.test(date as string)) {\r\n\t\t\tconst d = date.match(REGEX_PARSE)\r\n\t\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t\tconst isNull = d == null\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\t\tconst isNull = d == null|| Array.isArray(d) && d.length == 0\r\n\t\t\t// #endif\r\n\t\t\tif (!isNull) {\r\n\t\t\t\treturn createDateFromArray(d as (any|null)[])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof date == 'string') return new Date(date as string)\r\n\t\tif (Array.isArray(date)) {\r\n\t\t\treturn createDateFromArray(date as (any|null)[], 1)\r\n\t\t}\r\n\t\tif (isNumber(date)) return new Date(date as number)\r\n\t\treturn null//new Date()\r\n\t} catch(err) {\r\n\t\treturn null//new Date()\r\n\t}\r\n}\r\n\r\nfunction wrapper(date : any, instance : Dayuts) : Dayuts {\r\n\treturn dayuts(date, instance.$L)\r\n}\r\n\r\nexport class Dayuts {\r\n\t$L : string\r\n\tprivate valid: boolean = true; \r\n\tprivate $d : Date = new Date()\r\n\tprivate $y : number = 0\r\n\tprivate $M : number = 0\r\n\tprivate $D : number = 0\r\n\tprivate $W : number = 0\r\n\tprivate $H : number = 0\r\n\tprivate $m : number = 0\r\n\tprivate $s : number = 0\r\n\tprivate $ms : number = 0\r\n\tprivate $u : boolean = false\r\n\tconstructor(cfg : DayutsConfig) {\r\n\t\tthis.$L = parseLocale(cfg.locale) ?? dayutsIntl.locale //'en'\r\n\t\tthis.parse(cfg)\r\n\t}\r\n\tparse(cfg : DayutsConfig) {\r\n\t\tconst _d = parseDate(cfg)\r\n\t\tif(_d != null) {\r\n\t\t\tthis.$d = parseDate(cfg)!\r\n\t\t\tthis.init()\r\n\t\t} else {\r\n\t\t\tthis.valid = false\r\n\t\t}\r\n\t}\r\n\tinit() {\r\n\t\tconst { $d } = this\r\n\t\tthis.$y = $d.getFullYear()\r\n\t\tthis.$M = $d.getMonth()\r\n\t\tthis.$D = $d.getDate()\r\n\t\tthis.$W = $d.getDay()\r\n\t\tthis.$H = $d.getHours()\r\n\t\tthis.$m = $d.getMinutes()\r\n\t\tthis.$s = $d.getSeconds()\r\n\t\tthis.$ms = $d.getMilliseconds()\r\n\t}\r\n\t/**\r\n\t * 检查日期对象是否有效。\r\n\t *\r\n\t * @returns {boolean} 如果日期对象有效，则返回true；否则返回false。\r\n\t */\r\n\tisValid() : boolean {\r\n\t\treturn this.valid\r\n\t\t// return !(this.$d.toString() == INVALID_DATE_STRING)\r\n\t}\r\n\t/**\r\n\t * 检查当前日期是否与给定的日期在指定的时间单位内相同。\r\n\t *\r\n\t * @param {string|number|Date} input - 要比较的日期。\r\n\t * @param {string} units - 时间单位，例如'year'、'month'、'day'等。\r\n\t * @returns {boolean} 如果当前日期与给定的日期在指定的时间单位内相同，则返回true；否则返回false。\r\n\t */\r\n\tisSame(input : string) : boolean\r\n\tisSame(input : number) : boolean\r\n\tisSame(input : Date) : boolean\r\n\tisSame(input : Dayuts) : boolean\r\n\tisSame(input : UTSJSONObject) : boolean\r\n\r\n\tisSame(input : string, units : DayutsUnit) : boolean\r\n\tisSame(input : number, units : DayutsUnit) : boolean\r\n\tisSame(input : Date, units : DayutsUnit) : boolean\r\n\tisSame(input : Dayuts, units : DayutsUnit) : boolean\r\n\tisSame(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n\tisSame(input : any, units : DayutsUnit = 'millisecond') : boolean {\r\n\t\tconst other = input instanceof Dayuts ? input : dayuts(input)\r\n\t\tconst date1 = this.startOf(units).valueOf()\r\n\t\tconst date2 = other.valueOf()\r\n\t\tconst date3 = this.endOf(units).valueOf()\r\n\t\treturn date1 <= date2 && date2 <= date3\r\n\t}\r\n\t/**\r\n\t * 检查给定的日期或时间是否在当前 dayuts 对象的指定时间单位之后。\r\n\t *\r\n\t * @param {string | number | Date | Dayuts} input - 要与当前 dayuts 对象进行比较的日期或时间。\r\n\t * @param {string} units - 要比较的时间单位（如 \"year\"、\"month\"、\"day\" 等）。\r\n\t * @returns {boolean} 如果给定的日期或时间在当前 dayuts 对象的指定时间单位之后，则返回 `true`，否则返回 `false`。\r\n\t */\r\n\tisAfter(input : string) : boolean\r\n\tisAfter(input : number) : boolean\r\n\tisAfter(input : Date) : boolean\r\n\tisAfter(input : Dayuts) : boolean\r\n\tisAfter(input : UTSJSONObject) : boolean\r\n\r\n\tisAfter(input : string, units : DayutsUnit) : boolean\r\n\tisAfter(input : number, units : DayutsUnit) : boolean\r\n\tisAfter(input : Date, units : DayutsUnit) : boolean\r\n\tisAfter(input : Dayuts, units : DayutsUnit) : boolean\r\n\tisAfter(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n\tisAfter(input : any, units : DayutsUnit = 'millisecond') : boolean {\r\n\t\tconst other = input instanceof Dayuts ? input : dayuts(input)\r\n\t\tconst date1 = other.valueOf()\r\n\t\tconst date2 = this.startOf(units).valueOf()\r\n\t\treturn date1 < date2;\r\n\t}\r\n\t/**\r\n\t * 检查给定的日期或时间是否在当前 dayuts 对象的指定时间单位之前。\r\n\t *\r\n\t * @param {string | number | Date | Dayuts} input - 要与当前 dayuts 对象进行比较的日期或时间。\r\n\t * @param {string} units - 要比较的时间单位（如 \"year\"、\"month\"、\"day\" 等）。\r\n\t * @returns {boolean} 如果给定的日期或时间在当前 dayuts 对象的指定时间单位之前，则返回 `true`，否则返回 `false`。\r\n\t */\r\n\tisBefore(input : string) : boolean\r\n\tisBefore(input : number) : boolean\r\n\tisBefore(input : Date) : boolean\r\n\tisBefore(input : Dayuts) : boolean\r\n\tisBefore(input : UTSJSONObject) : boolean\r\n\r\n\tisBefore(input : string, units : DayutsUnit) : boolean\r\n\tisBefore(input : number, units : DayutsUnit) : boolean\r\n\tisBefore(input : Date, units : DayutsUnit) : boolean\r\n\tisBefore(input : Dayuts, units : DayutsUnit) : boolean\r\n\tisBefore(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n\tisBefore(input : any, units : DayutsUnit = 'millisecond') : boolean {\r\n\t\tconst other = input instanceof Dayuts ? input : dayuts(input);\r\n\t\tconst date1 = other.valueOf()\r\n\t\tconst date2 = this.endOf(units).valueOf()\r\n\t\treturn date2 < date1;\r\n\t}\r\n\t/**\r\n\t * 判断当前Dayuts对象是否与给定的输入在同一时间或之前，根据指定的时间单位\r\n\t * @param {(string | number | Date | Dayuts | UTSJSONObject)} input - 输入的时间\r\n\t * @param {DayutsUnit} units - 指定的时间单位\r\n\t * @returns {boolean} - 如果当前Dayuts对象与给定的输入在同一时间或之前，则返回true，否则返回false\r\n\t */\r\n\tisSameOrBefore(input : string) : boolean\r\n\tisSameOrBefore(input : number) : boolean\r\n\tisSameOrBefore(input : Date) : boolean\r\n\tisSameOrBefore(input : Dayuts) : boolean\r\n\tisSameOrBefore(input : UTSJSONObject) : boolean\r\n\r\n\tisSameOrBefore(input : string, units : DayutsUnit) : boolean\r\n\tisSameOrBefore(input : number, units : DayutsUnit) : boolean\r\n\tisSameOrBefore(input : Date, units : DayutsUnit) : boolean\r\n\tisSameOrBefore(input : Dayuts, units : DayutsUnit) : boolean\r\n\tisSameOrBefore(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n\tisSameOrBefore(input : any, units : DayutsUnit = 'millisecond') : boolean {\r\n\t\treturn this.isSame(input, units) || this.isBefore(input, units)\r\n\t}\r\n\t/**\r\n\t * 判断当前Dayuts对象是否与给定的输入在同一时间或之后，根据指定的时间单位\r\n\t * @param {(string | number | Date | Dayuts | UTSJSONObject)} input - 输入的时间\r\n\t * @param {DayutsUnit} units - 指定的时间单位\r\n\t * @returns {boolean} - 如果当前Dayuts对象与给定的输入在同一时间或之后，则返回true，否则返回false\r\n\t */\r\n\tisSameOrAfter(input : string) : boolean\r\n\tisSameOrAfter(input : number) : boolean\r\n\tisSameOrAfter(input : Date) : boolean\r\n\tisSameOrAfter(input : Dayuts) : boolean\r\n\tisSameOrAfter(input : UTSJSONObject) : boolean\r\n\r\n\tisSameOrAfter(input : string, units : DayutsUnit) : boolean\r\n\tisSameOrAfter(input : number, units : DayutsUnit) : boolean\r\n\tisSameOrAfter(input : Date, units : DayutsUnit) : boolean\r\n\tisSameOrAfter(input : Dayuts, units : DayutsUnit) : boolean\r\n\tisSameOrAfter(input : UTSJSONObject, units : DayutsUnit) : boolean\r\n\tisSameOrAfter(input : any, units : DayutsUnit = 'millisecond') : boolean {\r\n\t\treturn this.isSame(input, units) || this.isAfter(input, units)\r\n\t}\r\n\t/**\r\n\t * 判断当前Dayuts对象是否在给定的两个时间之间\r\n\t * @param {any} input - 第一个时间输入\r\n\t * @param {any} input2 - 第二个时间输入\r\n\t * @param {DayutsUnit} units - 指定的时间单位\r\n\t * @param {string} interval - 区间符号，表示区间的开闭性，默认为'()'，表示开区间\r\n\t * @returns {boolean} - 如果当前Dayuts对象在给定的两个时间之间，则返回true，否则返回false\r\n\t */\r\n\tisBetween(input : any, input2 : any, units : DayutsUnit = 'millisecond', interval : string = '()') : boolean {\r\n\t\tconst dA = dayuts(input)\r\n\t\tconst dB = dayuts(input2)\r\n\t\tconst dAi = interval.startsWith('(')\r\n\t\tconst dBi = interval.endsWith(')')\r\n\r\n\t\treturn ((dAi ? this.isAfter(dA, units) : !this.isBefore(dA, units)) &&\r\n\t\t\t(dBi ? this.isBefore(dB, units) : !this.isAfter(dB, units)))\r\n\t\t\t|| ((dAi ? this.isBefore(dA, units) : !this.isAfter(dA, units)) &&\r\n\t\t\t\t(dBi ? this.isAfter(dB, units) : !this.isBefore(dB, units)))\r\n\t}\r\n\t/**\r\n\t * 判断当前Dayuts对象所在的年份是否为闰年\r\n\t * @returns {boolean} - 如果当前Dayuts对象所在的年份是闰年，则返回true，否则返回false\r\n\t */\r\n\tisLeapYear():boolean{\r\n\t\t return ((this.$y % 4 == 0) && (this.$y % 100 != 0)) || (this.$y % 400 == 0)\r\n\t}\r\n\tisToday():boolean{\r\n\t\tconst comparisonTemplate = 'YYYY-MM-DD'\r\n\t\tconst now = dayuts()\r\n\t\t\r\n\t\treturn this.format(comparisonTemplate) == now.format(comparisonTemplate)\r\n\t}\r\n\t/**\r\n\t * 获取当前 `dayuts` 对象的 Unix 时间戳（以秒为单位）。\r\n\t *\r\n\t * @returns {number} 返回当前 `dayuts` 对象的 Unix 时间戳（以秒为单位）。\r\n\t */\r\n\tunix() : number {\r\n\t\treturn Math.floor(this.valueOf() / 1000);\r\n\t}\r\n\t/**\r\n\t * 将当前日期设置为指定时间单位的开始或结束。\r\n\t *\r\n\t * @param {string} units - 时间单位，例如'year'、'month'、'day'等。\r\n\t * @param {boolean} startOf - 如果为true，则设置为开始；如果为false，则设置为结束。\r\n\t * @returns {Dayuts} 返回一个新的Dayuts对象，表示调整后的日期。\r\n\t */\r\n\tstartOf(units : DayutsUnit, startOf : boolean = true) : Dayuts {\r\n\t\tconst isStartOf = startOf;\r\n\t\tconst unit = prettyUnit(units)\r\n\t\t// instanceFactory 函数用于创建一个新的 Dayuts 对象，表示给定日期的开始或结束。\r\n\t\t// 参数 d 和 m 分别表示日期和月份。\r\n\t\tconst instanceFactory = (d : number, m : number) : Dayuts => {\r\n\t\t\tconst ins = dayuts(new Date(this.$y, m, d))\r\n\t\t\treturn isStartOf ? ins : ins.endOf(D)\r\n\t\t}\r\n\r\n\t\t// instanceFactorySet 函数用于创建一个新的 Dayuts 对象，表示调整后的时间。\r\n\t\t// 参数 method 表示要调用的 Date 对象的方法（如 'setHours'），slice 表示要调整的时间部分的索引。\r\n\t\tconst instanceFactorySet = (method : string, slice : number) : Dayuts => {\r\n\t\t\t// 定义表示开始和结束时间的参数数组。\r\n\t\t\tconst argumentStart = [0, 0, 0, 0]\r\n\t\t\tconst argumentEnd = [23, 59, 59, 999]\r\n\t\t\t// 根据 isStartOf 的值，选择开始或结束时间的参数数组，并调用 Date 对象的方法。\r\n\t\t\tconst args = (isStartOf ? argumentStart : argumentEnd).slice(slice)\r\n\t\t\tconst date = this.toDate()\r\n\t\t\tif (method == 'setHours') {\r\n\t\t\t\tdate.setHours(args[0]);\r\n\t\t\t\tdate.setMinutes(args[1])\r\n\t\t\t\tdate.setSeconds(args[2])\r\n\t\t\t\tdate.setMilliseconds(args[3])\r\n\t\t\t} else if (method == 'setMinutes') {\r\n\t\t\t\tdate.setMinutes(args[0]);\r\n\t\t\t\tdate.setSeconds(args[1])\r\n\t\t\t\tdate.setMilliseconds(args[2])\r\n\t\t\t} else if (method == 'setSeconds') {\r\n\t\t\t\tdate.setSeconds(args[0])\r\n\t\t\t\tdate.setMilliseconds(args[1])\r\n\t\t\t} else if (method == 'setMilliseconds') {\r\n\t\t\t\tdate.setMilliseconds(args[0])\r\n\t\t\t}\r\n\t\t\treturn dayuts(date)\r\n\t\t}\r\n\t\tconst { $W, $M, $D } = this\r\n\t\tconst utcPad = `set${this.$u ? 'UTC' : ''}`\r\n\t\tif (unit == Y) {\r\n\t\t\treturn isStartOf ? instanceFactory(1, 0) : instanceFactory(31, 11);\r\n\t\t} else if (unit == M) {\r\n\t\t\treturn isStartOf ? instanceFactory(1, $M) : instanceFactory(0, $M + 1);\r\n\t\t} else if (unit == W) {\r\n\t\t\tconst weekStart = this.$locale().weekStart ?? 0;\r\n\t\t\tconst gap = ($W < weekStart ? $W + 7 : $W) - weekStart;\r\n\t\t\treturn instanceFactory(isStartOf ? $D - gap : $D + (6 - gap), $M);\r\n\t\t} else if (unit == D || unit == DATE) {\r\n\t\t\treturn instanceFactorySet(`${utcPad}Hours`, 0);\r\n\t\t} else if (unit == H) {\r\n\t\t\treturn instanceFactorySet(`${utcPad}Minutes`, 1);\r\n\t\t} else if (unit == MIN) {\r\n\t\t\treturn instanceFactorySet(`${utcPad}Seconds`, 2);\r\n\t\t} else if (unit == S) {\r\n\t\t\treturn instanceFactorySet(`${utcPad}Milliseconds`, 3);\r\n\t\t} else {\r\n\t\t\treturn this.clone();\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * 将当前日期设置为指定时间单位的结束。\r\n\t *\r\n\t * @param {string} arg - 时间单位，例如'year'、'month'、'day'等。\r\n\t * @returns {Dayuts} 返回一个新的Dayuts对象，表示调整后的日期。\r\n\t */\r\n\tendOf(units : DayutsUnit) : Dayuts {\r\n\t\treturn this.startOf(units, false)\r\n\t}\r\n\t/**\r\n\t * 设置指定的时间单位的值。\r\n\t *\r\n\t * @param {string} units - 要设置的时间单位（如 \"year\"、\"month\"、\"day\" 等）。\r\n\t * @param {number} int - 要设置的值。\r\n\t * @returns {Dayuts} 返回当前对象。\r\n\t */\r\n\tprivate $set(units : DayutsUnit, int : number) : Dayuts { // private set\r\n\t\tconst unit = prettyUnit(units)\r\n\t\t// const utcPad = `set${this.$u ? 'UTC' : ''}`\r\n\t\tconst arg = unit == D ? this.$D + (int - this.$W) : int\r\n\t\tconst setDateUnit = (date : Dayuts, unit : DayutsUnit, arg : number) => {\r\n\t\t\tif (unit == D || unit == DATE) {\r\n\t\t\t\tdate.$d.setDate(arg);\r\n\t\t\t} else if (unit == M) {\r\n\t\t\t\tdate.$d.setMonth(arg);\r\n\t\t\t} else if (unit == Y) {\r\n\t\t\t\tdate.$d.setFullYear(arg);\r\n\t\t\t} else if (unit == H) {\r\n\t\t\t\tdate.$d.setHours(arg);\r\n\t\t\t} else if (unit == MIN) {\r\n\t\t\t\tdate.$d.setMinutes(arg);\r\n\t\t\t} else if (unit == S) {\r\n\t\t\t\tdate.$d.setSeconds(arg);\r\n\t\t\t} else if (unit == MS) {\r\n\t\t\t\tdate.$d.setMilliseconds(arg);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (unit == M || unit == Y) {\r\n\t\t\t// clone is for badMutable plugin\r\n\t\t\tconst date = this.clone().set(DATE, 1)\r\n\t\t\t// date.$d[name](arg)\r\n\t\t\tsetDateUnit(date, unit, arg)\r\n\t\t\tdate.init()\r\n\t\t\tthis.$d = date.set(DATE, Math.min(this.$D, date.daysInMonth())).$d\r\n\t\t} else {\r\n\t\t\tsetDateUnit(this, unit, arg)\r\n\t\t\t// this.$d[name](arg)\r\n\t\t}\r\n\r\n\t\tthis.init()\r\n\t\treturn this\r\n\t}\r\n\t/**\r\n\t * 创建一个当前对象的副本，并设置指定的时间单位的值。\r\n\t *\r\n\t * @param {string} string - 要设置的时间单位（如 \"year\"、\"month\"、\"day\" 等）。\r\n\t * @param {number} int - 要设置的值。\r\n\t * @returns {Dayuts} 返回一个新的 `dayuts` 对象，其值为当前对象的副本，并设置了指定的时间单位的值。\r\n\t */\r\n\tset(string : DayutsUnit, int : number) : Dayuts {\r\n\t\treturn this.clone().$set(string, int);\r\n\t}\r\n\t/**\r\n\t * 获取当前 `dayuts` 对象的指定时间单位的值。\r\n\t *\r\n\t * @param {string} units - 要获取的时间单位（如 \"year\"、\"month\"、\"day\" 等）。\r\n\t * @returns {number} 返回当前 `dayuts` 对象的指定时间单位的值。\r\n\t */\r\n\tget(units : DayutsUnit) : number {\r\n\t\tconst unit = prettyUnit(units)\r\n\t\tif (unit == D) {\r\n\t\t\treturn this.day()\r\n\t\t} else if (unit == DATE) {\r\n\t\t\treturn this.date()\r\n\t\t} else if (unit == M) {\r\n\t\t\treturn this.month()\r\n\t\t} else if (unit == Y) {\r\n\t\t\treturn this.year()\r\n\t\t} else if (unit == H) {\r\n\t\t\treturn this.hour()\r\n\t\t} else if (unit == MIN) {\r\n\t\t\treturn this.minute()\r\n\t\t} else if (unit == S) {\r\n\t\t\treturn this.second()\r\n\t\t} else if (unit == MS) {\r\n\t\t\treturn this.millisecond()\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\t/**\r\n\t * 获取或设置年份。\r\n\t * @param {number | null} [input] - 要设置的年份。\r\n\t * @returns {number | Dayuts} 年份或 Dayuts 实例。\r\n\t */\r\n\tyear() : number\r\n\tyear(input : number) : Dayuts\r\n\tyear(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$y\r\n\t\treturn this.set(Y, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置月份。\r\n\t * @param {number | null} [input] - 要设置的月份（0-11）。\r\n\t * @returns {number | Dayuts} 月份或 Dayuts 实例。\r\n\t */\r\n\tmonth() : number\r\n\tmonth(input : number) : Dayuts\r\n\tmonth(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$M\r\n\t\treturn this.set(M, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置星期几。\r\n\t * @param {number | null} [input] - 要设置的星期几（0-6）。\r\n\t * @returns {number | Dayuts} 星期几或 Dayuts 实例。\r\n\t */\r\n\tday() : number\r\n\tday(input : number) : Dayuts\r\n\tday(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$W\r\n\t\treturn this.set(D, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置月份中的某一天。\r\n\t * @param {number | null} [input] - 要设置的月份中的某一天（1-31）。\r\n\t * @returns {number | Dayuts} 月份中的某一天或 Dayuts 实例。\r\n\t */\r\n\tdate() : number\r\n\tdate(input : number) : Dayuts\r\n\tdate(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$D\r\n\t\treturn this.set(DATE, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置小时。\r\n\t * @param {number | null} [input] - 要设置的小时（0-23）。\r\n\t * @returns {number | Dayuts} 小时或 Dayuts 实例。\r\n\t */\r\n\thour() : number\r\n\thour(input : number) : Dayuts\r\n\thour(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$H\r\n\t\treturn this.set(H, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置分钟。\r\n\t * @param {number | null} [input] - 要设置的分钟（0-59）。\r\n\t * @returns {number | Dayuts} 分钟或 Dayuts 实例。\r\n\t */\r\n\tminute() : number\r\n\tminute(input : number) : Dayuts\r\n\tminute(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$m\r\n\t\treturn this.set(MIN, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置秒。\r\n\t * @param {number | null} [input] - 要设置的秒（0-59）。\r\n\t * @returns {number | Dayuts} 秒或 Dayuts 实例。\r\n\t */\r\n\tsecond() : number\r\n\tsecond(input : number) : Dayuts\r\n\tsecond(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$s\r\n\t\treturn this.set(S, input)\r\n\t}\r\n\t/**\r\n\t * 获取或设置毫秒。\r\n\t * @param {number | null} [input] - 要设置的毫秒（0-999）。\r\n\t * @returns {number | Dayuts} 毫秒或 Dayuts 实例。\r\n\t */\r\n\tmillisecond() : number\r\n\tmillisecond(input : number) : Dayuts\r\n\tmillisecond(input : number | null = null) : any {\r\n\t\tif (input == null) return this.$ms\r\n\t\treturn this.set(MS, input)\r\n\t}\r\n\r\n\t/**\r\n\t * 在当前 Dayuts 实例上添加指定的时间长度。\r\n\t * @param {number} number - 要添加的时间长度。\r\n\t * @param {string} units - 要添加的时间单位（例如，“years”，“months”，“days”等）。\r\n\t * @returns {Dayuts} 更新的 Dayuts 实例。\r\n\t */\r\n\tadd(number : number, units : DayutsUnit) : Dayuts {\r\n\t\tconst unit = prettyUnit(units)\r\n\t\t// 创建一个新的 Dayuts 实例，并根据给定的 n 值设置日期。\r\n\t\t// n 值乘以 number 参数，然后加到当前日期上，以设置新的日期。\r\n\t\tconst instanceFactorySet = (n : number) : Dayuts => {\r\n\t\t\t// 创建一个新的 Dayuts 实例，它是当前实例的副本\r\n\t\t\tconst d = dayuts(this)\r\n\t\t\t// 设置新的日期并返回更新后的 Dayuts 实例\r\n\t\t\treturn d.date(d.date() + Math.round(n * number)) //Utils.w(d.date(d.date() + Math.round(n * number)), this)\r\n\t\t}\r\n\t\tif (unit == M) {\r\n\t\t\treturn this.set(M, this.$M + number)\r\n\t\t}\r\n\t\tif (unit == Y) {\r\n\t\t\treturn this.set(Y, this.$y + number)\r\n\t\t}\r\n\t\tif (unit == D) {\r\n\t\t\treturn instanceFactorySet(1)\r\n\t\t}\r\n\t\tif (unit == W) {\r\n\t\t\treturn instanceFactorySet(7)\r\n\t\t}\r\n\r\n\t\tconst steps = new Map<string, number>([\r\n\t\t\t[MIN, MILLISECONDS_A_MINUTE],\r\n\t\t\t[H, MILLISECONDS_A_HOUR],\r\n\t\t\t[S, MILLISECONDS_A_SECOND],\r\n\t\t])\r\n\t\tconst step = steps.get(unit) ?? 1;\r\n\t\tconst nextTimeStamp = this.$d.getTime() + (number * step)\r\n\t\treturn wrapper(nextTimeStamp, this)\r\n\t}\r\n\t/**\r\n\t * 从当前 Dayuts 实例中减去指定的时间。\r\n\t * @param {number} number - 要减去的时间。\r\n\t * @param {string} units - 要减去的时间单位（例如，“years”，“months”，“days”等）。\r\n\t * @returns {Dayuts} 更新的 Dayuts 实例。\r\n\t */\r\n\tsubtract(number : number, units : DayutsUnit) : Dayuts {\r\n\t\t// 通过将 number 乘以 -1，然后调用 add 方法来实现减法操作\r\n\t\treturn this.add(number * -1, units);\r\n\t}\r\n\t/**\r\n\t * 日期格式化\r\n\t * @param {string} formatStr - 格式化字符串，包含各种格式化占位符（例如，“YYYY-MM-DD”，“HH:mm:ss”等）。\r\n\t * @returns {string} 格式化后的日期字符串。\r\n\t */\r\n\tformat(formatStr : string | null = null) : string {\r\n\t\tconst locale = this.$locale();\r\n\t\tif (!this.isValid()) return INVALID_DATE_STRING // locale.invalidDate || INVALID_DATE_STRING;\r\n\r\n\t\tconst str = formatStr ?? FORMAT_DEFAULT;\r\n\t\t// @ts-ignore\r\n\t\tconst zoneStr = padZoneStr(this);\r\n\t\tconst { $H, $m, $M } = this;\r\n\t\tconst { weekdays, months, meridiem } = locale;\r\n\t\t/**\r\n\t\t * 从给定的数组中获取缩写或完整的字符串。\r\n\t\t * @param {Array} arr - 包含缩写字符串的数组。\r\n\t\t * @param {number} index - 数组中要获取的元素的索引。\r\n\t\t * @param {Array} full - 包含完整字符串的数组。\r\n\t\t * @param {number} length - 要返回的字符串的长度。\r\n\t\t * @returns {string} 缩写或完整的字符串。\r\n\t\t */\r\n\t\tfunction getShort(arr : string[] | null, index : number, full : string[] = [], length : number = 0) : string {\r\n\t\t\tif (arr != null && arr.length >= index) {\r\n\t\t\t\treturn arr[index]\r\n\t\t\t} else if (full.length >= index) {\r\n\t\t\t\treturn full[index].slice(0, length)\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t};\r\n\t\t/**\r\n\t\t * 获取12小时制的小时数。\r\n\t\t * @param {number} num - 小时数的位数。\r\n\t\t * @returns {string} 12小时制的小时数字符串。\r\n\t\t */\r\n\t\tconst get$H = (num : number) : string => padStart(($H % 12 == 0 ? 12 : $H % 12).toString(), num, '0')\r\n\t\t/**\r\n\t\t * 获取上午或下午的字符串表示。\r\n\t\t * @param {number} hour - 小时数。\r\n\t\t * @param {number} minute - 分钟数。\r\n\t\t * @param {boolean} isLowercase - 是否返回小写字符串。\r\n\t\t * @returns {string} 上午或下午的字符串表示。\r\n\t\t */\r\n\t\tconst meridiemFunc = meridiem ?? ((hour : number, _ : number, isLowercase : boolean) : string => {\r\n\t\t\tconst m = (hour < 12 ? 'AM' : 'PM');\r\n\t\t\treturn isLowercase ? m.toLowerCase() : m;\r\n\t\t});\r\n\t\t// #ifdef APP-ANDROID\r\n\t\treturn str.replace('YYYY', padStart(this.$y.toString(), 4, '0'))\r\n\t\t\t.replace('YY', (this.$y).toString().slice(-2))\r\n\t\t\t.replace('MMMM', getShort(months, $M))\r\n\t\t\t.replace('MM', padStart(($M + 1).toString(), 2, '0'))\r\n\t\t\t.replace('M', ($M + 1).toString())\r\n\t\t\t.replace('DD', padStart(this.$D.toString(), 2, '0'))\r\n\t\t\t.replace('D', this.$D.toString())\r\n\t\t\t.replace('dddd', weekdays[this.$W])\r\n\t\t\t.replace('ddd', getShort(locale.weekdaysShort, this.$W, weekdays, 3))\r\n\t\t\t.replace('dd', getShort(locale.weekdaysMin, this.$W, weekdays, 2))\r\n\t\t\t.replace('d', this.$W.toString())\r\n\t\t\t.replace('HH', padStart($H.toString(), 2, '0'))\r\n\t\t\t.replace('H', $H.toString())\r\n\t\t\t.replace('hh', get$H(2))\r\n\t\t\t.replace('h', get$H(1))\r\n\t\t\t.replace('mm', padStart($m.toString(), 2, '0'))\r\n\t\t\t.replace('m', $m.toString())\r\n\t\t\t.replace('ss', padStart(this.$s.toString(), 2, '0'))\r\n\t\t\t.replace('s', this.$s.toString())\r\n\t\t\t.replace('SSS', padStart(this.$ms.toString(), 3, '0'))\r\n\t\t\t.replace('A', meridiemFunc($H, $m, false))\r\n\t\t\t.replace('a', meridiemFunc($H, $m, true))\r\n\t\t\t.replace('Z', zoneStr)\r\n\t\t// #endif\r\n\t\t// #ifndef APP-ANDROID\r\n\t\tconst matches = (match : string) : string | null => {\r\n\t\t\tif (match == 'YY') {\r\n\t\t\t\treturn (this.$y).toString().slice(-2);\r\n\t\t\t} else if (match == 'YYYY') {\r\n\t\t\t\treturn padStart(this.$y.toString(), 4, '0');\r\n\t\t\t} else if (match == 'M') {\r\n\t\t\t\treturn ($M + 1).toString();\r\n\t\t\t} else if (match == 'MM') {\r\n\t\t\t\treturn padStart(($M + 1).toString(), 2, '0');\r\n\t\t\t} else if (match == 'MMM') {\r\n\t\t\t\treturn getShort(locale.monthsShort, $M, months, 3);\r\n\t\t\t} else if (match == 'MMMM') {\r\n\t\t\t\treturn getShort(months, $M);\r\n\t\t\t} else if (match == 'D') {\r\n\t\t\t\treturn this.$D.toString();\r\n\t\t\t} else if (match == 'DD') {\r\n\t\t\t\treturn padStart(this.$D.toString(), 2, '0');\r\n\t\t\t} else if (match == 'd') {\r\n\t\t\t\treturn this.$W.toString();\r\n\t\t\t} else if (match == 'dd') {\r\n\t\t\t\treturn getShort(locale.weekdaysMin, this.$W, weekdays, 2);\r\n\t\t\t} else if (match == 'ddd') {\r\n\t\t\t\treturn getShort(locale.weekdaysShort, this.$W, weekdays, 3);\r\n\t\t\t} else if (match == 'dddd') {\r\n\t\t\t\treturn weekdays[this.$W];\r\n\t\t\t} else if (match == 'H') {\r\n\t\t\t\treturn $H.toString();\r\n\t\t\t} else if (match == 'HH') {\r\n\t\t\t\treturn padStart($H.toString(), 2, '0');\r\n\t\t\t} else if (match == 'h') {\r\n\t\t\t\treturn get$H(1);\r\n\t\t\t} else if (match == 'hh') {\r\n\t\t\t\treturn get$H(2);\r\n\t\t\t} else if (match == 'a') {\r\n\t\t\t\treturn meridiemFunc($H, $m, true);\r\n\t\t\t} else if (match == 'A') {\r\n\t\t\t\treturn meridiemFunc($H, $m, false);\r\n\t\t\t} else if (match == 'm') {\r\n\t\t\t\treturn $m.toString();\r\n\t\t\t} else if (match == 'mm') {\r\n\t\t\t\treturn padStart($m.toString(), 2, '0');\r\n\t\t\t} else if (match == 's') {\r\n\t\t\t\treturn this.$s.toString();\r\n\t\t\t} else if (match == 'ss') {\r\n\t\t\t\treturn padStart(this.$s.toString(), 2, '0');\r\n\t\t\t} else if (match == 'SSS') {\r\n\t\t\t\treturn padStart(this.$ms.toString(), 3, '0');\r\n\t\t\t} else if (match == 'Z') {\r\n\t\t\t\treturn zoneStr; // 'ZZ' logic below\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\treturn str.replace(REGEX_FORMAT, (match : string, $1 : string, offset : number, string : string) : string => {\r\n\t\t\treturn $1 ?? matches(match) ?? zoneStr.replace(':', '')\r\n\t\t})\r\n\t\t// #endif\r\n\t}\r\n\t/**\r\n\t * 获取 Dayuts 实例的 UTC 偏移量（以分钟为单位）。\r\n\t * @returns {number} UTC 偏移量（以分钟为单位）。\r\n\t */\r\n\tutcOffset() : number {\r\n\t\t// Because a bug at FF24, we're rounding the timezone offset around 15 minutes\r\n\t\t// https://github.com/moment/moment/pull/1871\r\n\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\treturn -Math.round(this.$d.getTimezoneOffset() / 15) * 15\r\n\t\t// #endif\r\n\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\treturn 0\r\n\t\t// #endif\r\n\t}\r\n\t/**\r\n\t * 计算两个日期之间的差值\r\n\t * @param {string|number|Date|Dayuts} input - 要比较的日期\r\n\t * @param {string} units - 要计算的时间单位，如 'years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds'\r\n\t * @param {boolean} float - 是否返回浮点数结果\r\n\t * @returns {number} 返回两个日期之间的差值\r\n\t */\r\n\tdiff(input : string) : number\r\n\tdiff(input : number) : number\r\n\tdiff(input : Date) : number\r\n\tdiff(input : Dayuts) : number\r\n\tdiff(input : UTSJSONObject) : number\r\n\r\n\tdiff(input : string, units : DayutsUnit) : number\r\n\tdiff(input : number, units : DayutsUnit) : number\r\n\tdiff(input : Date, units : DayutsUnit) : number\r\n\tdiff(input : Dayuts, units : DayutsUnit) : number\r\n\tdiff(input : UTSJSONObject, units : DayutsUnit) : number\r\n\r\n\tdiff(input : string, units : DayutsUnit, float : boolean) : number\r\n\tdiff(input : number, units : DayutsUnit, float : boolean) : number\r\n\tdiff(input : Date, units : DayutsUnit, float : boolean) : number\r\n\tdiff(input : Dayuts, units : DayutsUnit, float : boolean) : number\r\n\tdiff(input : UTSJSONObject, units : DayutsUnit, float : boolean) : number\r\n\tdiff(input : any, units : DayutsUnit = 'millisecond', float : boolean = false) : number {\r\n\t\tconst unit = prettyUnit(units)\r\n\t\tconst that = dayuts(input)\r\n\t\tconst zoneDelta = (that.utcOffset() - this.utcOffset()) * MILLISECONDS_A_MINUTE\r\n\t\tconst diff = this.valueOf() - that.valueOf()\r\n\t\t// @ts-ignore\r\n\t\tconst getMonth = () : number => monthDiff(this, that)\r\n\t\tlet result : number;\r\n\t\tswitch (unit) {\r\n\t\t\tcase Y:\r\n\t\t\t\tresult = getMonth() / 12\r\n\t\t\t\tbreak\r\n\t\t\tcase M:\r\n\t\t\t\tresult = getMonth()\r\n\t\t\t\tbreak\r\n\t\t\tcase Q:\r\n\t\t\t\tresult = getMonth() / 3\r\n\t\t\t\tbreak\r\n\t\t\tcase W:\r\n\t\t\t\tresult = (diff - zoneDelta) / MILLISECONDS_A_WEEK\r\n\t\t\t\tbreak\r\n\t\t\tcase D:\r\n\t\t\t\tresult = (diff - zoneDelta) / MILLISECONDS_A_DAY\r\n\t\t\t\tbreak\r\n\t\t\tcase H:\r\n\t\t\t\tresult = diff / MILLISECONDS_A_HOUR\r\n\t\t\t\tbreak\r\n\t\t\tcase MIN:\r\n\t\t\t\tresult = diff / MILLISECONDS_A_MINUTE\r\n\t\t\t\tbreak\r\n\t\t\tcase S:\r\n\t\t\t\tresult = diff / MILLISECONDS_A_SECOND\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tresult = diff // milliseconds\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn float ? result : absFloor(result)\r\n\t}\r\n\t/**\r\n\t * 将当前 Dayuts 对象转换为原生 Date 对象。\r\n\t *\r\n\t * @returns {Date} 返回一个表示当前日期的原生 Date 对象。\r\n\t */\r\n\ttoDate() : Date {\r\n\t\treturn new Date(this.valueOf())\r\n\t}\r\n\t/**\r\n\t * 将 Moment 对象转换为 JSON 字符串\r\n\t * @returns {string | null} 如果 Moment 对象有效，则返回 ISO 8601 格式的字符串，否则返回 null\r\n\t */\r\n\ttoJSON() : string | null {\r\n\t\treturn this.isValid() ? this.toISOString() : null;\r\n\t}\r\n\t/**\r\n\t * 将 Moment 对象转换为 ISO 8601 格式的字符串\r\n\t * @returns {string} 返回 ISO 8601 格式的字符串\r\n\t */\r\n\ttoISOString() : string {\r\n\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\treturn this.$d.toISOString();\r\n\t\t// #endif\r\n\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\treturn this.$d.toString();\r\n\t\t// #endif\r\n\t}\r\n\ttoObject() : DayutsObject {\r\n\t\treturn {\r\n\t\t\tyears: this.$y,\r\n\t\t\tmonths: this.$M,\r\n\t\t\tdate: this.$D,\r\n\t\t\thours: this.$H,\r\n\t\t\tminutes: this.$m,\r\n\t\t\tseconds: this.$s,\r\n\t\t\tmilliseconds: this.$ms\r\n\t\t} as DayutsObject\r\n\t}\r\n\ttoArray() : number[] {\r\n\t\treturn [\r\n\t\t\tthis.$y,\r\n\t\t\tthis.$M,\r\n\t\t\tthis.$D,\r\n\t\t\tthis.$H,\r\n\t\t\tthis.$m,\r\n\t\t\tthis.$s,\r\n\t\t\tthis.$ms\r\n\t\t]\r\n\t}\r\n\t/**\r\n\t * 获取当前日期的毫秒数。\r\n\t *\r\n\t * @returns {number} 返回一个表示当前日期的毫秒数。\r\n\t */\r\n\tvalueOf() : number {\r\n\t\t// 使用 Date 对象的 getTime 方法获取当前日期的毫秒数。\r\n\t\treturn this.$d.getTime()\r\n\t}\r\n\t/**\r\n\t * 获取当前 `dayuts` 对象所在月份的天数。\r\n\t *\r\n\t * @returns {number} 返回当前 `dayuts` 对象所在月份的天数。\r\n\t */\r\n\tdaysInMonth() : number {\r\n\t\treturn this.endOf(M).$D;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取当前日期的区域设置对象。\r\n\t *\r\n\t * @returns {Object} 区域设置对象。\r\n\t */\r\n\tprivate $locale() : DayutsLocale { // get locale object\r\n\t\t// return Ls.get(this.$L)!\r\n\t\treturn localeState.locales.get(this.$L)!\r\n\t}\r\n\t/**\r\n\t * 设置或获取 Dayuts 实例的本地化配置\r\n\t * @param {string|Object} preset - 本地化预设名称或自定义本地化配置对象\r\n\t * @param {Object} [DayutsLocale] - 可选的自定义本地化配置对象\r\n\t * @returns {Dayuts|string} 如果设置了本地化配置，则返回一个新的 Dayuts 实例；否则返回当前实例的本地化配置名称\r\n\t */\r\n\tlocale(preset : string, object : DayutsLocale) : Dayuts\r\n\tlocale(preset : DayutsLocale, object : DayutsLocale) : Dayuts\r\n\tlocale(preset : any, object : DayutsLocale | null = null) : Dayuts {\r\n\t\t// if (!preset) return this.$L\r\n\t\tconst that = this.clone()\r\n\t\tconst nextLocaleName = parseLocale(preset, object, true)\r\n\t\tif (nextLocaleName != null) that.$L = nextLocaleName\r\n\t\treturn that\r\n\t}\r\n\tclone() : Dayuts {\r\n\t\treturn wrapper(this.$d.getTime(), this)\r\n\t}\r\n\t/**\r\n\t * 返回当前 dayuts 对象的 UTC 字符串表示。\r\n\t *\r\n\t * @returns {string} 当前 dayuts 对象的 UTC 字符串表示。\r\n\t */\r\n\t// #ifdef APP-ANDROID\r\n\toverride toString() : string {\r\n\t\t// return this.$d.toUTCString();\r\n\t\t// const locale = localeState.locales.get('en')!\r\n\t\t// const weekday = locale.weekdays[this.$d.getDay()].substring(0,3);\r\n\t\t// const month = locale.months[this.$d.getMonth()].substring(0,3)\r\n\t\t// const day = `${this.$D}`.padStart(2, '0');\r\n\t\t// const hours = `${this.$H}`.padStart(2, '0');\r\n\t\t// const minutes = `${this.$m}`.padStart(2, '0');\r\n\t\t// const seconds = `${this.$s}`.padStart(2, '0');\r\n\t\t// return `${weekday}, ${day} ${month} ${this.$y} ${hours}:${minutes}:${seconds} GMT`;\r\n\t\treturn this.$d.toString();\r\n\t}\r\n\t// #endif\r\n\t// #ifndef APP-ANDROID\r\n\ttoString() : string {\r\n\t\t// return this.$d.toUTCString();\r\n\t\treturn this.$d.toString();\r\n\t}\r\n\t// #endif\r\n\t/**\r\n\t * 计算给定日期在当年的第几天，或者设置给定日期为当年的第几天。\r\n\t * @param {number} [input] - 如果提供了输入值，则将日期设置为当年的第几天。如果没有提供输入值，则返回当前日期在当年的第几天。\r\n\t * @returns {number} 如果提供了输入值，则返回调整后的日期。如果没有提供输入值，则返回当前日期在当年的第几天。\r\n\t */\r\n\tdayOfYear() : number\r\n\tdayOfYear(input : number) : Dayuts\r\n\tdayOfYear(input : number | null = null) : any {\r\n\t\tconst dayOfYear = Math.round((this.startOf('day').valueOf() - this.startOf('year').valueOf()) / 864e5) + 1\r\n\t\treturn input == null ? dayOfYear : this.add(input - dayOfYear, 'day')\r\n\t}\r\n\t/**\r\n\t * 根据输入的时间计算与当前时间的相对时间差，并以指定的格式返回。\r\n\t * @param {Date|number|string} input - 输入的时间，可以是Date对象、时间戳或符合Date.parse()方法的字符串\r\n\t * @param {boolean} withoutSuffix - 是否省略“未来”或“过去”的后缀\r\n\t * @param {Object} instance - 当前时间的实例\r\n\t * @param {boolean} isFrom - 是否从输入时间计算到当前时间\r\n\t * @param {Function} postFormat - 格式化绝对值后的结果的函数\r\n\t * @returns {string} 相对时间差的格式化字符串\r\n\t */\r\n\t// postFormat\r\n\tfromToBase(input : string, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string\r\n\tfromToBase(input : number, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string\r\n\tfromToBase(input : Date, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string\r\n\tfromToBase(input : Dayuts, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string\r\n\tfromToBase(input : UTSJSONObject, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string\r\n\tfromToBase(input : any, withoutSuffix : boolean, instance : Dayuts, isFrom : boolean) : string {\r\n\t\tconst relObj = localeState.locales.get('en')?.relativeTime\r\n\t\tconst loc = instance.$locale().relativeTime ?? relObj\r\n\t\tif (loc == null) return '';\r\n\t\tconst T : Threshold[] = [\r\n\t\t\t{ l: 's', r: 44, d: S },\r\n\t\t\t{ l: 'm', r: 89 },\r\n\t\t\t{ l: 'mm', r: 44, d: MIN },\r\n\t\t\t{ l: 'h', r: 89 },\r\n\t\t\t{ l: 'hh', r: 21, d: H },\r\n\t\t\t{ l: 'd', r: 35 },\r\n\t\t\t{ l: 'dd', r: 25, d: D },\r\n\t\t\t{ l: 'M', r: 45 },\r\n\t\t\t{ l: 'MM', r: 10, d: M },\r\n\t\t\t{ l: 'y', r: 17 },\r\n\t\t\t{ l: 'yy', d: Y }\r\n\t\t]\r\n\t\tconst Tl = T.length\r\n\t\tlet result : number = 0;\r\n\t\tlet out : string = '';\r\n\t\tlet isFuture : boolean = false\r\n\t\tfor (let i = 0; i < Tl; i += 1) {\r\n\t\t\tlet t = T[i]\r\n\t\t\tif (t.d != null) {\r\n\t\t\t\tresult = isFrom\r\n\t\t\t\t\t? dayuts(input).diff(instance, t.d!, true)\r\n\t\t\t\t\t: instance.diff(input, t.d!, true)\r\n\t\t\t}\r\n\t\t\tlet abs = Math.round(Math.abs(result))\r\n\t\t\tisFuture = result > 0\r\n\t\t\tif (t.r == null || t.r != null && abs <= t.r!) {\r\n\t\t\t\tif (abs <= 1 && i > 0) t = T[i - 1] // 1 minutes -> a minute, 0 seconds -> 0 second\r\n\t\t\t\tconst format = loc[t.l]\r\n\t\t\t\t// if (postFormat) {\r\n\t\t\t\t// \tabs = postFormat(`${abs}`)\r\n\t\t\t\t// }\r\n\t\t\t\tif (typeof format == 'string') {\r\n\t\t\t\t\tout = (format as string).replace('%d', abs.toString())\r\n\t\t\t\t}\r\n\t\t\t\t// else {\r\n\t\t\t\t// \tout = format(abs, withoutSuffix, t.l!, isFuture)\r\n\t\t\t\t// }\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (withoutSuffix) return out\r\n\t\tconst pastOrFuture = isFuture ? loc.future : loc.past\r\n\t\t// if (typeof pastOrFuture == 'function') {\r\n\t\t// \treturn pastOrFuture(out)\r\n\t\t// }\r\n\t\treturn pastOrFuture.replace('%s', out)\r\n\t}\r\n\t/**\r\n\t * 相对指定时间(后)。\r\n\t * @param {string|number|Date|Dayuts|UTSJSONObject} input - 输入的时间，可以是字符串、数字（时间戳）、Date对象、Dayuts对象或UTSJSONObject。\r\n\t * @param {boolean} withoutSuffix - 是否省略“未来”或“过去”的后缀。\r\n\t * @returns {string} 相对时间差的格式化字符串。\r\n\t */\r\n\tto(input : string) : string\r\n\tto(input : number) : string\r\n\tto(input : Date) : string\r\n\tto(input : Dayuts) : string\r\n\tto(input : UTSJSONObject) : string\r\n\r\n\tto(input : string, withoutSuffix : boolean) : string\r\n\tto(input : number, withoutSuffix : boolean) : string\r\n\tto(input : Date, withoutSuffix : boolean) : string\r\n\tto(input : Dayuts, withoutSuffix : boolean) : string\r\n\tto(input : UTSJSONObject, withoutSuffix : boolean) : string\r\n\tto(input : any, withoutSuffix : boolean = false) : string {\r\n\t\treturn this.fromToBase(input, withoutSuffix, this, true)\r\n\t}\r\n\t/**\r\n\t * 将当前时间转换为与输入时间的相对时间差，并以指定的格式返回。\r\n\t * @param {string|number|Date|Dayuts|UTSJSONObject} input - 输入的时间，可以是字符串、数字（时间戳）、Date对象、Dayuts对象或UTSJSONObject。\r\n\t * @param {boolean} withoutSuffix - 是否省略“未来”或“过去”的后缀。\r\n\t * @returns {string} 相对时间差的格式化字符串。\r\n\t */\r\n\tfrom(input : string) : string\r\n\tfrom(input : number) : string\r\n\tfrom(input : Date) : string\r\n\tfrom(input : Dayuts) : string\r\n\tfrom(input : UTSJSONObject) : string\r\n\r\n\tfrom(input : string, withoutSuffix : boolean) : string\r\n\tfrom(input : number, withoutSuffix : boolean) : string\r\n\tfrom(input : Date, withoutSuffix : boolean) : string\r\n\tfrom(input : Dayuts, withoutSuffix : boolean) : string\r\n\tfrom(input : UTSJSONObject, withoutSuffix : boolean) : string\r\n\tfrom(input : any, withoutSuffix : boolean = false) : string {\r\n\t\treturn this.fromToBase(input, withoutSuffix, this, false)\r\n\t}\r\n\t/**\r\n\t * 获取当前时间与实例时间的相对时间差，并以指定的格式返回。\r\n\t * @param {boolean} withoutSuffix - 是否省略“未来”或“过去”的后缀。\r\n\t * @returns {string} 相对时间差的格式化字符串。\r\n\t */\r\n\ttoNow() : string\r\n\ttoNow(withoutSuffix : boolean = false) : string {\r\n\t\treturn this.to(dayuts(), withoutSuffix)\r\n\t}\r\n\t/**\r\n\t * 获取实例时间与当前时间的相对时间差，并以指定的格式返回。\r\n\t * @param {boolean} withoutSuffix - 是否省略“未来”或“过去”的后缀。\r\n\t * @returns {string} 相对时间差的格式化字符串。\r\n\t */\r\n\tfromNow() : string\r\n\tfromNow(withoutSuffix : boolean = false) : string {\r\n\t\treturn this.from(dayuts(), withoutSuffix)\r\n\t}\r\n}\r\n\r\nfunction dayuts() : Dayuts;\r\nfunction dayuts(date : string) : Dayuts;\r\nfunction dayuts(date : any[]) : Dayuts;\r\nfunction dayuts(date : number) : Dayuts;\r\nfunction dayuts(date : UTSJSONObject) : Dayuts;\r\nfunction dayuts(date : Date) : Dayuts;\r\nfunction dayuts(date : Dayuts) : Dayuts;\r\n// #ifndef APP-ANDROID || APP-IOS\r\nfunction dayuts(date : any | null, format : string) : Dayuts;\r\nfunction dayuts(date : any | null, format : string | null, locale : string | null) : Dayuts;\r\n// #endif\r\nfunction dayuts(date : any | null = null, format : string | null = null, locale : string | null = null) : Dayuts {\r\n\tif (date != null && date instanceof Dayuts) return date.clone()\r\n\treturn new Dayuts({\r\n\t\tdate,\r\n\t\tformat,\r\n\t\tlocale\r\n\t} as DayutsConfig)\r\n}\r\n\r\n/**\r\n * 判断给定的对象是否为Dayuts实例\r\n * @param {(any | null)} date - 输入的对象\r\n * @returns {boolean} - 如果给定的对象是Dayuts实例，则返回true，否则返回false\r\n */\r\nfunction isDayuts(date : any | null = null) : boolean {\r\n\treturn date instanceof Dayuts\r\n}\r\n\r\nexport {\r\n\tdayuts,\r\n\tisDayuts\r\n}","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"data-strip\">\r\n\t\t\t<view class=\"rili\">\r\n\t\t\t\t<l-date-strip :format=\"customFormat\" switchMode=\"week\" :value=\"currentDay\" :minDate=\"minDate\" height=\"95rpx\" shape=\"square\"\r\n\t\t\t\t\t@change=\"onChange\">\r\n\t\t\t\t</l-date-strip>\r\n\t\t\t</view>\r\n\t\t\t<image class=\"down\" @click=\"ShowCalendar\" src=\"/static/down.png\" />\r\n\t\t</view>\r\n\t\t<view class=\"content-box\">\r\n\t\t\t<view class=\"sub-nav\">\r\n\t\t\t\t<view class=\"today\" @click=\"showMoreDevice\">\r\n\t\t\t\t\t<text>设备编号</text>\r\n\t\t\t\t\t<image class=\"down\" src=\"/static/down.png\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"select\">\r\n\t\t\t\t\t<image class=\"notice\" src=\"@/static/notice.png\" @click=\"msgSystem\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-content\">\r\n\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t<view class=\"title-box\">\r\n\t\t\t\t\t\t<text class=\"title\">设备名称</text>\r\n\t\t\t\t\t\t<view class=\"more\" @click=\"deviceDetail\">\r\n\t\t\t\t\t\t\t<text>更多</text>\r\n\t\t\t\t\t\t\t<l-icon name=\"chevron-right\" size=\"20\"></l-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-detail\">\r\n\t\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t\t<image class=\"device-img\" src=\"@/static/vedio.png\" />\r\n\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t<text>人形侦测</text>\r\n\t\t\t\t\t\t\t\t<text>15:29</text>\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image class=\"item-icon\" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\tsrc=\"@/static/people.png\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t<view class=\"title-box\">\r\n\t\t\t\t\t\t<text class=\"title\">设备名称1</text>\r\n\t\t\t\t\t\t<view class=\"more\">\r\n\t\t\t\t\t\t\t<text>更多</text>\r\n\t\t\t\t\t\t\t<l-icon name=\"chevron-right\" size=\"20\"></l-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-detail\">\r\n\t\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t\t<image class=\"device-img\" src=\"@/static/vedio.png\" />\r\n\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t<text>移动侦测</text>\r\n\t\t\t\t\t\t\t\t<text>15:29</text>\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image class=\"item-icon\" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\tsrc=\"@/static/mobile.png\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<fui-bottom-popup :visible=\"showCalendar\" @close=\"hideCalendar\">\r\n\t\t\t<view class=\"calendar-box\">\r\n\t\t\t\t<l-daily-punch :signedDates=\"checkIns\" @select=\"select\" @panelChange=\"change\"\r\n\t\t\t\t\t:dayHeight=\"60\"></l-daily-punch>\r\n\t\t\t\t<button class=\"btn-chanel-box\" @click=\"hideCalendar\">\r\n\t\t\t\t\t取消\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t\t\t\t<fui-bottom-popup :visible=\"isShowMoreDevice\" @close=\"closePopup\">\r\n\t\t\t<view class=\"fui-scroll__wrap\">\r\n\t\t\t\t<view class=\"popup-title\">\r\n\t\t\t\t\t<text>设备列表</text>\r\n\t\t\t\t\t<view @click=\"closePopup\">\r\n\t\t\t\t\t\t<fui-icon name=\"close\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<fui-radio-group @change=\"getValue\">\r\n\t\t\t\t\t<fui-label v-for=\"(item,index) in radioItems\" :key=\"index\">\r\n\t\t\t\t\t\t<fui-list-cell>\r\n\t\t\t\t\t\t\t<view class=\"fui-list__cell\">\r\n\t\t\t\t\t\t\t\t<text>{{item.deviceTitle}}</text>\r\n\t\t\t\t\t\t\t\t<fui-radio :checked=\"item.checked\" :value=\"item.iccid\">\r\n\t\t\t\t\t\t\t\t</fui-radio>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</fui-list-cell>\r\n\t\t\t\t\t</fui-label>\r\n\t\t\t\t</fui-radio-group>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\timport { ref,onMounted } from 'vue'\r\n\timport { dayuts } from '@/uni_modules/lime-dayuts';\r\n\timport { LDay, LYearMonth } from '@/uni_modules/lime-daily-punch'\r\n\timport { DateStriPDay } from '@/uni_modules/lime-date-strip';\r\n\r\n\ttype RadioItem = {\r\n\t\tdeviceTitle : string;\r\n\t\ticcid : string;\r\n\t\tcardid : string;\r\n\t\tcardState : string;\r\n\t\tcurrentPackage : string;\r\n\t\tuseDate : string;\r\n\t\tpercent : number;\r\n\t\ttotal : string;\r\n\t\tchecked ?: boolean;\r\n\t}\r\n\r\n\tconst checkIns = ref(['2025-07-07', '2025-07-08', '2025-07-09'])\r\n\tconst today = ref(dayuts().format('MM-DD'))\r\n\tconst showCalendar = ref<boolean>(false)\r\n\tconst isShowMoreDevice = ref<boolean>(false)\r\n\tconst currentDay = ref<number>(new Date().getTime())\r\n\r\n\tconst activeTab = ref(0)\r\n\tconst minDate : number = new Date(2022, 0, 10).getTime()\r\n\tconst maxDate : number = new Date(2025, 7, 12).getTime()\r\n\r\n\tconst customFormat = (day : DateStriPDay) : DateStriPDay => {\r\n\t\tconst { date } = day;\r\n\t\tconst year = date.getFullYear();\r\n\t\tconst month = date.getMonth() + 1;\r\n\t\tconst curDate = date.getDate();\r\n\r\n\t\tday.prefix = '' //不显示星期\r\n\r\n\t\tconst specialDates = new Set<number>([7, 8, 10]);\r\n\t\tif (specialDates.has(curDate)) {\r\n\t\t\tday.suffix = 'true';\r\n\t\t}\r\n\r\n\t\treturn day;\r\n\t};\r\n\r\n\r\n\tconst onChange = (time : number) => {\r\n\t\tuni.__log__('log','at pages/message/message.uvue:143',time)\r\n\t}\r\n\r\n\r\n\t//选择日期\r\n\tconst select = (day : LDay) => {\r\n\t\ttoday.value = dayuts(day.fullDate).format('YYYY-MM-DD')\r\n\t\tuni.__log__('log','at pages/message/message.uvue:150',today.value)\r\n\t\tcurrentDay.value = new Date(today.value).getTime()\r\n\t\tshowCalendar.value = false\r\n\t}\r\n\tconst change = (res : LYearMonth) => {\r\n\t\tuni.__log__('log','at pages/message/message.uvue:155','res', res)\r\n\t}\r\n\r\n\tconst ShowCalendar = () => {\r\n\t\tshowCalendar.value = !showCalendar.value\r\n\t}\r\n\r\n\tconst hideCalendar = () => {\r\n\t\tshowCalendar.value = false\r\n\t}\r\n\r\n\tconst showMoreDevice = () => {\r\n\t\tisShowMoreDevice.value = true\r\n\t}\r\n\tconst closePopup = () => {\r\n\t\tisShowMoreDevice.value = false\r\n\t}\r\n\r\n\tconst currentDeviceInfo = ref<RadioItem>({\r\n\t\tdeviceTitle: '',\r\n\t\ticcid: '',\r\n\t\tcardid: '',\r\n\t\tcardState: '',\r\n\t\tcurrentPackage: '',\r\n\t\tuseDate: '',\r\n\t\tpercent: 0,\r\n\t\ttotal: '',\r\n\t\tchecked: true,\r\n\t})\r\n\r\n\tconst radioItems = ref<RadioItem[]>([{\r\n\t\tdeviceTitle: '设备信息',\r\n\t\ticcid: '1123456667777887',\r\n\t\tcardid: '13000001111',\r\n\t\tcardState: '在用',\r\n\t\tcurrentPackage: '店长推荐【终身流量】',\r\n\t\tuseDate: '2025-07-07',\r\n\t\tpercent: 50,\r\n\t\ttotal: '100',\r\n\t},\r\n\t{\r\n\t\tdeviceTitle: '设备信息1',\r\n\t\ticcid: '1123456667777888',\r\n\t\tcardid: '13000001111',\r\n\t\tcardState: '停机',\r\n\t\tcurrentPackage: '店长推荐【100G流量】',\r\n\t\tuseDate: '2025-07-08',\r\n\t\tpercent: 70,\r\n\t\ttotal: '200',\r\n\t},\r\n\t{\r\n\t\tdeviceTitle: '设备信息2',\r\n\t\tcardid: '13000001111',\r\n\t\ticcid: '310203030443',\r\n\t\tcardState: '注销',\r\n\t\tcurrentPackage: '加油包',\r\n\t\tuseDate: '2025-07-09',\r\n\t\tpercent: 100,\r\n\t\ttotal: '300',\r\n\t}])\r\n\r\n\r\n\r\n\tconst getValue = (e : string) => {\r\n\t\tconst selectedItem = radioItems.value.find(item => item.iccid == e)\r\n\t\tif (selectedItem != null) {\r\n\t\t\tselectedItem.checked = true\r\n\t\t\tcurrentDeviceInfo.value = selectedItem\r\n\t\t}\r\n\t}\r\n\r\n\tconst currentInfo = () => {\r\n\t\tradioItems.value.forEach(item => {\r\n\t\t\titem.checked = false\r\n\t\t})\r\n\t\tradioItems.value[0].checked = true\r\n\t\tcurrentDeviceInfo.value = radioItems.value[0]\r\n\t}\r\n\r\n\tconst deviceDetail = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/message/messageDeviceDetail/messageDeviceDetail'\r\n\t\t})\r\n\r\n\t}\r\n\t\r\n\tconst msgSystem = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/message/messageSystem/messageSystem'\r\n\t\t})\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tcurrentInfo()\r\n\t})\r\n\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #f3f3f3;\r\n\r\n\t\t.data-strip {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding-right: 20rpx;\r\n\r\n\t\t\t.rili {\r\n\t\t\t\tflex: 3;\r\n\t\t\t\theight: 95rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.down {\r\n\t\t\t\twidth: 32rpx;\r\n\t\t\t\theight: 32rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t.content-box {\r\n\t\t\tpadding: 30rpx 20rpx;\r\n\r\n\t\t\t.sub-nav {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.today {\r\n\t\t\t\t\twidth: 140rpx;\r\n\t\t\t\t\t@extend .sub-nav;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.down {\r\n\t\t\t\t\t\twidth: 25rpx;\r\n\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.select {\r\n\t\t\t\t\t.notice {\r\n\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tab-content {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.item-content {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tpadding: 30rpx;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\t\t.title-box {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t\t\t.title {\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.more {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.item-detail{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t.item-left{\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t\t.device-img{\r\n\t\t\t\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.item-info{\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.item-icon{\r\n\t\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t.calendar-box {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.btn-chanel-box {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 85%;\r\n\t\t\t\tbottom: 45rpx;\r\n\t\t\t\tleft: 60rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.popup-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.fui-scroll__wrap {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.fui-sub__title {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #7F7F7F;\r\n\t\t\ttransform: scale(.9);\r\n\t\t}\r\n\r\n\t\t.fui-scroll__view {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50%;\r\n\t\t}\r\n\r\n\t\t.fui-list__cell {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t}\r\n</style>","export default \"__VITE_ASSET__1f763d97__\"","export default \"__VITE_ASSET__296f74b4__\"","export default \"__VITE_ASSET__a7deb1d1__\"","export default \"__VITE_ASSET__9399d714__\"","export default \"__VITE_ASSET__fb5b2470__\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"files\">\r\n\t\t\t<view class=\"file\" @click=\"localFiles\">\r\n\t\t\t\t<image class=\"fileIcon\" src=\"/static/mine/local.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"file-text\">本地文件</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"file\">\r\n\t\t\t\t<image class=\"fileIcon\" src=\"/static/mine/cloud.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"file-text\">永久备份</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"file\" @click=\"msgCenter\">\r\n\t\t\t\t<image class=\"fileIcon\" src=\"/static/mine/msgList.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"file-text\">消息列表</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"tools-list\">\r\n\t\t\t<view class=\"item\" @click=\"userInfo\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/user.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">个人信息</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"rechargeDataTraffic\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/liuliang.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">流量充值</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"myorders\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/order.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">我的订单</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"helpCenter\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/quetion.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">常见问题</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/online.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">在线客服</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"feedback\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/advice.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">意见反馈</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"systemSetting\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/setting.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">设置</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item no-bottom\" @click=\"aboutPage\">\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<image class=\"item-icon\" src=\"/static/mine/about.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"item-text\">关于</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image class=\"right-icon\" src=\"/static/mine/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\t\r\n\tconst localFiles = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/localFiles/localFiles'\r\n\t\t})\r\n\t}\r\n\r\n\tconst userInfo = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/userInfo/userInfo'\r\n\t\t})\r\n\t}\r\n\r\n\tconst rechargeDataTraffic = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/rechargeDataTraffic/rechargeDataTraffic'\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst myorders = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/myOrders/myOrders'\r\n\t\t})\r\n\r\n\t}\r\n\t\r\n\tconst helpCenter = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/helpCenter/helpCenter'\r\n\t\t})\r\n\t}\r\n\r\n\tconst msgCenter = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl: '/pages/message/message'\r\n\t\t})\r\n\t}\r\n\r\n\tconst feedback = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/feeback/feeback'\r\n\t\t})\r\n\t}\r\n\r\n\tconst systemSetting = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/systemSetting/systemSetting'\r\n\t\t})\r\n\t}\r\n\r\n\tconst aboutPage = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/about/about'\r\n\t\t})\r\n\t}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: #f1f1f1;\r\n\r\n\t\t.files {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t\tpadding: 70rpx 80rpx;\r\n\t\t\tmargin: 20rpx 0;\r\n\r\n\t\t\t.file {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.fileIcon {\n\t\t\t\t\twidth: 48rpx;\n\t\t\t\t\theight: 48rpx;\n\t\t\t\t\tmargin-bottom: 15rpx;\n\t\t\t\t}\r\n\r\n\t\t\t\t.file-text {\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.tools-list {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t\tpadding: 20rpx;\r\n\r\n\t\t\t.item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\r\n\t\t\t\t.info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-left: 40rpx;\r\n\t\t\t\t\t.item-icon {\n\t\t\t\t\t\twidth: 48rpx;\n\t\t\t\t\t\theight: 48rpx;\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item-text {\r\n\t\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.right-icon {\n\t\t\t\t\twidth: 35rpx;\n\t\t\t\t\theight: 35rpx;\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.no-bottom{\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","export default \"__VITE_ASSET__5d080727__\"","export default \"__VITE_ASSET__06954391__\"","export default \"__VITE_ASSET__d9b623eb__\"","export default \"__VITE_ASSET__4450440c__\"","export default \"__VITE_ASSET__c9c5a4fa__\"","export default \"__VITE_ASSET__9abc0933__\"","export default \"__VITE_ASSET__651113db__\"","export default \"__VITE_ASSET__381cf7bd__\"","export default \"__VITE_ASSET__1425c9bb__\"","export default \"__VITE_ASSET__23b027f4__\"","export default \"__VITE_ASSET__db8e72ef__\"","export default \"__VITE_ASSET__471ee4d9__\"","<template>\r\n\t<view class=\"fui-switch__input\"\r\n\t\t:class=\"[`fui-switch__size-${type}`,scaleRatio!=1? `fui-switch__scale-${scaleAlign}`:'',disabled && disabledStyle ?'fui-switch__checkbox-disabled':'']\"\r\n\t\t:style=\"{transform:`scale(${scaleRatio})`}\">\r\n\t\t<view class=\"fui-switch__input-def\" :style=\"getSwitchStyl\"\r\n\t\t\t:class=\"{'fui-checkbox__disabled':disabled,'fui-switch__checked-color':styleVal && color=='','fui-switch__normal-bcolor':!styleVal && borderColor=='','fui-switch__normal-bg':!styleVal && transitionColor==''}\"\r\n\t\t\tv-if=\"type=='switch'\" @tap=\"onChange\">\r\n\t\t\t<view class=\"fui-switch__input-before\" :style=\"getBeforeBgColor\"\r\n\t\t\t\t:class=\"{'fui-switch__input--before':val,'fui-switch__before-bg':!styleVal && normalColor==''}\">\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fui-switch__input-after\" :style=\"getStyle\"\r\n\t\t\t\t:class=\"{'fui-switch__input--after':val,'fui-switch__after-bg':(btnColor=='' && styleVal) || (!styleVal && btnNormalColor=='')}\">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"fui-switch__checkbox-self\"\r\n\t\t\t:class=\"{'fui-switch__checked-color':styleVal && color=='','fui-switch__normal-bcolor':!styleVal && borderColor=='','fui-switch__circle-bg':!styleVal && normalColor==''}\"\r\n\t\t\t:style=\"getSwitchStyl\" v-else @tap=\"onChange\">\r\n\t\t\t<view class=\"fui-switch__check-mark\" :class=\"{'fui-switch__mark-color':checkMarkColor==''}\"\r\n\t\t\t\t:style=\"getMarkStyl\" v-if=\"val\"></view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Switch 开关\r\n\t * @description Switch 开关选择器，原生组件增强。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String}\t开关选择器名称\r\n\t * @property {Boolean} checked {Boolean} 是否打开\r\n\t * @property {Boolean} disabled\t {Boolean} 是否禁用\r\n\t * @property {Boolean} disabledStyle {Boolean} 禁用后是否改变样式\r\n\t * @property {String} type {String}\t开关显示样式，有效值：switch, checkbox\r\n\t * @property {String} color {String} 开关打开时颜色\r\n\t * @property {String} normalColor {String} 开关未选中时背景色颜色\r\n\t * @property {String} transitionColor {String} 开关过渡动画颜色\r\n\t * @property {String} btnColor {String} 开关打开时按钮背景色\r\n\t * @property {String} btnNormalColor {String} 开关关闭时按钮背景色\r\n\t * @property {String} borderColor {String} 边框颜色，type=checkbox时生效\r\n\t * @property {String} checkMarkColor {String} 对号颜色，type=checkbox时生效\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\r\n\t * @event {Function} change 开关切换状态时触发，(event: boolean) => void\r\n\t * @event {Function} update:checked 开关切换状态时触发，用于双向绑定，v-model:checked，(event: boolean) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-switch\",\r\n\t\temits: ['change', 'update:checked'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tchecked: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabledStyle: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'switch'\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tnormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttransitionColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tbtnColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tbtnNormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcheckMarkColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tscaleAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: false,\r\n\t\t\t\tstyleVal: false,\r\n\t\t\t\tisLabel: false,\r\n\t\t\t\tfuiLabel: null as null | ComponentPublicInstance,\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyle() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.val) {\r\n\t\t\t\t\tif (this.btnColor != '') mp.set('background', this.btnColor);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.btnNormalColor != '') mp.set('background', this.btnNormalColor);\r\n\t\t\t\t}\r\n\t\t\t\treturn mp\r\n\t\t\t},\r\n\t\t\tgetSwitchStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.val) {\r\n\t\t\t\t\tif (this.color != '') {\r\n\t\t\t\t\t\tmp.set('borderColor', this.color);\r\n\t\t\t\t\t\tmp.set('background', this.color);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.transitionColor != '') mp.set('background', this.transitionColor);\r\n\t\t\t\t\tif (this.borderColor != '') mp.set('borderColor', this.borderColor);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetBeforeBgColor() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.normalColor != '') mp.set('background', this.normalColor)\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') {\r\n\t\t\t\t\tmp.set('borderBottomColor', this.checkMarkColor)\r\n\t\t\t\t\tmp.set('borderRightColor', this.checkMarkColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchecked(val : boolean) {\r\n\t\t\t\tthis.val = val;\r\n\t\t\t},\r\n\t\t\tval() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.styleVal = this.val\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.val = this.checked;\r\n\t\t\tconst parent = this.getParent('fui-label');\r\n\t\t\tif (parent) {\r\n\t\t\t\tthis.isLabel = true\r\n\t\t\t\tconst label = this.fuiLabel as ComponentPublicInstance\r\n\t\t\t\t(label.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonChange(e : UniPointerEvent) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.emitChange(!this.val)\r\n\t\t\t},\r\n\t\t\temitChange(e : boolean) {\r\n\t\t\t\tthis.val = e;\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit('update:checked', e)\r\n\t\t\t},\r\n\t\t\tlabelClick() {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.emitChange(!this.val)\r\n\t\t\t},\r\n\t\t\t//provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tif (name == 'fui-label') {\r\n\t\t\t\t\tthis.fuiLabel = parent;\r\n\t\t\t\t} else if (name == 'fui-form') {\r\n\t\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\treset() {\r\n\t\t\t\tthis.val = false;\r\n\t\t\t\tthis.$emit('change', false);\r\n\t\t\t\tthis.$emit('update:checked', false);\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : boolean {\r\n\t\t\t\treturn this.val;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-switch-background: #FFFFFF !default;\r\n\t$fui-switch-normal-transition: #dfdfdf !default;\r\n\t$fui-switch-border-color: #CCCCCC !default;\r\n\t$fui-switch-circle-shadow: 0 0 6rpx rgba(0, 0, 0, .4) !default;\r\n\t$fui-switch-circle-background: #FFFFFF !default;\r\n\t$fui-switch-mark-color: #FFFFFF !default;\r\n\r\n\t.fui-switch__input {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.fui-switch__scale-left {\r\n\t\ttransform-origin: 0 center;\r\n\t}\r\n\r\n\t.fui-switch__scale-center {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-switch__scale-right {\r\n\t\ttransform-origin: 100% center;\r\n\t}\r\n\r\n\t.fui-switch__size-switch {\r\n\t\twidth: 52px;\r\n\t\theight: 32px;\r\n\t}\r\n\r\n\t.fui-switch__size-checkbox {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t}\r\n\r\n\t.fui-switch__checkbox-self {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-radius: 40px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t\tborder-style: solid;\r\n\t\tborder-width: 1px;\r\n\t\tborder-color: $fui-switch-border-color;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.fui-switch__input-def {\r\n\t\tposition: relative;\r\n\t\twidth: 52px;\r\n\t\theight: 32px;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tborder-color: $fui-switch-border-color;\r\n\t\tborder-radius: 16px;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransition: background-color .1s, border .1s;\r\n\r\n\t}\r\n\r\n\t.fui-switch__normal-bg {\r\n\t\tbackground: $fui-switch-normal-transition !important;\r\n\t}\r\n\r\n\t.fui-switch__checked-color {\r\n\t\tbackground: $fui-color-primary !important;\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-switch__normal-bcolor {\r\n\t\tborder-color: $fui-switch-border-color !important;\r\n\t}\r\n\r\n\r\n\t.fui-switch__input-before {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 50px;\r\n\t\theight: 30px;\r\n\t\tborder-radius: 15px;\r\n\t\ttransition: transform .3s\r\n\t}\r\n\r\n\t.fui-switch__before-bg {\r\n\t\tbackground: $fui-switch-background !important;\r\n\t}\r\n\r\n\t.fui-switch__input-after {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 30px;\r\n\t\theight: 30px;\r\n\t\tborder-radius: 15px;\r\n\t\tbox-shadow: $fui-switch-circle-shadow;\r\n\t\ttransition: transform .3s;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransform: translateX(0);\r\n\t}\r\n\r\n\t.fui-switch__after-bg {\r\n\t\tbackground: $fui-switch-background !important;\r\n\t}\r\n\r\n\r\n\t.fui-switch__input--before {\r\n\t\ttransform: scale(0)\r\n\t}\r\n\r\n\t.fui-switch__input--after {\r\n\t\ttransform: translateX(20px)\r\n\t}\r\n\r\n\r\n\t.fui-switch__check-mark {\r\n\t\twidth: 20rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 3px;\r\n\t\tborder-bottom-color: #FFFFFF;\r\n\t\tborder-right-style: solid;\r\n\t\tborder-right-width: 3px;\r\n\t\tborder-right-color: #FFFFFF;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\ttransform-origin: 54% 48%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-switch__circle-bg {\r\n\t\tbackground: $fui-switch-circle-background !important;\r\n\t}\r\n\r\n\t.fui-switch__mark-color {\r\n\t\t// border-bottom-color: $fui-checkbox-mark-color !important;\r\n\t\t// border-right-color: $fui-checkbox-mark-color !important;\r\n\t}\r\n\r\n\t.fui-switch__checkbox-disabled {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<view class=\"title\">\n\t\t\t<text class=\"title-text\">个人信息</text>\n\t\t</view>\n\t\t<view class=\"info\">\n\t\t\t<view class=\"info-item\">\n\t\t\t\t<text>账号</text>\n\t\t\t\t<text>18888888888</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-item nobottom\" @click=\"changePhoneNumber\">\n\t\t\t\t<text>手机号</text>\n\t\t\t\t<view class=\"phone\">\n\t\t\t\t\t<text>18888888888</text>\n\t\t\t\t\t<image class=\"icon\" src=\"@/static/mine/right.png\" mode=\"aspectFit\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"title\">\n\t\t\t<text>安全信息</text>\n\t\t</view>\n\t\t<view class=\"info\">\n\t\t\t<view class=\"info-item\" @click=\"editPassword\">\n\t\t\t\t<text>修改密码</text>\n\t\t\t\t<image class=\"icon\" src=\"@/static/mine/right.png\" mode=\"aspectFit\" />\n\t\t\t</view>\n\t\t\t<view class=\"info-item nobottom\" @click=\"cancelAnAccount\">\n\t\t\t\t<text>注销账号</text>\n\t\t\t\t<image class=\"icon\" src=\"@/static/mine/right.png\" mode=\"aspectFit\" />\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"title\">\n\t\t\t<text>第三方账号</text>\n\t\t</view>\n\t\t<view class=\"info\">\n\t\t\t<view class=\"info-item nobottom\">\n\t\t\t\t<text>微信</text>\n\t\t\t\t<view class=\"switch-state\">\n\t\t\t\t\t<text style=\"margin-right: 10rpx;\">{{switchVal ? '已绑定' : '未绑定'}}</text>\n\t\t\t\t\t<fui-switch :checked=\"switchVal\" color=\"#1296db\" @change=\"change\"></fui-switch>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"btn-box\">\n\t\t\t<fui-button color=\"#fff\" text=\"退出登陆\" background=\"#1296db\" @onclick=\"logout\"></fui-button>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\tconst switchVal = ref(false)\n\tconst change = () => {\n\t\tconst isCurrentlyBound = switchVal.value\n\t\tif (isCurrentlyBound) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认解绑',\n\t\t\t\tcontent: '确定要解除微信绑定吗？',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '确定',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.__log__('log','at pages/mine/userInfo/userInfo.uvue:62',res)\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.__log__('log','at pages/mine/userInfo/userInfo.uvue:64','调用解绑API...')\n\n\t\t\t\t\t\tswitchVal.value = false\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '已成功解绑微信',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if (res.cancel) {\n\t\t\t\t\t\tuni.__log__('log','at pages/mine/userInfo/userInfo.uvue:73','用户点击取消',isCurrentlyBound);\n\t\t\t\t\t\tswitchVal.value = isCurrentlyBound\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t})\n\t\t} else {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认绑定',\n\t\t\t\tcontent: '确定要绑定微信账号吗？',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '确定',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.__log__('log','at pages/mine/userInfo/userInfo.uvue:86','调用绑定API...')\n\n\t\t\t\t\t\tswitchVal.value = true\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '已成功绑定微信',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if (res.cancel) {\n\t\t\t\t\t\tuni.__log__('log','at pages/mine/userInfo/userInfo.uvue:94','用户点击取消',isCurrentlyBound);\n\t\t\t\t\t\tswitchVal.value = isCurrentlyBound\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\tconst logout = () => {\n\t\tuni.showModal({\n\t\t\tcontent: '确定退出登陆吗？',\n\t\t\tcancelText: '取消',\n\t\t\tconfirmText: '确定',\n\t\t\tsuccess(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '退出成功',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t//修改手机号\n\tconst changePhoneNumber = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/mine/userInfo/changePhoneNumber/changePhoneNumber'\n\t\t})\n\t}\n\n\t//注销账号\n\tconst cancelAnAccount = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/mine/userInfo/CancelAnAccount/CancelAnAccount'\n\t\t})\n\t}\n\t\n\t//修改密码\n\tconst editPassword = () => {\n\t\t//通过接口返回类型判断是去找回密码还是修改密码\n\t\tif(true){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/mine/userInfo/changePassword/changePassword'\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.container {\n\t\theight: 100%;\n\t\tbackground: #f3f3f3;\n\t\tpadding: 0 20rpx;\n\n\t\t.title {\n\t\t\tpadding: 50rpx 0 10rpx 20rpx;\n\t\t\t.title-text{\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t}\n\n\t\t.info {\n\t\t\tbackground: #fff;\n\t\t\tpadding: 10rpx 30rpx;\n\t\t\tborder-radius: 10rpx;\n\n\t\t\t.info-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\t;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\n\t\t\t\t.icon {\n\t\t\t\t\twidth: 30rpx;\n\t\t\t\t\theight: 30rpx;\n\t\t\t\t}\n\n\t\t\t\t.switch-state {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.phone {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.nobottom {\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\t\t}\n\n\t\t.btn-box {\n\t\t\tmargin-top: 200rpx;\n\t\t}\n\t}\n</style>","<template>\n\t<view class=\"container\">\n\t\t<image src=\"@/static/error_big.png\" class=\"close\"></image>\n\t\t<view class=\"content\">\n\t\t\t<text class=\"content-word\">账号注销后将会删除个人数据且无法恢复，请谨慎操作。</text>\n\t\t\t<text class=\"content-word\">注销前，请您自行备份重要数据及信息。</text>\n\t\t</view>\n\t\t<view class=\"btn-box\">\n\t\t\t<view class=\"btn\">\n\t\t\t\t<fui-button text=\"取消\" background=\"#fff\" color=\"#1296db\" borderColor=\"#666\" height=\"70rpx\"></fui-button>\n\t\t\t</view>\n\t\t\t<view class=\"btn\">\n\t\t\t\t<fui-button text=\"申请注销\" background=\"#1296db\" color=\"#fff\" height=\"70rpx\" @onclick=\"cancelAccount\"></fui-button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\tconst cancelAccount = () => {\n\t\tuni.showToast({\n\t\t\ttitle: '注销成功',\n\t\t\ticon: 'success',\n\t\t\tduration: 2000\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground: #F5F5F5;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 100rpx;\n\t\t.content{\n\t\t\tmargin: 50rpx 0;\n\t\t\t.content-word{\n\t\t\t\tmargin: 20rpx 0;\n\t\t\t}\n\t\t}\n\t\t.close{\n\t\t\twidth: 120rpx;\n\t\t\theight: 120rpx;\n\t\t}\n\t\t.btn-box{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\twidth: 100%;\n\t\t\t.btn{\n\t\t\t\twidth:45%\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","export default \"__VITE_ASSET__7e5e8159__\"","<template>\r\n\t<view class=\"fui-input__wrap\"\r\n\t\t:class=\"{'fui-input__border-uvue':inputBorder,'fui-input__border-color':inputBorder && borderColor=='','fui-input__disabled-styl':disabled && disabledStyle}\"\r\n\t\t:style=\"getStyle\" @tap=\"fieldClick\">\r\n\t\t<view v-if=\"borderTop && !inputBorder\"\r\n\t\t\t:style=\"{background:borderColor,left:`${topLeft}rpx`,right:`${topRight}rpx`}\" class=\"fui-input__border-top\"\r\n\t\t\t:class=\"{'fui-input__background':borderColor==''}\">\r\n\t\t</view>\r\n\r\n\r\n\r\n\r\n\t\t<view class=\"fui-input__required\" v-if=\"required\">\r\n\t\t\t<text :style=\"getRequiredColor\" class=\"fui-input__asterisk-text\"\r\n\t\t\t\t:class=\"{'fui-input__asterisk-color':requiredColor==''}\">*</text>\r\n\t\t</view>\r\n\t\t<view class=\"fui-input__label\" :style=\"{minWidth:`${labelWidth}rpx`}\" v-if=\"label!=''\">\r\n\t\t\t<text :class=\"{'fui-input__label-size':labelSize==0}\" :style=\"getLabelStyl\">{{label}}</text>\r\n\t\t</view>\r\n\t\t<slot name=\"left\"></slot>\r\n\t\t<input :ref=\"refId\" class=\"fui-input__self\" :class=\"{'fui-input__disabled':disabled || readonly,'fui-input__size':size==0}\"\r\n\t\t\t:style=\"{fontSize:`${size}rpx`,color:color,textAlign:textAlign}\" placeholder-class=\"fui-input__placeholder\"\r\n\t\t\t:type=\"type\" :name=\"name\" :value=\"val\" :placeholder=\"placeholder\" :password=\"password || type == 'password'\"\r\n\t\t\t:placeholder-style=\"placeholderStyle\" :disabled=\"disabled || readonly\" :cursor-spacing=\"cursorSpacing\"\r\n\t\t\t:maxlength=\"maxlength\" :confirm-type=\"confirmType\" :confirm-hold=\"confirmHold\" :cursor=\"cursor\"\r\n\t\t\t:selection-start=\"selectionStart\" :selection-end=\"selectionEnd\" :adjust-position=\"adjustPosition\"\r\n\t\t\t@focus=\"onFocus\" @blur=\"onBlur\" @input=\"onInput\" @confirm=\"onConfirm\"\r\n\t\t\t@keyboardheightchange=\"onKeyboardheightchange\" />\r\n\t\t<view class=\"fui-input__clear-wrap\" :style=\"{background:clearColor}\" v-if=\"clearable && val != ''\"\r\n\t\t\t@tap.stop=\"onClear\">\r\n\t\t\t<view class=\"fui-input__clear\">\r\n\t\t\t\t<view class=\"fui-input__clear-a\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fui-input__clear\">\r\n\t\t\t\t<view class=\"fui-input__clear-b\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<slot></slot>\r\n\t\t<view v-if=\"borderBottom  && !inputBorder\" :style=\"getBtnLineStyl\" class=\"fui-input__border-bottom\"\r\n\t\t\t:class=\"{'fui-input__background':borderColor==''}\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Input 输入框\r\n\t * @description Input 输入框，该组件是对原生input组件的增强，内置了常用布局样式，同时包含 input 所有功能。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Boolean} required {Boolean} 是否显示必填图标\r\n\t * @property {String} requiredColor {String} 必填图标颜色\t\r\n\t * @property {String} label {String} 左侧标题\r\n\t * @property {Number} labelSize {Number} 标题字体大小，单位rpx\r\n\t * @property {String} labelColor {String} 标题字体颜色\r\n\t * @property {Number} labelWidth {Number} 标题最小宽度，单位rpx\r\n\t * @property {Boolean} clearable {Boolean} 输入内容后是否显示清除按钮\r\n\t * @property {String} clearColor {String} 清除按钮颜色\r\n\t * @property {Boolean} focus {Boolean} 获取焦点\r\n\t * @property {String} placeholder {String} 输入框为空时占位符\r\n\t * @property {String} placeholderStyle {String}\t指定 placeholder 的样式\r\n\t * @property {String} name {String} 输入框名称\r\n\t * @property {String} value {String} 输入框值\r\n\t * @property {String} type {String} 输入框类型，参考官方 input 组件type属性\r\n\t * @property {Boolean} password {Boolean} 是否是密码类型\t\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用，清除按钮一并失效\r\n\t * @property {Boolean} disabledStyle {Boolean} 是否启用禁用状态下的样式，与正常输入框样式略有区别，仅disabled为true时有效\r\n\t * @property {Boolean} readonly {Boolean} 是否只读，保留清除按钮使用，优先级高于disabled\r\n\t * @property {Number} maxlength {Number} 最大输入长度，设置为 -1 的时候不限制最大长度\r\n\t * @property {Number} min {Number} 最小值，当 type=number、type=digit 时有效\r\n\t * @property {Number} max {Number} 最小值，当ype=number、type=digit 时有效\r\n\t * @property {Number} cursorSpacing {Number} 指定光标与键盘的距离，单位 px \r\n\t * @property {String} cursorColor {String} 光标颜色\r\n\t * @property {String} confirmType {String} 设置键盘右下角按钮的文字，仅在 type=\"text\" 时生效\r\n\t * @property {Boolean} confirmHold {Boolean} 点击键盘右下角按钮时是否保持键盘不收起\r\n\t * @property {Number} cursor {Number} 指定focus时的光标位置\r\n\t * @property {Number} selectionStart {Number} 光标起始位置，自动聚集时有效，需与selection-end搭配使用\r\n\t * @property {Number} selectionEnd {Number}\t光标结束位置，自动聚集时有效，需与selection-start搭配使用\r\n\t * @property {Boolean} adjustPosition {Boolean}\t键盘弹起时，是否自动上推页面\r\n\t * @property {Number} size {Number}\t输入框字体大小，单位 rpx\r\n\t * @property {String} color {String} 输入框字体颜色\r\n\t * @property {Boolean} inputBorder {Boolean} 是否显示input边框，为true则属性borderTop，borderBottom失效\r\n\t * @property {Boolean} isFillet {Boolean} input是否显示为圆角，设置为true则属性radius失效\r\n\t * @property {Number} radius {Number} 自定义input圆角值，单位rpx\r\n\t * @property {Boolean} borderTop {Boolean} 是否显示上边框\t\r\n\t * @property {Number} topLeft {Number} 上边框left值，单位rpx\r\n\t * @property {Number} topRight {Number} 上边框right值，单位rpx\r\n\t * @property {Boolean} borderBottom {Boolean} 是否显示下边框\r\n\t * @property {Number} bottomLeft {Number} 下边框right值，单位rpx\r\n\t * @property {Number} bottomRight {Number} 下边框right值，单位rpx\r\n\t * @property {String} borderColor {String} 边框颜色\r\n\t * @property {Boolean} trim\t {Boolean} 是否自动去除两端的空格\r\n\t * @property {String} textAlign {String} 输入框内容对齐方式，可选值：left、center、right\r\n\t * @property {String} padding {String} 输入框padding值\r\n\t * @property {String} backgroundColor {String} 输入框背景颜色\r\n\t * @property {Number} marginTop {Number} 输入框margin-top值,单位rpx\r\n\t * @event {Function} onclick 点击输入框时触发，(event:string) => void\r\n\t * @event {Function} input 当键盘输入时，触发input事件，(event: string) => void\r\n\t * @event {Function} update:modelValue 输入框值改变时触发，用于双向绑定 (event: string) => void\r\n\t * @event {Function} focus 输入框聚焦时触发，(event: UniInputFocusEvent) => void\r\n\t * @event {Function} blur 输入框失去焦点时触发，(event: UniInputBlurEvent) => void\r\n\t * @event {Function} confirm 点击完成按钮时触发，(event: UniInputConfirmEvent) => void\r\n\t * @event {Function} keyboardheightchange 键盘高度发生变化的时候触发此事件，(event: UniInputKeyboardHeightChangeEvent) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-input\",\r\n\t\temits: ['input', 'update:modelValue', 'focus', 'blur', 'confirm', 'onclick', 'keyboardheightchange'],\r\n\t\tprops: {\r\n\t\t\trequired: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\trequiredColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tlabel: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tlabelSize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tlabelColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#333'\r\n\t\t\t},\r\n\t\t\tlabelWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 140\r\n\t\t\t},\r\n\t\t\tclearable: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tclearColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#CCCCCC'\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tplaceholderStyle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t//保留属性\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'text'\r\n\t\t\t},\r\n\t\t\tpassword: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabledStyle: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\treadonly: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 140\r\n\t\t\t},\r\n\t\t\tmin: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tmax: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tcursorSpacing: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t\tcursorColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tconfirmType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'done'\r\n\t\t\t},\r\n\t\t\tconfirmHold: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tcursor: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionStart: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionEnd: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tadjustPosition: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#333'\r\n\t\t\t},\r\n\t\t\tinputBorder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tisFillet: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderTop: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttopLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\ttopRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderBottom: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tbottomLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 32\r\n\t\t\t},\r\n\t\t\tbottomRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttrim: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\ttextAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\tpadding: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '28rpx 32rpx'\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#FFFFFF'\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst refInputId = `fui_input_${parseInt(Math.ceil(Math.random() * 10e5).toString(), 36)}`;\r\n\t\t\treturn {\r\n\t\t\t\trefId: refInputId,\r\n\t\t\t\tval: '',\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance,\r\n\t\t\t\t//1-string 2-number 3-boolean 4-string[] 5-number[]\r\n\t\t\t\tvalueType: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyle() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('padding', this.padding);\r\n\t\t\t\tmp.set('background', this.backgroundColor);\r\n\t\t\t\tmp.set('margin-top', `${this.marginTop}rpx`);\r\n\t\t\t\tmp.set('border-radius', this.isFillet ? '120px' : `${this.radius}rpx`);\r\n\r\n\t\t\t\tif (this.inputBorder && this.borderColor != '') mp.set('border-color', this.borderColor);\r\n\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetBorderRadius() : string {\r\n\t\t\t\tlet radius = `${this.radius * 2}rpx`\r\n\t\t\t\tif (this.isFillet) {\r\n\t\t\t\t\tradius = '240px'\r\n\t\t\t\t}\r\n\t\t\t\treturn radius;\r\n\t\t\t},\r\n\t\t\tgetBtnLineStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.borderColor != '') mp.set('background', this.borderColor);\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t//app端left值与父元素padding-left一致【待修复】\r\n\r\n\t\t\t\tmp.set('left', `0`);\r\n\r\n\t\t\t\tmp.set('right', `${this.bottomRight}rpx`);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetRequiredColor() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.requiredColor != '') mp.set('color', this.requiredColor);\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetLabelStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.labelColor != '') mp.set('color', this.labelColor);\r\n\t\t\t\tif (this.labelSize != 0) {\r\n\t\t\t\t\tmp.set('fontSize', `${this.labelSize}rpx`);\r\n\t\t\t\t\tmp.set('lineHeight', `${this.labelSize}rpx`);\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tfocus(val : boolean) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.setFocusOrBlur(val)\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmodelValue() {\r\n\t\t\t\tthis.val = this.getStringVal(this.modelValue)\r\n\t\t\t},\r\n\t\t\tvalue() {\r\n\t\t\t\tthis.val = this.getStringVal(this.value)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst value = this.getStringVal(this.value)\r\n\t\t\t\tconst modelValue = this.getStringVal(this.modelValue)\r\n\t\t\t\tif (value != '') {\r\n\t\t\t\t\tthis.val = value\r\n\t\t\t\t} else if (modelValue != '') {\r\n\t\t\t\t\tthis.val = modelValue\r\n\t\t\t\t}\r\n\t\t\t\t//用于submit、reset事件\r\n\t\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\t\tif (isForm) {\r\n\t\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\t}\r\n\t\t\t}, 50)\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setFocusOrBlur(this.focus)\r\n\t\t\t\t}, 300)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetStringVal(val : any) : string {\r\n\t\t\t\tlet str : string;\r\n\t\t\t\tif (typeof val == 'string') {\r\n\t\t\t\t\tstr = val as string;\r\n\t\t\t\t} else if (typeof val == 'number') {\r\n\t\t\t\t\tstr = (val as number).toString()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstr = val.toString()\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\tsetFocusOrBlur(focus : boolean) {\r\n\t\t\t\tif (focus) {\r\n\t\t\t\t\t(this.$refs[this.refId] as UniElement).focus()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(this.$refs[this.refId] as UniElement).blur()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisSafeInteger(num : number) : boolean {\r\n\t\t\t\treturn num >= -9007199254740991 && num <= 9007199254740991;\r\n\t\t\t},\r\n\t\t\tonInput(event : UniInputEvent) {\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\tif (this.trim) value = this.trimStr(value);\r\n\t\t\t\tthis.val = value;\r\n\t\t\t\tlet currentVal = parseFloat(value)\r\n\t\t\t\t// -9007199254740992 ～ 9007199254740992\r\n\t\t\t\tif ((this.type == 'digit' || this.type == 'number') && !\r\n\t\t\t\t\tisNaN(currentVal) && this.isSafeInteger(currentVal)) {\r\n\t\t\t\t\tconst min = this.min\r\n\t\t\t\t\tconst max = this.max\r\n\t\t\t\t\tif (min != -1 && currentVal < min) {\r\n\t\t\t\t\t\tcurrentVal = min\r\n\t\t\t\t\t} else if (max != -1 && max < currentVal) {\r\n\t\t\t\t\t\tcurrentVal = max\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue = currentVal.toString()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t//当输入框为空时，输入框显示不赋值为0\r\n\t\t\t\t\tif (event.detail.value != '') this.val = value;\r\n\t\t\t\t})\r\n\t\t\t\t//如果为空时返回0 ，当双向绑定会将输入框赋值0\r\n\t\t\t\tconst inputValue = event.detail.value != '' ? value : ''\r\n\t\t\t\tthis.$emit('input', inputValue);\r\n\t\t\t\tthis.$emit('update:modelValue', inputValue)\r\n\t\t\t},\r\n\t\t\tonFocus(event : UniInputFocusEvent) {\r\n\t\t\t\tthis.$emit('focus', event);\r\n\t\t\t},\r\n\t\t\tonBlur(event : UniInputBlurEvent) {\r\n\t\t\t\tthis.$emit('blur', event);\r\n\t\t\t},\r\n\t\t\tonConfirm(event : UniInputConfirmEvent) {\r\n\t\t\t\tthis.$emit('confirm', event);\r\n\t\t\t},\r\n\t\t\tonClear() {\r\n\t\t\t\tif (this.disabled && !this.readonly) return;\r\n\t\t\t\tthis.setFocusOrBlur(false)\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t\tthis.$emit('update:modelValue', '')\r\n\t\t\t},\r\n\t\t\tfieldClick() {\r\n\t\t\t\tthis.$emit('onclick', this.name);\r\n\t\t\t},\r\n\t\t\tonKeyboardheightchange(e : UniInputKeyboardHeightChangeEvent) {\r\n\t\t\t\tthis.$emit('keyboardheightchange', e)\r\n\t\t\t},\r\n\t\t\ttrimStr(str : string) : string {\r\n\t\t\t\treturn str.replace(/^\\s+|\\s+$/g, '');\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.setFocusOrBlur(false)\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t\tthis.$emit('update:modelValue', '')\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string {\r\n\t\t\t\treturn this.val\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-border: #EEEEEE !default;\r\n\t$fui-placeholder-color: #CCCCCC !default;\r\n\t$fui-input-border-width: 1px !default;\r\n\t$fui-input-label-size: 32rpx !default;\r\n\t$fui-input-size: 32rpx !default;\r\n\r\n\t.fui-input__wrap {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\r\n\r\n\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\r\n\t.fui-input__border-uvue {\r\n\t\tborder-width: 0.5px;\r\n\t\tborder-style: solid;\r\n\t}\r\n\r\n\r\n\r\n\t.fui-input__border-color {\r\n\t\tborder-color: $fui-color-border !important;\r\n\t}\r\n\r\n\t.fui-input__background {\r\n\t\tbackground: $fui-color-border !important;\r\n\t}\r\n\r\n\t.fui-input__border-top {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\theight: $fui-input-border-width;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 0;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-input__border-bottom {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\theight: $fui-input-border-width;\r\n\t\ttransform: scaleY(0.5);\r\n\t\ttransform-origin: 0 100%;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.fui-input__required {\r\n\r\n\r\n\r\n\t\tposition: absolute;\r\n\t\tleft: 12rpx;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.fui-input__asterisk-text {\r\n\t\tfont-size: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tline-height: 32rpx;\r\n\t}\r\n\r\n\t.fui-input__asterisk-color {\r\n\t\tcolor: $fui-color-danger !important;\r\n\t}\r\n\r\n\r\n\t.fui-input__label {\r\n\t\tpadding-right: 12rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.fui-input__label-size {\r\n\t\tfont-size: $fui-input-label-size !important;\r\n\t\tline-height: $fui-input-label-size !important;\r\n\t}\r\n\r\n\r\n\t.fui-input__self {\r\n\t\tflex: 1;\r\n\t\tpadding-right: 12rpx;\r\n\t\toverflow: visible;\r\n\t\tbackground-color: transparent;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__size {\r\n\t\tfont-size: $fui-input-size !important;\r\n\t}\r\n\r\n\t.fui-input__clear-wrap {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\ttransform: rotate(45deg) scale(1.1);\r\n\t\tposition: relative;\r\n\t\tflex-shrink: 0;\r\n\t\tborder-radius: 32rpx;\r\n\t}\r\n\r\n\t.fui-input__clear {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\ttransform: scale(0.5);\r\n\t}\r\n\r\n\t.fui-input__clear-a {\r\n\t\twidth: 32rpx;\r\n\t\tborder: 2rpx solid #fff;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__clear-b {\r\n\t\theight: 32rpx;\r\n\t\tborder: 2rpx solid #fff;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.fui-input__placeholder {\r\n\t\tcolor: $fui-placeholder-color;\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.fui-input__disabled {\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.fui-input__disabled-styl {\r\n\t\topacity: .6;\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<fui-input placeholder=\"请输入手机号\" placeholderStyle=\"font-size: 26rpx;\">\n\t\t\t\t<template v-slot:left>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<!-- <image class=\"icon\" src=\"@/static/phone.png\"></image> -->\n\t\t\t\t\t\t<fui-icon name=\"mobile\" color=\"#1296db\" :size=\"48\"></fui-icon>\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t</fui-input>\n\t\t\t<fui-input padding=\"20rpx 32rpx\" placeholder=\"请输入验证码\" :bottomLeft=\"0\" placeholderStyle=\"font-size: 26rpx;\">\n\t\t\t\t<template v-slot:left>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<fui-icon name=\"captcha\" color=\"#1296db\" :size=\"48\"></fui-icon>\n\t\t\t\t\t\t<!-- <image class=\"icon\" src=\"@/static/captcha.png\"></image> -->\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t\t<fui-button \n\t\t\t\t\ttype=\"gray\" \n\t\t\t\t\twidth=\"200rpx\" \n\t\t\t\t\theight=\"64rpx\" \n\t\t\t\t\t:size=\"28\" \n\t\t\t\t\t@click=\"getPsw\" \n\t\t\t\t\t:text=\"btnWord\"\n\t\t\t\t\t:disabled=\"isCounting\"\n\t\t\t\t></fui-button>\n\t\t\t</fui-input>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\t\n\tconst btnWord = ref('获取验证码')\n\tconst isCounting = ref(false)\n\t\n\tfunction countDown(seconds: number) {\n\t\tif (seconds <= 0) {\n\t\t\tbtnWord.value = '获取验证码'\n\t\t\tisCounting.value = false\n\t\t\treturn\n\t\t}\n\t\t\n\t\tbtnWord.value = `${seconds}秒后重发`\n\n\t\tsetTimeout(() => {\n\t\t\tcountDown(seconds - 1)\n\t\t}, 1000)\n\t}\n\t\n\tconst getPsw = () => {\n\t\tif (isCounting.value) return\n\t\t\n\t\tuni.__log__('log','at pages/mine/userInfo/changePhoneNumber/changePhoneNumber.uvue:56','发送验证码请求...')\n\t\tisCounting.value = true\n\t\t\n\t\tcountDown(60)\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container {\n\t\theight: 100%;\n\t\tbackground: #f3f3f3;\n\t\tpadding: 0 20rpx;\n\n\t\t.content {\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 30rpx;\n\t\t\tborder-radius: 10rpx;\n\t\t\t.icon{\n\t\t\t\twidth:40rpx;\n\t\t\t\theight:40rpx;\n\t\t\t\tmargin-right: 10rpx;\n\t\t\t}\n\t\t}\n\t}\n</style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"content\">\r\n\t\t\t<fui-input label=\"旧密码\" placeholder=\"请输入原密码\" type=\"password\" :modelValue=\"oldPassword\"\r\n\t\t\t\t@input=\"updateOldPassword\"></fui-input>\r\n\t\t\t<fui-input label=\"新密码\" placeholder=\"请输入新密码\" type=\"password\" :modelValue=\"newPassword\"\r\n\t\t\t\t@input=\"updateNewPassword\"></fui-input>\r\n\t\t\t<fui-input label=\"确认新密码\" placeholder=\"再次输入新密码\" type=\"password\" :modelValue=\"confirmPassword\"\r\n\t\t\t\t@input=\"updateConfirmPassword\"></fui-input>\r\n\t\t</view>\r\n\t\t<view v-if=\"errorMsg\">\r\n\t\t\t<text class=\"error-msg\">{{errorMsg}}</text>\r\n\t\t</view>\r\n\t\t<view class=\"tips\">\r\n\t\t\t<text class=\"tips-word\">密码8-16位,需包含英文字母、数字、特殊字符中两类及以上</text>\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t\t<fui-button color=\"#fff\" :disabled=\"btnDisabled\" text=\"提交\" background=\"#1296db\" height=\"80rpx\"\r\n\t\t\t\t@onclick=\"submit\"></fui-button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\r\n\tconst oldPassword = ref<string>('')\r\n\tconst newPassword = ref<string>('')\r\n\tconst confirmPassword = ref<string>('')\r\n\tconst btnDisabled = ref<boolean>(true)\r\n\tconst errorMsg = ref<string>('') // 错误提示信息\r\n\r\n\t// 增强密码规则：必须包含两类及以上字符\r\n\tconst passwordReg = /^(?:(?=.*[a-zA-Z])(?=.*\\d)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z\\d])|(?=.*\\d)(?=.*[^a-zA-Z\\d])).{8,16}$/\r\n\r\n\t// 验证密码格式\r\n\tfunction verPassword(psw : string) : boolean {\r\n\t\treturn passwordReg.test(psw)\r\n\t}\r\n\r\n\t// 更新按钮状态\r\n\tconst updateBtnState = () => {\r\n\t\tconst allFieldsFilled = oldPassword.value.length > 0 &&\r\n\t\t\tnewPassword.value.length > 0 &&\r\n\t\t\tconfirmPassword.value.length > 0\r\n\r\n\t\tconst passwordsMatch = newPassword.value === confirmPassword.value\r\n\t\tconst newPwdValid = verPassword(newPassword.value)\r\n\r\n\t\tbtnDisabled.value = !(allFieldsFilled && newPwdValid && passwordsMatch)\r\n\t}\r\n\r\n\t// 更新旧密码\r\n\tconst updateOldPassword = (e : string) => {\r\n\t\toldPassword.value = e\r\n\t\tupdateBtnState()\r\n\t}\r\n\r\n\t// 更新新密码\r\n\tconst updateNewPassword = (e : string) => {\r\n\t\tnewPassword.value = e\r\n\t\terrorMsg.value = ''\r\n\r\n\t\tif (e.length > 0 && !verPassword(e)) {\r\n\t\t\terrorMsg.value = '密码格式不符合要求'\r\n\t\t} else if (confirmPassword.value.length > 0 && e != confirmPassword.value) {\r\n\t\t\terrorMsg.value = '两次输入的密码不一致'\r\n\t\t}\r\n\r\n\t\tupdateBtnState()\r\n\t}\r\n\r\n\t// 更新确认密码\r\n\tconst updateConfirmPassword = (e : string) => {\r\n\t\tconfirmPassword.value = e\r\n\t\terrorMsg.value = ''\r\n\r\n\t\tif (e.length > 0) {\r\n\t\t\tif (!verPassword(e)) {\r\n\t\t\t\terrorMsg.value = '确认密码格式不符合要求'\r\n\t\t\t} else if (e != newPassword.value) {\r\n\t\t\t\terrorMsg.value = '两次输入的密码不一致'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateBtnState()\r\n\t}\r\n\r\n\t// 提交表单\r\n\tconst submit = () => {\r\n\t\tif (!verPassword(newPassword.value)) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '密码格式错误',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (newPassword.value != confirmPassword.value) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '两次密码不一致',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '提交成功',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 50rpx 20rpx;\r\n\r\n\t\t.fui-input__label-size {\r\n\t\t\tfont-size: 26rpx !important;\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t}\r\n\r\n\t\t.tips {\r\n\t\t\tmargin: 40rpx 0;\r\n\r\n\t\t\t.tips-word {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.error-msg {\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #e64340;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n</style>","<template>\n\t<view class=\"l-progress\" :class=\"classes\" ref=\"progressRef\">\n\n\t\t<text v-if=\"showInfo && infoAlign == 'start' && infoType == 'outer'\" :style=\"[textStyle]\" >{{percent + '%'}}</text>\n\t\t<view class=\"l-progress__inner\" ref=\"progressInnerRef\" :style=\"[innerStyle]\">\n\t\t\t<view ref=\"progressBgRef\" class=\"l-progress-bg\" :style=\"[styles]\">\n\t\t\t\t<text class=\"l-progress__inner-text\" ref=\"textRef\" :style=\"[textStyle]\" v-if=\"showInfo && infoType == 'inner'\">{{percent + '%'}}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<text :style=\"[textStyle]\" v-if=\"showInfo && infoAlign == 'end' && infoType == 'outer'\">{{percent + '%'}}</text>\n\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Progress 进度条组件\n\t * @description 用于展示操作或任务的进度，支持线性进度显示和多种样式配置\n\t * <br>插件类型：LProgressComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-progress\n\t * \n\t * @property {boolean} showInfo 是否显示进度文本（默认：false）\n\t * @property {string} infoType 进度信息显示方式\n\t * @value outer 在进度条外部显示\n\t * @property {string} infoAlign 文本对齐方式（默认：end）\n\t * @value start\n\t * @value end\n\t * @property {string | string[]} strokeColor 进度条颜色（支持渐变色数组）\n\t * @property {string} trailColor 轨道背景色（默认：rgba(0, 0, 0, 0.06)）\n\t * @property {string} linecap 进度条端点形状（'round' | 'square'）\n\t * @value round \n\t * @value square \n\t * @property {string} infoColor 进度文本颜色\n\t * @property {string | number} fontSize 文本字号（支持CSS单位）\n\t * @property {string | number} strokeWidth 进度条粗细（支持CSS单位，默认：4px）\n\t */\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\n\timport { ProgressProps } from './types';\n\n\timport { addUnit } from '@/uni_modules/lime-shared/addUnit'\n\n\n\n\n\n\n\t\n\tconst props = withDefaults(defineProps<ProgressProps>(), {\n\t\t// percent: 0,\n\t\tshowInfo: false,\n\t\tinfoAlign: 'end',\n\t\tinfoType: 'outer',\n\n\n\n\n\n\n\n\n\t})\n\tconst percent = defineModel('percent', {type: Number, default: 0})\n\t\n\tconst classes = computed(():Map<string, boolean> => {\n\t\tconst _class = new Map<string, boolean>()\n\n\t\tif(props.infoType == 'outer') {\n\t\t\t_class.set('l-progress--outer', true)\n\t\t}\n\t\t\n\t\tif(props.infoType == 'inner') {\n\t\t\t_class.set('l-progress--inner', true)\n\t\t}\n\n\t\treturn _class\n\t})\n\t\n\n\tconst textRef = ref<UniTextElement|null>(null)\n\tconst progressBgRef = ref<UniElement|null>(null)\n\t\n\tconst styles = computed(():Map<string, any> => {\n\t\tconst _style = new Map<string, any>();\n\n\n\n\t\tif(props.strokeColor != null) {\n\n\n\n\n\t\t\t_style.set('background', props.strokeColor!)\n\n\t\t}\n\t\tif(props.strokeWidth != null) {\n\n\n\n\n\t\t\t_style.set('height', addUnit(props.strokeWidth))\n\n\t\t}\n\t\tif(props.infoType == 'inner') {\n\t\t\tif(props.infoAlign == 'end') {\n\t\t\t\t_style.set('align-items', `flex-end`)\n\t\t\t} else {\n\t\t\t\t_style.set('align-items', `flex-start`)\n\t\t\t}\n\n\t\t\t// const width = props.showInfo ? Math.max(percent.value, textRef.value?.offsetWidth ?? 10) : percent.value\n\t\t\t// _style.set('width', `${ width }%`)\n\t\t\tif(props.strokeWidth != null) {\n\t\t\t\t_style.set('height', addUnit(props.strokeWidth ?? 20))\n\t\t\t}\n\n\t\t}\n\t\treturn _style\n\t})\n\tconst textStyle = computed(():Map<string, any> => {\n\t\tconst _style = new Map<string, any>();\n\t\t\n\t\tif(props.infoColor != null) {\n\t\t\t_style.set('color', props.infoColor!)\n\t\t}\n\n\t\tif(props.showInfo && props.infoType == 'outer') {\n\t\t\t_style.set(props.infoAlign == 'end' ? 'margin-left' : 'margin-right',  '5px')\n\t\t}\n\n\t\treturn _style\n\t})\n\t\n\tconst innerStyle = computed(():Map<string, any> => {\n\t\tconst _style = new Map<string, any>();\n\t\t\n\t\tif(props.trailColor != null) {\n\t\t\t_style.set('background', props.trailColor!)\n\t\t}\n\t\t\n\t\treturn _style\n\t})\n\t\n\n\t\n\t\n\n\tconst progressInnerRef = ref<UniElement|null>(null)\n\twatchEffect(async()=>{\n\t\tif(percent.value >= 0) {\n\t\t\tif(props.infoType == 'inner') {\n\t\t\t\tconst rect = await progressInnerRef.value?.getBoundingClientRectAsync()\n\t\t\t\tconst textRect = await textRef.value?.getBoundingClientRectAsync()\n\t\t\t\tconst width = props.showInfo ? Math.max(percent.value,  Math.max(rect?.height / rect?.width, (textRect?.width / rect?.width))  * 100 ?? 10) : percent.value\n\t\n\t\t\t\tprogressBgRef.value?.style.setProperty('width', `${ width }%`)\n\t\t\t} else {\n\t\t\t\tprogressBgRef.value?.style.setProperty('width', `${percent.value}%`)\n\t\t\t}\n\t\t}\n\t})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"device-total\">\r\n\t\t\t<view class=\"device-total-title\">\r\n\t\t\t\t<text>充值设备</text>\r\n\t\t\t\t<text class=\"device-total-title-color\">（共{{totalDevice}}台设备）</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-total-title\">\r\n\t\t\t\t<text @click=\"showPopup\">更换设备</text>\r\n\t\t\t\t<fui-icon name=\"arrowright\" :size=\"50\"></fui-icon>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"device-info-box\">\r\n\t\t\t<text class=\"device-title\">设备信息</text>\r\n\t\t\t<view class=\"device-info-item\">\r\n\t\t\t\t<text>ICCID</text>\r\n\t\t\t\t<view class=\"iccid-info\">\r\n\t\t\t\t\t<text style=\"margin-right:10rpx\">{{currentDeviceInfo.iccid}}</text>\r\n\t\t\t\t\t<l-icon name=\"file-copy\" color=\"#666\" size=\"16\" @click=\"copyRight\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-info-item\">\r\n\t\t\t\t<text>卡号</text>\r\n\t\t\t\t<text>{{currentDeviceInfo.cardid}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-info-item\">\r\n\t\t\t\t<text>卡片状态</text>\r\n\t\t\t\t<text>{{currentDeviceInfo.cardState}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-info-item\">\r\n\t\t\t\t<text>当前套餐</text>\r\n\t\t\t\t<text>{{currentDeviceInfo.currentPackage}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-info-item add-style\">\r\n\t\t\t\t<text>生效日期</text>\r\n\t\t\t\t<text>{{currentDeviceInfo.useDate}}</text>\r\n\t\t\t</view>\r\n\t\t\t<text>流量</text>\r\n\t\t\t<view class=\"progess\">\r\n\t\t\t\t<l-progress :percent=\"currentDeviceInfo.percent\" :show-info=\"true\"></l-progress>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"device-info-item\">\r\n\t\t\t\t<text>已用50G(50%)</text>\r\n\t\t\t\t<text>可用50G(共100G)</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn-box\">\r\n\t\t\t<fui-button color=\"#fff\" text=\"去充值\" background=\"#1296db\" height=\"80rpx\" @onclick=\"submit\"></fui-button>\r\n\t\t</view>\r\n\r\n\t\t<fui-bottom-popup :visible=\"isShow\" @close=\"closePopup\">\r\n\t\t\t<view class=\"fui-scroll__wrap\">\r\n\t\t\t\t<view class=\"popup-title\">\r\n\t\t\t\t\t<text>设备列表</text>\r\n\t\t\t\t\t<view @click=\"closePopup\">\r\n\t\t\t\t\t\t<fui-icon name=\"close\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<fui-radio-group @change=\"getValue\">\r\n\t\t\t\t\t<fui-label v-for=\"(item,index) in radioItems\" :key=\"index\">\r\n\t\t\t\t\t\t<fui-list-cell>\r\n\t\t\t\t\t\t\t<view class=\"fui-list__cell\">\r\n\t\t\t\t\t\t\t\t<text>{{item.deviceTitle}}</text>\r\n\t\t\t\t\t\t\t\t<fui-radio :checked=\"item.checked\" :value=\"item.iccid\">\r\n\t\t\t\t\t\t\t\t</fui-radio>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</fui-list-cell>\r\n\t\t\t\t\t</fui-label>\r\n\t\t\t\t</fui-radio-group>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref, onMounted } from 'vue'\r\n\r\n\ttype RadioItem = {\r\n\t\tdeviceTitle : string;\r\n\t\ticcid : string;\r\n\t\tcardid : string;\r\n\t\tcardState : string;\r\n\t\tcurrentPackage : string;\r\n\t\tuseDate : string;\r\n\t\tpercent : number;\r\n\t\ttotal : string;\r\n\t\tchecked ?: boolean;\r\n\t}\r\n\r\n\tconst totalDevice = ref<number>(4)\r\n\tconst percent = ref<number>(50)\r\n\tconst isShow = ref<boolean>(false)\r\n\t\t\r\n\tconst currentDeviceInfo = ref<RadioItem>({\r\n\t\tdeviceTitle: '',\r\n\t\ticcid: '',\r\n\t\tcardid: '',\r\n\t\tcardState: '',\r\n\t\tcurrentPackage: '',\r\n\t\tuseDate: '',\r\n\t\tpercent: 0,\r\n\t\ttotal: '',\r\n\t\tchecked: true,\r\n\t})\r\n\r\n\tconst radioItems = ref<RadioItem[]>([{\r\n\t\tdeviceTitle: '设备信息',\r\n\t\ticcid: '1123456667777887',\r\n\t\tcardid: '13000001111',\r\n\t\tcardState: '在用',\r\n\t\tcurrentPackage: '店长推荐【终身流量】',\r\n\t\tuseDate: '2025-07-07',\r\n\t\tpercent: 50,\r\n\t\ttotal: '100',\r\n\t},\r\n\t{\r\n\t\tdeviceTitle: '设备信息1',\r\n\t\ticcid: '1123456667777888',\r\n\t\tcardid: '13000001111',\r\n\t\tcardState: '停机',\r\n\t\tcurrentPackage: '店长推荐【100G流量】',\r\n\t\tuseDate: '2025-07-08',\r\n\t\tpercent: 70,\r\n\t\ttotal: '200',\r\n\t},\r\n\t{\r\n\t\tdeviceTitle: '设备信息2',\r\n\t\tcardid: '13000001111',\r\n\t\ticcid: '310203030443',\r\n\t\tcardState: '注销',\r\n\t\tcurrentPackage: '加油包',\r\n\t\tuseDate: '2025-07-09',\r\n\t\tpercent: 100,\r\n\t\ttotal: '300',\r\n\t}])\r\n\r\n\r\n\r\n\tconst getValue = (e : string) => {\r\n\t\tconst selectedItem = radioItems.value.find(item => item.iccid == e)\r\n\t\tif (selectedItem != null) {\r\n\t\t\tselectedItem.checked = true\r\n\t\t\tcurrentDeviceInfo.value = selectedItem\r\n\t\t}\r\n\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '更换成功',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tconst currentInfo = () => {\r\n\t\tradioItems.value.forEach(item => {\r\n\t\t\titem.checked = false\r\n\t\t})\r\n\t\tradioItems.value[0].checked = true\r\n\t\tcurrentDeviceInfo.value = radioItems.value[0]\r\n\t}\r\n\r\n\tconst showPopup = () => {\r\n\t\tisShow.value = true\r\n\t}\r\n\r\n\tconst closePopup = () => {\r\n\t\tisShow.value = false\r\n\t}\r\n\r\n\tconst submit = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '去充值',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst copyRight = () => {\r\n\t\tuni.setClipboardData({\r\n\t\t\tdata: currentDeviceInfo.value.iccid,\r\n\t\t\tsuccess: function () {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '复制成功',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tcurrentInfo()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 30rpx 20rpx;\r\n\r\n\t\t.device-total {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.device-total-title {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.device-total-title-color {\r\n\t\t\t\t\tcolor: #999\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.device-info-box {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tpadding: 30rpx 40rpx;\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\r\n\t\t\t.device-title {\r\n\t\t\t\tfont-size: 35rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.device-info-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t.iccid-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.add-style {\r\n\t\t\t\tpadding-bottom: 60rpx;\r\n\t\t\t\tborder-bottom: 1rpx solid #999;\r\n\t\t\t\tmargin-bottom: 60rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.progess {\r\n\t\t\t\tmargin: 10rpx 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn-box {\r\n\t\t\tmargin-top: 60rpx;\r\n\t\t}\r\n\r\n\t\t.popup-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.fui-scroll__wrap {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.fui-sub__title {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #7F7F7F;\r\n\t\t\ttransform: scale(.9);\r\n\t\t}\r\n\r\n\t\t.fui-scroll__view {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50%;\r\n\t\t}\r\n\r\n\t\t.fui-list__cell {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t}\r\n</style>","export type RGB = {\r\n\tr : number;\r\n\tg : number;\r\n\tb : number;\r\n}\r\nexport type RGBA = {\r\n\tr : number;\r\n\tg : number;\r\n\tb : number;\r\n\ta : number;\r\n}\r\nexport type RGBAString = {\r\n\tr : string;\r\n\tg : string;\r\n\tb : string;\r\n\ta : number;\r\n}\r\nexport type HSL = {\r\n\th : number;\r\n\ts : number;\r\n\tl : number;\r\n}\r\n\r\nexport type HSLA = {\r\n\th : number;\r\n\ts : number;\r\n\tl : number;\r\n\ta : number;\r\n}\r\nexport type HSV = {\r\n\th : number;\r\n\ts : number;\r\n\tv : number;\r\n}\r\n\r\nexport type HSVA = {\r\n\th : number;\r\n\ts : number;\r\n\tv : number;\r\n\ta : number;\r\n}\r\n\r\n// 增加部分\r\nexport type HSB = {\r\n\th : number;\r\n\ts : number;\r\n\tb : number;\r\n}\r\nexport type HSBA = {\r\n\th : number;\r\n\ts : number;\r\n\tb : number;\r\n\ta : number;\r\n}\r\n\r\nexport type LColorInfo = {\r\n\tok ?: boolean;\r\n\tformat ?: LColorFormats;\r\n\tr : number;\r\n\tg : number;\r\n\tb : number;\r\n\ta : number;\r\n}\r\n\r\nexport type LColorFormats =\r\n\t| 'rgb'\r\n\t| 'prgb'\r\n\t| 'hex'\r\n\t| 'hex3'\r\n\t| 'hex4'\r\n\t| 'hex6'\r\n\t| 'hex8'\r\n\t| 'name'\r\n\t| 'hsl'\r\n\t| 'hsb'\r\n\t| 'hsv';\r\n\r\nexport type LColorOptions = {\r\n\tformat ?: LColorFormats;\r\n\tgradientType ?: string;\r\n}\r\nexport type LColorInput = any //string | number | RGB | RGBA | HSL | HSLA | HSV | HSVA | LimeColor;\r\n\r\nexport type LGenerateOptions = {\r\n\ttheme ?: 'dark' | 'default';\r\n\tbackgroundColor ?: string;\r\n}\r\n","// import {isNumber} from '@/uni_modules/lime-shared/isNumber'\r\n// import {isString} from '@/uni_modules/lime-shared/isString'\r\n// import {isNumeric} from '@/uni_modules/lime-shared/isNumeric'\r\n// #ifdef APP-ANDROID\r\nimport BigDecimal from 'java.math.BigDecimal'\r\n// #endif\r\nexport function isNumber(value: any|null):boolean{\r\n\t// #ifdef APP-ANDROID\r\n\treturn ['Byte', 'UByte','Short','UShort','Int','UInt','Long','ULong','Float','Double','number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifdef APP-IOS\r\n\treturn ['Int8', 'UInt8','Int16','UInt16','Int32','UInt32','Int64','UInt64','Int','UInt','Float','Float16','Float32','Float64','Double', 'number'].includes(typeof value)\r\n\t// #endif\r\n\t// #ifndef APP-ANDROID || APP-IOS\r\n\treturn typeof value == 'number' && !isNaN(value);\r\n\t// #endif\r\n}\r\nexport function isString(value: any|null):boolean{\r\n\treturn typeof value == 'string';\r\n}\r\nexport function isNumeric(value: any|null):boolean{\r\n\tif(isNumber(value)) {\r\n\t\treturn true\r\n\t} else if(isString(value)) {\r\n\t\t// const regex = \"-?\\\\d+(\\\\.\\\\d+)?\".toRegex()\r\n\t\tconst regex = new RegExp(\"^(-)?\\\\d+(\\\\.\\\\d+)?$\")\r\n\t\treturn  regex.test(value as string) //regex.matches(value as string) \r\n\t}\r\n\treturn false\r\n}\r\n\r\n\r\nexport function toBoolean(value: any|null):boolean{\r\n\t// #ifdef APP\r\n\t// 根据输入值的类型，返回相应的布尔值\r\n\tif(isNumber(value)){\r\n\t\treturn (value as number) != 0;\r\n\t}\r\n\tif(isString(value)){\r\n\t\treturn `${value}`.length > 0;\r\n\t}\r\n\tif(typeof value == 'boolean'){\r\n\t\treturn value as boolean;\r\n\t}\r\n\t\r\n\treturn value != null\r\n\t// #endif\r\n\t// #ifndef APP\r\n\treturn  Boolean(value)\r\n\t// #endif\r\n}\r\n\r\n/**\r\n * Check to see if string passed in is a percentage\r\n * 检查传入的字符串是否为百分比\r\n * @hidden\r\n */\r\nexport function isPercentage(n : any) : boolean {\r\n\treturn isString(n) && (n as string).indexOf('%') != -1;\r\n}\r\n\r\n/**\r\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\r\n * 需要处理 1.0 为 100%，因为一旦它是数字，它与 1 没有区别\r\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\r\n * @hidden\r\n */\r\nexport function isOnePointZero(n : any) : boolean {\r\n\treturn isString(n) && (n as string).indexOf('.') != -1 && parseFloat(n as string) == 1;\r\n}\r\n\r\n\r\n/**\r\n * Take input from [0, n] and return it as [0, 1]\r\n * 将输入值从 [0, n] 转换为 [0, 1]\r\n * @hidden\r\n */\r\nfunction bound01(n: string, max: number): number \r\nfunction bound01(n: number, max: number): number \r\n// #ifndef APP\r\nfunction bound01(n : any, max : number) : number \r\n// #endif\r\nfunction bound01(n : any, max : number) : number {\r\n\tif(!(isNumber(n) || isString(n))){\r\n\t\treturn 1\r\n\t}\r\n\tif (isOnePointZero(n)) {\r\n\t\tn = '100%';\r\n\t}\r\n\r\n\tconst isPercent = isPercentage(n);\r\n\tn = (isNumber(n) ? n : parseFloat(n as string)) as number\r\n\tn = max == 360 ? n : Math.min(max, Math.max(0, n));\r\n\r\n\t// Automatically convert percentage into number\r\n\t// 自动将百分比转换为数字\r\n\tif (isPercent) {\r\n\t\tn = parseInt(`${Math.min(n, 100) * max}`, 10) / 100;\r\n\t}\r\n\r\n\t// Handle floating point rounding errors\r\n\t//  处理浮点数舍入误差\r\n\t\r\n\tif ( Math.abs(n - max) < 0.000001) {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t// Convert into [0, 1] range if it isn't already\r\n\t// 如果它还不是，将其转换为 [0, 1] 范围\r\n\tif (max == 360) {\r\n\t\t// If n is a hue given in degrees,\r\n\t\t// wrap around out-of-range values into [0, 360] range\r\n\t\t// then convert into [0, 1].\r\n\t\t// 如果 n 是以度为单位的色调，\r\n\t\t// 将超出范围的值环绕到 [0, 360] 范围内\r\n\t\t// 然后将其转换为 [0, 1]。\r\n\t\tn = (n < 0 ? (n % max) + max : n % max) / max // parseFloat(`${max}`);\r\n\t} else {\r\n\t\t// If n not a hue given in degrees\r\n\t\t// Convert into [0, 1] range if it isn't already.\r\n\t\t// 如果 n 不是以度为单位的色调\r\n\t\t// 如果它还不是，将其转换为 [0, 1] 范围。\r\n\t\tn = (n % max) / max //parseFloat(`${max}`);\r\n\t}\r\n\r\n\treturn n;\r\n}\r\nexport {bound01}\r\n\r\n\r\n/**\r\n * Force a number between 0 and 1\r\n * 在 0 和 1 之间强制一个数字\r\n * @hidden\r\n */\r\nexport function clamp01(val : number) : number {\r\n\treturn Math.min(1, Math.max(0, val));\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Return a valid alpha value [0,1] with all invalid values being set to 1\r\n * 返回一个有效的 alpha 值 [0,1]，将所有无效值设置为 1\r\n * @hidden\r\n */\r\nfunction boundAlpha(a: number):number\r\nfunction boundAlpha(a: string):number\r\n// #ifndef APP\r\nfunction boundAlpha(a: any|null) : number\r\n// #endif\r\nfunction boundAlpha(a: any|null) : number {\r\n\tlet n = a == null ? 1 : (isString(a) ? parseFloat(a as string) : a as number)\r\n\r\n\tif (isNaN(n) || n < 0 || n > 1) {\r\n\t\tn = 1;\r\n\t}\r\n\r\n\treturn n;\r\n}\r\nexport {\r\n\tboundAlpha\r\n}\r\n/**\r\n * Replace a decimal with it's percentage value\r\n * 用百分比值替换小数\r\n * number | string\r\n * @hidden\r\n */\r\nfunction convertToPercentage(n:number):number\r\nfunction convertToPercentage(n:string):string\r\n// #ifndef APP\r\nfunction convertToPercentage(n:any): any\r\n// #endif\r\nfunction convertToPercentage(n:any): any{\r\n\t// #ifdef APP-ANDROID\r\n\tn = isNumeric(n) ? parseFloat(typeof n == 'string' ? n as string : BigDecimal.valueOf((n as number).toDouble()).toPlainString()) : n// as number\r\n\t// #endif\r\n\t// #ifndef APP-ANDROID\r\n\tn = isNumeric(n) ? parseFloat(`${n}`) : n// as number\r\n\t// #endif\r\n\tif(isNumber(n) &&  (n as number) <= 1){\r\n\t\treturn `${n * 100}%`.replace('.0%','%');\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nexport {convertToPercentage}\r\n\r\n/**\r\n * Force a hex value to have 2 characters\r\n * 强制使十六进制值具有 2 个字符\r\n * @hidden\r\n */\r\nexport function pad2(c : string) : string {\r\n\t//c.padStart(2, '0');//\r\n\treturn c.length == 1 ? '0' + c : `${c}`;\r\n}","import { RGB,HSL,HSV } from '../utssdk/interface.uts';\r\nimport { bound01, pad2 } from './util';\r\n\r\n\r\n/**\r\n * Handle bounds / percentage checking to conform to CSS color spec\r\n * 处理边界/百分比检查以符合 CSS 颜色规范\r\n * <http://www.w3.org/TR/css3-color/>\r\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\r\n * *Returns:* { r, g, b } in [0, 255]\r\n */\r\nfunction rgbToRgb(r: string, g: string, b: string):RGB;\r\nfunction rgbToRgb(r: number, g: string, b: string):RGB;\r\nfunction rgbToRgb(r: number, g: number, b: string):RGB;\r\nfunction rgbToRgb(r: number, g: number, b: number):RGB;\r\nfunction rgbToRgb(r: any,    g: any,    b: any) : RGB {\r\n\treturn {\r\n\t\tr: bound01(r, 255) * 255,\r\n\t\tg: bound01(g, 255) * 255,\r\n\t\tb: bound01(b, 255) * 255,\r\n\t} as RGB;\r\n}\r\nexport {\r\n\trgbToRgb\r\n}\r\n/**\r\n * Converts an RGB color value to HSL.\r\n * 将 RGB 颜色值转换为 HSL。\r\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\r\n * *Returns:* { h, s, l } in [0,1]\r\n */\r\nfunction rgbToHsl(r: string, g: string, b: string):HSL;\r\nfunction rgbToHsl(r: number, g: string, b: string):HSL;\r\nfunction rgbToHsl(r: number, g: number, b: string):HSL;\r\nfunction rgbToHsl(r: number, g: number, b: number):HSL;\r\nfunction rgbToHsl(r : any, g : any, b : any) : HSL {\r\n\tr = bound01(r, 255);\r\n\tg = bound01(g, 255);\r\n\tb = bound01(b, 255);\r\n\r\n\tconst max = Math.max(r, g, b);\r\n\tconst min = Math.min(r, g, b);\r\n\tlet h = 0;\r\n\tlet s:number// = 0;\r\n\tconst l = (max + min) / 2;\r\n\r\n\tif (max == min) {\r\n\t\ts = 0;\r\n\t\th = 0; // achromatic\r\n\t} else {\r\n\t\tconst d = max - min;\r\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\t\tswitch (max) {\r\n\t\t\tcase r:\r\n\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase g:\r\n\t\t\t\th = (b - r) / d + 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase b:\r\n\t\t\t\th = (r - g) / d + 4;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('h')\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\th /= 6;\r\n\t}\r\n\r\n\treturn { h, s, l } as HSL;\r\n}\r\n\r\nexport {\r\n\trgbToHsl\r\n}\r\n\r\nexport function hue2rgb(p : number, q : number, t : number) : number {\r\n\tlet _t = t\r\n\tif (_t < 0) {\r\n\t\t_t += 1;\r\n\t}\r\n\r\n\tif (_t > 1) {\r\n\t\t_t -= 1;\r\n\t}\r\n\r\n\tif (_t < 1 / 6) {\r\n\t\treturn p + (q - p) * (6 * _t);\r\n\t}\r\n\r\n\tif (_t < 1 / 2) {\r\n\t\treturn q;\r\n\t}\r\n\r\n\tif (_t < 2 / 3) {\r\n\t\treturn p + (q - p) * (2 / 3 - _t) * 6;\r\n\t}\r\n\r\n\treturn p;\r\n}\r\n\r\n/**\r\n * Converts an HSL color value to RGB.\r\n * 将 HSL 颜色值转换为 RGB。\r\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\r\n * *Returns:* { r, g, b } in the set [0, 255]\r\n */ \r\nfunction hslToRgb(h : string,s : string,l : string) : RGB \r\nfunction hslToRgb(h : number,s : string,l : string) : RGB \r\nfunction hslToRgb(h : number,s : number,l : string) : RGB \r\nfunction hslToRgb(h : number,s : number,l : number) : RGB \r\nfunction hslToRgb(h : any,s : any,l : any) : RGB {\r\n\tlet r : number;\r\n\tlet g : number;\r\n\tlet b : number;\r\n\th = bound01(h, 360);\r\n\ts = bound01(s, 100);\r\n\tl = bound01(l, 100);\r\n\t\r\n\tif (s == 0) {\r\n\t\t// achromatic\r\n\t\tg = l;\r\n\t\tb = l;\r\n\t\tr = l;\r\n\t} else {\r\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tconst p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\r\n\treturn { r: r * 255, g: g * 255, b: b * 255 } as RGB;\r\n}\r\nexport {\r\n\thslToRgb\r\n}\r\n/**\r\n * Converts an RGB color value to HSV\r\n * 将RGB颜色值转换为HSV颜色值\r\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\r\n * *Returns:* { h, s, v } in [0,1]\r\n */\r\nexport function rgbToHsv(r : number, g : number, b : number) : HSV {\r\n\tr = bound01(r, 255);\r\n\tg = bound01(g, 255);\r\n\tb = bound01(b, 255);\r\n\r\n\tconst max = Math.max(r, g, b);\r\n\tconst min = Math.min(r, g, b);\r\n\tlet h = 0;\r\n\tconst v = max;\r\n\tconst d = max - min;\r\n\tconst s = max == 0 ? 0 : d / max;\r\n\r\n\tif (max == min) {\r\n\t\th = 0; // achromatic\r\n\t} else {\r\n\t\tswitch (max) {\r\n\t\t\tcase r:\r\n\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase g:\r\n\t\t\t\th = (b - r) / d + 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase b:\r\n\t\t\t\th = (r - g) / d + 4;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('1')\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\th /= 6;\r\n\t}\r\n\r\n\treturn { h, s, v } as HSV;\r\n}\r\n\r\n/**\r\n * Converts an HSV color value to RGB.\r\n * 将HSV颜色值转换为RGB。\r\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\r\n * *Returns:* { r, g, b } in the set [0, 255]\r\n */\r\nfunction hsvToRgb( h : string, s : string, v : string) : RGB \r\nfunction hsvToRgb( h : number, s : string, v : string) : RGB \r\nfunction hsvToRgb( h : number, s : number, v : string) : RGB \r\nfunction hsvToRgb( h : number, s : number, v : number) : RGB \r\nfunction hsvToRgb( h : any, s : any, v : any) : RGB {\r\n\th = bound01(h, 360) * 6;\r\n\ts = bound01(s, 100);\r\n\tv = bound01(v, 100);\r\n\r\n\tconst i = Math.floor(h);\r\n\tconst f = h - i;\r\n\tconst p = v * (1 - s);\r\n\tconst q = v * (1 - f * s);\r\n\tconst t = v * (1 - (1 - f) * s);\r\n\tconst mod = i % 6;\r\n\tconst r = [v, q, p, p, t, v][mod];\r\n\tconst g = [t, v, v, q, p, p][mod];\r\n\tconst b = [p, p, t, v, v, q][mod];\r\n\r\n\treturn { r: r * 255, g: g * 255, b: b * 255 } as RGB;\r\n}\r\nexport {\r\n\thsvToRgb\r\n}\r\n/**\r\n * Converts an RGB color to hex\r\n * 将RGB颜色转换为十六进制。\r\n * Assumes r, g, and b are contained in the set [0, 255]\r\n * Returns a 3 or 6 character hex\r\n */\r\nexport function rgbToHex(r : number, g : number, b : number, allow3Char : boolean = false) : string {\r\n\tconst hex = [\r\n\t\tpad2(Math.round(r).toString(16)),\r\n\t\tpad2(Math.round(g).toString(16)),\r\n\t\tpad2(Math.round(b).toString(16)),\r\n\t];\r\n\r\n\t// Return a 3 character hex if possible\r\n\tif (\r\n\t\tallow3Char &&\r\n\t\thex[0].startsWith(hex[0].charAt(1)) &&\r\n\t\thex[1].startsWith(hex[1].charAt(1)) &&\r\n\t\thex[2].startsWith(hex[2].charAt(1))\r\n\t) {\r\n\t\treturn hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\r\n\t}\r\n\r\n\treturn hex.join('');\r\n}\r\n\r\n/**\r\n * Converts an RGBA color plus alpha transparency to hex\r\n * 将带有透明度的RGBA颜色转换为十六进制。\r\n * Assumes r, g, b are contained in the set [0, 255] and\r\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\r\n */\r\n// eslint-disable-next-line max-params\r\nexport function rgbaToHex(r : number, g : number, b : number, a : number, allow4Char : boolean = false) : string {\r\n\tconst hex = [\r\n\t\tpad2(Math.round(r).toString(16)),\r\n\t\tpad2(Math.round(g).toString(16)),\r\n\t\tpad2(Math.round(b).toString(16)),\r\n\t\tpad2(convertDecimalToHex(a)),\r\n\t];\r\n\r\n\t// Return a 4 character hex if possible\r\n\tif (\r\n\t\tallow4Char &&\r\n\t\thex[0].startsWith(hex[0].charAt(1)) &&\r\n\t\thex[1].startsWith(hex[1].charAt(1)) &&\r\n\t\thex[2].startsWith(hex[2].charAt(1)) &&\r\n\t\thex[3].startsWith(hex[3].charAt(1))\r\n\t) {\r\n\t\treturn hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\r\n\t}\r\n\r\n\treturn hex.join('');\r\n}\r\n\r\n/**\r\n * Converts an RGBA color to an ARGB Hex8 string\r\n * 将RGBA颜色转换为ARGB十六进制字符串。\r\n * Rarely used, but required for \"toFilter()\"\r\n */\r\nexport function rgbaToArgbHex(r : number, g : number, b : number, a : number) : string {\r\n\tconst hex = [\r\n\t\tpad2(convertDecimalToHex(a)),\r\n\t\tpad2(Math.round(r).toString(16)),\r\n\t\tpad2(Math.round(g).toString(16)),\r\n\t\tpad2(Math.round(b).toString(16)),\r\n\t];\r\n\r\n\treturn hex.join('');\r\n}\r\n\r\n/** Converts a decimal to a hex value */\r\n/** 将十进制转换为十六进制值。 */\r\nfunction convertDecimalToHex(d : number) : string\r\nfunction convertDecimalToHex(d : string) : string\r\nfunction convertDecimalToHex(d : any) : string {\r\n\treturn Math.round(parseFloat(`${d}`) * 255).toString(16);\r\n}\r\nexport {convertDecimalToHex}\r\n/** Converts a hex value to a decimal */\r\nexport function convertHexToDecimal(h : string) : number {\r\n\treturn parseIntFromHex(h) / 255;\r\n}\r\n\r\n/** Parse a base-16 hex value into a base-10 integer */\r\nexport function parseIntFromHex(val : string) : number {\r\n\treturn parseInt(val, 16);\r\n}\r\n\r\nexport function numberInputToObject(color : number) : RGB {\r\n\treturn {\r\n\t\tr: color >> 16,\r\n\t\tg: (color & 0xff00) >> 8,\r\n\t\tb: color & 0xff,\r\n\t} as RGB;\r\n}","// @ts-nocheck\r\n// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\r\n/**\r\n * @hidden\r\n */\r\nexport const names: Map<string, string> = new Map<string, string>([\n  ['aliceblue', '#f0f8ff'],\n  ['antiquewhite', '#faebd7'],\n  ['aqua', '#00ffff'],\n  ['aquamarine', '#7fffd4'],\n  ['azure', '#f0ffff'],\n  ['beige', '#f5f5dc'],\n  ['bisque', '#ffe4c4'],\n  ['black', '#000000'],\n  ['blanchedalmond', '#ffebcd'],\n  ['blue', '#0000ff'],\n  ['blueviolet', '#8a2be2'],\n  ['brown', '#a52a2a'],\n  ['burlywood', '#deb887'],\n  ['cadetblue', '#5f9ea0'],\n  ['chartreuse', '#7fff00'],\n  ['chocolate', '#d2691e'],\n  ['coral', '#ff7f50'],\n  ['cornflowerblue', '#6495ed'],\n  ['cornsilk', '#fff8dc'],\n  ['crimson', '#dc143c'],\n  ['cyan', '#00ffff'],\n  ['darkblue', '#00008b'],\n  ['darkcyan', '#008b8b'],\n  ['darkgoldenrod', '#b8860b'],\n  ['darkgray', '#a9a9a9'],\n  ['darkgreen', '#006400'],\n  ['darkgrey', '#a9a9a9'],\n  ['darkkhaki', '#bdb76b'],\n  ['darkmagenta', '#8b008b'],\n  ['darkolivegreen', '#556b2f'],\n  ['darkorange', '#ff8c00'],\n  ['darkorchid', '#9932cc'],\n  ['darkred', '#8b0000'],\n  ['darksalmon', '#e9967a'],\n  ['darkseagreen', '#8fbc8f'],\n  ['darkslateblue', '#483d8b'],\n  ['darkslategray', '#2f4f4f'],\n  ['darkslategrey', '#2f4f4f'],\n  ['darkturquoise', '#00ced1'],\n  ['darkviolet', '#9400d3'],\n  ['deeppink', '#ff1493'],\n  ['deepskyblue', '#00bfff'],\n  ['dimgray', '#696969'],\n  ['dimgrey', '#696969'],\n  ['dodgerblue', '#1e90ff'],\n  ['firebrick', '#b22222'],\n  ['floralwhite', '#fffaf0'],\n  ['forestgreen', '#228b22'],\n  ['fuchsia', '#ff00ff'],\n  ['gainsboro', '#dcdcdc'],\n  ['ghostwhite', '#f8f8ff'],\n  ['goldenrod', '#daa520'],\n  ['gold', '#ffd700'],\n  ['gray', '#808080'],\n  ['green', '#008000'],\n  ['greenyellow', '#adff2f'],\n  ['grey', '#808080'],\n  ['honeydew', '#f0fff0'],\n  ['hotpink', '#ff69b4'],\n  ['indianred', '#cd5c5c'],\n  ['indigo', '#4b0082'],\n  ['ivory', '#fffff0'],\n  ['khaki', '#f0e68c'],\n  ['lavenderblush', '#fff0f5'],\n  ['lavender', '#e6e6fa'],\n  ['lawngreen', '#7cfc00'],\n  ['lemonchiffon', '#fffacd'],\n  ['lightblue', '#add8e6'],\n  ['lightcoral', '#f08080'],\n  ['lightcyan', '#e0ffff'],\n  ['lightgoldenrodyellow', '#fafad2'],\n  ['lightgray', '#d3d3d3'],\n  ['lightgreen', '#90ee90'],\n  ['lightgrey', '#d3d3d3'],\n  ['lightpink', '#ffb6c1'],\n  ['lightsalmon', '#ffa07a'],\n  ['lightseagreen', '#20b2aa'],\n  ['lightskyblue', '#87cefa'],\n  ['lightslategray', '#778899'],\n  ['lightslategrey', '#778899'],\n  ['lightsteelblue', '#b0c4de'],\n  ['lightyellow', '#ffffe0'],\n  ['lime', '#00ff00'],\n  ['limegreen', '#32cd32'],\n  ['linen', '#faf0e6'],\n  ['magenta', '#ff00ff'],\n  ['maroon', '#800000'],\n  ['mediumaquamarine', '#66cdaa'],\n  ['mediumblue', '#0000cd'],\n  ['mediumorchid', '#ba55d3'],\n  ['mediumpurple', '#9370db'],\n  ['mediumseagreen', '#3cb371'],\n  ['mediumslateblue', '#7b68ee'],\n  ['mediumspringgreen', '#00fa9a'],\n  ['mediumturquoise', '#48d1cc'],\n  ['mediumvioletred', '#c71585'],\n  ['midnightblue', '#191970'],\n  ['mintcream', '#f5fffa'],\n  ['mistyrose', '#ffe4e1'],\n  ['moccasin', '#ffe4b5'],\n  ['navajowhite', '#ffdead'],\n  ['navy', '#000080'],\n  ['oldlace', '#fdf5e6'],\n  ['olive', '#808000'],\n  ['olivedrab', '#6b8e23'],\n  ['orange', '#ffa500'],\n  ['orangered', '#ff4500'],\n  ['orchid', '#da70d6'],\n  ['palegoldenrod', '#eee8aa'],\n  ['palegreen', '#98fb98'],\n  ['paleturquoise', '#afeeee'],\n  ['palevioletred', '#db7093'],\n  ['papayawhip', '#ffefd5'],\n  ['peachpuff', '#ffdab9'],\n  ['peru', '#cd853f'],\n  ['pink', '#ffc0cb'],\n  ['plum', '#dda0dd'],\n  ['powderblue', '#b0e0e6'],\n  ['purple', '#800080'],\n  ['rebeccapurple', '#663399'],\n  ['red', '#ff0000'],\n  ['rosybrown', '#bc8f8f'],\n  ['royalblue', '#4169e1'],\n  ['saddlebrown', '#8b4513'],\n  ['salmon', '#fa8072'],\n  ['sandybrown', '#f4a460'],\n  ['seagreen', '#2e8b57'],\n  ['seashell', '#fff5ee'],\n  ['sienna', '#a0522d'],\n  ['silver', '#c0c0c0'],\n  ['skyblue', '#87ceeb'],\n  ['slateblue', '#6a5acd'],\n  ['slategray', '#708090'],\n  ['slategrey', '#708090'],\n  ['snow', '#fffafa'],\n  ['springgreen', '#00ff7f'],\n  ['steelblue', '#4682b4'],\n  ['tan', '#d2b48c'],\n  ['teal', '#008080'],\n  ['thistle', '#d8bfd8'],\n  ['tomato', '#ff6347'],\n  ['turquoise', '#40e0d0'],\n  ['violet', '#ee82ee'],\n  ['wheat', '#f5deb3'],\n  ['white', '#ffffff'],\n  ['whitesmoke', '#f5f5f5'],\n  ['yellow', '#ffff00'],\n  ['yellowgreen', '#9acd32'],\n]);\r\n","// @ts-nocheck\r\nimport { HSL, HSLA, HSV, HSVA, HSB, HSBA,RGB, RGBA, LColorInfo, LColorFormats } from '../utssdk/interface.uts';\r\nimport { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\r\nimport { names } from './css-color-names';\r\nimport { boundAlpha, convertToPercentage, toBoolean } from './util';\r\ntype ColorMatchers = {\r\n\tCSS_UNIT : RegExp,\r\n\trgb : RegExp,\r\n\trgba : RegExp,\r\n\thsl : RegExp,\r\n\thsla : RegExp,\r\n\thsv : RegExp,\r\n\thsva : RegExp,\r\n\thsb : RegExp,\r\n\thsba : RegExp,\r\n\thex3 : RegExp,\r\n\thex6 : RegExp,\r\n\thex4 : RegExp,\r\n\thex8 : RegExp,\r\n}\r\n\r\n// #ifndef UNI-APP-X\r\ntype UTSJSONObject = object\r\n// #endif\r\n\r\n// <http://www.w3.org/TR/css3-values/#integers>\r\nconst CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\r\n\r\n// <http://www.w3.org/TR/css3-values/#number-value>\r\nconst CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\r\n\r\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\r\n// 允许正负整数/数字。不要捕获要么/或者，只需捕获整个结果。\r\nconst CSS_UNIT = `(?:${CSS_NUMBER})|(?:${CSS_INTEGER})`;\r\n\r\n// Actual matching.\r\n// Parentheses and commas are optional, but not required.\r\n// Whitespace can take the place of commas or opening paren\r\n// 实际匹配。\r\n// 圆括号和逗号是可选的，但不是必需的。\r\n// 空格可以代替逗号或左括号\r\nconst PERMISSIVE_MATCH3 = '[\\\\s|\\\\(]+(' +\r\n\tCSS_UNIT +\r\n\t')[,|\\\\s]+(' +\r\n\tCSS_UNIT +\r\n\t')[,|\\\\s]+(' +\r\n\tCSS_UNIT +\r\n\t')\\\\s*\\\\)?';;\r\n// const PERMISSIVE_MATCH3 = `[\\\\s|\\\\(]+(${CSS_UNIT})[,|\\\\s]+(${CSS_UNIT})[,|\\\\s]+(${CSS_UNIT})\\\\s*\\\\)?`;\r\nconst PERMISSIVE_MATCH4 = '[\\\\s|\\\\(]+(' +\r\n\tCSS_UNIT +\r\n\t')[,|\\\\s]+(' +\r\n\tCSS_UNIT +\r\n\t')[,|\\\\s]+(' +\r\n\tCSS_UNIT +\r\n\t')[,|\\\\s]+(' +\r\n\tCSS_UNIT +\r\n\t')\\\\s*\\\\)?';\r\n// const PERMISSIVE_MATCH4 = `[\\\\s|\\\\(]+(${CSS_UNIT})[,|\\\\s]+(${CSS_UNIT})[,|\\\\s]+(${CSS_UNIT})[,|\\\\s]+(${CSS_UNIT})\\\\s*\\\\)?`;\r\n\r\nexport const matchers = {\r\n\tCSS_UNIT: new RegExp(CSS_UNIT),\r\n\trgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\r\n\trgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\r\n\thsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\r\n\thsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\r\n\thsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\r\n\thsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\r\n\thsb: new RegExp('hsb' + PERMISSIVE_MATCH3),\r\n\thsba: new RegExp('hsba' + PERMISSIVE_MATCH4),\r\n\thex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n\thex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n\thex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n\thex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n} as ColorMatchers;\r\n\r\n/**\r\n * Check to see if it looks like a CSS unit\r\n * 检查它是否看起来像一个 CSS 单位\r\n * (see `matchers` above for definition).\r\n */\r\nfunction isValidCSSUnit(color : string) : boolean\r\nfunction isValidCSSUnit(color : number) : boolean\r\n// #ifndef APP\r\nfunction isValidCSSUnit(color : any|null) : boolean\r\n// #endif\r\nfunction isValidCSSUnit(color : any|null) : boolean {\r\n\treturn toBoolean(matchers.CSS_UNIT.exec(`${color}`));\r\n}\r\nexport { isValidCSSUnit }\r\n\r\nfunction inputToRGB(color : string) : LColorInfo\r\nfunction inputToRGB(color : RGB) : LColorInfo\r\nfunction inputToRGB(color : RGBA) : LColorInfo\r\nfunction inputToRGB(color : HSL) : LColorInfo\r\nfunction inputToRGB(color : HSLA) : LColorInfo\r\nfunction inputToRGB(color : HSV) : LColorInfo\r\nfunction inputToRGB(color : HSVA) : LColorInfo\r\nfunction inputToRGB(color : HSB) : LColorInfo\r\nfunction inputToRGB(color : HSBA) : LColorInfo\r\nfunction inputToRGB(color : any) : LColorInfo {\r\n\tlet _color: UTSJSONObject|null = null\r\n\tlet rgb = { r: 0, g: 0, b: 0 } as RGB;\r\n\tlet a:any = 1;\r\n\tlet s: any | null;\r\n\tlet v: any | null;\r\n\tlet l: any | null;\r\n\tlet ok = false;\r\n\tlet format: LColorFormats | null = null;\r\n\t\r\n\tif (typeof color == 'string') {\r\n\t\t_color = stringInputToObject(color as string);\r\n\t} else if(typeof color == 'object'){\r\n\t\t_color = JSON.parse(JSON.stringify(color)) as UTSJSONObject\r\n\t} else {\r\n\t\t// _color = {} as UTSJSONObject\r\n\t}\r\n\tif(_color != null){\r\n\t\tif (isValidCSSUnit(_color['r']) && isValidCSSUnit(_color['g']) && isValidCSSUnit(_color['b'])){\r\n\t\t\trgb = rgbToRgb(_color['r']!, _color['g']!, _color['b']!);\r\n\t\t\tok = true;\r\n\t\t\tformat = `${_color['r']}`.endsWith('%') ? 'prgb' : 'rgb';\r\n\t\t} else if(isValidCSSUnit(_color['h']) && isValidCSSUnit(_color['s']) && (isValidCSSUnit(_color['v']) || isValidCSSUnit(_color['b'])) ){\r\n\t\t\tconst isHSV = _color['v'] != null\r\n\t\t\ts = convertToPercentage(_color['s']!);\r\n\t\t\tv = isHSV ? convertToPercentage(_color['v']!) : convertToPercentage(_color['b']!);\r\n\t\t\trgb = hsvToRgb(_color['h']!, s, v);\r\n\t\t\tok = true;\r\n\t\t\tformat = isHSV ? 'hsv' : 'hsb';\r\n\t\t} else if(isValidCSSUnit(_color['h']) && isValidCSSUnit(_color['s']) && isValidCSSUnit(_color['l'])){\r\n\t\t\ts = convertToPercentage(_color['s']!);\r\n\t\t\tl = convertToPercentage(_color['l']!);\r\n\r\n\t\t\trgb = hslToRgb(_color['h']!, s, l);\r\n\t\t\tok = true;\r\n\t\t\tformat = 'hsl';\r\n\t\t}\r\n\t\tif(_color['a']!=null){\r\n\t\t\ta = _color['a']!;\r\n\t\t}\r\n\t}\r\n\ta = boundAlpha(a);\r\n\treturn {\r\n\t\tok,\r\n\t\tformat: _color?.['format'] as (string | null) ?? format,\r\n\t\tr: Math.min(255, Math.max(rgb.r, 0)),\r\n\t\tg: Math.min(255, Math.max(rgb.g, 0)),\r\n\t\tb: Math.min(255, Math.max(rgb.b, 0)),\r\n\t\ta,\r\n\t} as LColorInfo\r\n}\r\n\r\nexport {\r\n\tinputToRGB\r\n}\r\n\r\n/**\r\n * Permissive string parsing.  Take in a number of formats, and output an object\r\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\r\n */\r\n\r\nexport function stringInputToObject(color : string) : UTSJSONObject | null {\r\n\tlet _color = color.trim().toLowerCase();\r\n\tif (_color.length == 0) {\r\n\t\treturn null;\r\n\t}\r\n\tlet named = false;\r\n\tif (names.get(_color) != null) {\r\n\t\t_color = names.get(_color)!;\r\n\t\tnamed = true;\r\n\t} else if (_color == 'transparent') {\r\n\t\treturn { r: 0, g: 0, b: 0, a: 0, format: 'name' } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', 0],\r\n\t\t// \t['g', 0],\r\n\t\t// \t['b', 0],\r\n\t\t// \t['a', 0],\r\n\t\t// \t['format', 'name'],\r\n\t\t// ])\r\n\t}\r\n\t// Try to match string input using regular expressions.\r\n\t// Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\r\n\t// Just return an object and let the conversion functions handle that.\r\n\t// This way the result will be the same whether the tinycolor is initialized with string or object.\r\n\r\n\tlet match = matchers.rgb.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = match[1]\r\n\t\tconst g = match[2]\r\n\t\tconst b = match[3]\r\n                                     \r\n\t\treturn { r, g, b } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', match[1]],\r\n\t\t// \t['g', match[2]],\r\n\t\t// \t['b', match[3]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.rgba.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = match[1]\r\n\t\tconst g = match[2]\r\n\t\tconst b = match[3]\r\n\t\tconst a = match[4]\r\n\t\treturn { r, g, b, a } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', match[1]],\r\n\t\t// \t['g', match[2]],\r\n\t\t// \t['b', match[3]],\r\n\t\t// \t['a', match[4]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hsl.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst h = match[1]\r\n\t\tconst s = match[2]\r\n\t\tconst l = match[3]\r\n\t\treturn { h, s, l } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['h', match[1]],\r\n\t\t// \t['s', match[2]],\r\n\t\t// \t['l', match[3]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hsla.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst h = match[1]\r\n\t\tconst s = match[2]\r\n\t\tconst l = match[3]\r\n\t\tconst a = match[4]\r\n\t\treturn { h, s, l, a } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['h', match[1]],\r\n\t\t// \t['s', match[2]],\r\n\t\t// \t['l', match[3]],\r\n\t\t// \t['a', match[4]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hsv.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst h = match[1]\r\n\t\tconst s = match[2]\r\n\t\tconst v = match[3]\r\n\t\treturn { h, s, v } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['h', match[1]],\r\n\t\t// \t['s', match[2]],\r\n\t\t// \t['v', match[3]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hsva.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst h = match[1]\r\n\t\tconst s = match[2]\r\n\t\tconst v = match[3]\r\n\t\tconst a = match[4]\r\n\t\treturn { h, s, v, a } as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['h', match[1]],\r\n\t\t// \t['s', match[2]],\r\n\t\t// \t['v', match[3]],\r\n\t\t// \t['a', match[4]],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hex8.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = parseIntFromHex(match[1]!)\r\n\t\tconst g = parseIntFromHex(match[2]!)\r\n\t\tconst b = parseIntFromHex(match[3]!)\r\n\t\tconst a = convertHexToDecimal(match[4]!)\r\n\t\treturn {\r\n\t\t  r,\r\n\t\t  g,\r\n\t\t  b,\r\n\t\t  a,\r\n\t\t  format: named ? 'name' : 'hex8',\r\n\t\t} as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', parseIntFromHex(match[1])],\r\n\t\t// \t['g', parseIntFromHex(match[2])],\r\n\t\t// \t['b', parseIntFromHex(match[3])],\r\n\t\t// \t['a', convertHexToDecimal(match[4])],\r\n\t\t// \t['format', named ? 'name' : 'hex8'],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hex6.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = parseIntFromHex(match[1]!)\r\n\t\tconst g = parseIntFromHex(match[2]!)\r\n\t\tconst b = parseIntFromHex(match[3]!)\r\n\t\t// const a = parseIntFromHex(match[4])\r\n\t\treturn {\r\n\t\t  r,\r\n\t\t  g,\r\n\t\t  b,\r\n\t\t  format: named ? 'name' : 'hex',\r\n\t\t} as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', parseIntFromHex(match[1])],\r\n\t\t// \t['g', parseIntFromHex(match[2])],\r\n\t\t// \t['b', parseIntFromHex(match[3])],\r\n\t\t// \t['format', named ? 'name' : 'hex'],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hex4.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = parseIntFromHex((match[1] + match[1]))\r\n\t\tconst g = parseIntFromHex((match[2] + match[2]))\r\n\t\tconst b = parseIntFromHex((match[3] + match[3]))\r\n\t\tconst a = convertHexToDecimal((match[4] + match[4]))\r\n\t\treturn {\r\n\t\t  r,\r\n\t\t  g,\r\n\t\t  b,\r\n\t\t  a,\r\n\t\t  format: named ? 'name' : 'hex8',\r\n\t\t} as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', parseIntFromHex(match[1] + match[1])],\r\n\t\t// \t['g', parseIntFromHex(match[2] + match[2])],\r\n\t\t// \t['b', parseIntFromHex(match[3] + match[3])],\r\n\t\t// \t['a', convertHexToDecimal(match[4] + match[4])],\r\n\t\t// \t['format', named ? 'name' : 'hex8'],\r\n\t\t// ])\r\n\t}\r\n\r\n\tmatch = matchers.hex3.exec(_color);\r\n\tif (match != null) {\r\n\t\tconst r = parseIntFromHex((match[1] + match[1]))\r\n\t\tconst g = parseIntFromHex((match[2] + match[2]))\r\n\t\tconst b = parseIntFromHex((match[3] + match[3]))\r\n\t\treturn {\r\n\t\t  r,\r\n\t\t  g,\r\n\t\t  b,\r\n\t\t  format: named ? 'name' : 'hex',\r\n\t\t} as UTSJSONObject;\r\n\t\t// return new Map([\r\n\t\t// \t['r', parseIntFromHex(match[1] + match[1])],\r\n\t\t// \t['g', parseIntFromHex(match[2] + match[2])],\r\n\t\t// \t['b', parseIntFromHex(match[3] + match[3])],\r\n\t\t// \t['format', named ? 'name' : 'hex'],\r\n\t\t// ])\r\n\t}\r\n\treturn null\r\n}\r\n\r\n\r\n","// @ts-nocheck\r\nimport { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\r\nimport { names } from './css-color-names';\r\nimport { inputToRGB } from './format-input';\r\nimport { HSL, HSLA, HSV, HSVA, HSBA, RGB, RGBA, RGBAString, LColorInfo, LColorFormats, LColorOptions, LColorInput } from '../utssdk/interface.uts';\r\nimport { bound01, boundAlpha, clamp01, toBoolean, isNumber } from './util';\r\n\r\nexport class TinyColor {\r\n\tr : number;\r\n\tg : number;\r\n\tb : number;\r\n\ta : number;\r\n\t/** 用于创建 limeColor 实例的格式 */\r\n\tformat ?: LColorFormats;\r\n\t/** 传递给构造函数以创建 limeColor 实例的输入 */\r\n\toriginalInput : LColorInput;\r\n\t/** 颜色已被成功解析 */\r\n\tisValid : boolean;\r\n\r\n\tgradientType ?: string;\r\n\r\n\t/** rounded alpha */\r\n\troundA : number;\r\n\t// #ifdef APP\r\n\treversedNames : Map<string, string>;\r\n\t// #endif\r\n\tconstructor(color : LColorInput = '', opts : LColorOptions = {} as LColorOptions) {\r\n\t\tlet _color : any = color\r\n\t\t// if(color instanceof TinyColor){\r\n\t\t// \treturn color as TinyColor\r\n\t\t// } \r\n\t\tif (isNumber(color)) {\r\n\t\t\t_color = numberInputToObject(color as number);\r\n\t\t}\r\n\t\tthis.originalInput = _color;\r\n\t\tconst rgb = inputToRGB(_color);\r\n\t\tthis.r = rgb.r;\r\n\t\tthis.g = rgb.g;\r\n\t\tthis.b = rgb.b;\r\n\t\tthis.a = rgb.a;\r\n\t\tthis.roundA = Math.round(100 * this.a) / 100;\r\n\t\tthis.format = opts.format ?? rgb.format;\r\n\t\tthis.gradientType = opts.gradientType;\r\n\r\n\t\t// 不要让范围在 [0,255] 中的值返回成 [0,1]。 \r\n\t\t// 这里可能会失去一些精度，但可以解决原来 \r\n\t\t// .5 被解释为总数的半数，而不是1的一半的问题 \r\n\t\t// 如果本来应该是128，那么这个已经在 inputToRgb 中处理过了\t\tif (this.r < 1) {\r\n\t\tif (this.r < 1) {\r\n\t\t\tthis.r = Math.round(this.r);\r\n\t\t}\r\n\r\n\t\tif (this.g < 1) {\r\n\t\t\tthis.g = Math.round(this.g);\r\n\t\t}\r\n\r\n\t\tif (this.b < 1) {\r\n\t\t\tthis.b = Math.round(this.b);\r\n\t\t}\r\n\r\n\t\tthis.isValid = rgb.ok ?? false;\r\n\r\n\t\t// #ifdef APP\r\n\t\tthis.reversedNames = new Map<string, string>()\r\n\t\tnames.forEach((value : string, key : string) => {\r\n\t\t\tthis.reversedNames.set(value, key)\r\n\t\t})\r\n\t\t// #endif\r\n\t}\r\n\t/**\r\n\t * 判断当前颜色是否为暗色。\r\n\t * @returns 一个布尔值，表示当前颜色是否为暗色。\r\n\t */\r\n\tisDark() : boolean {\r\n\t\treturn this.getBrightness() < 128;\r\n\t}\r\n\t/**\r\n\t * 判断当前颜色是否为亮色。\r\n\t * @returns 一个布尔值，表示当前颜色是否为亮色。\r\n\t */\r\n\tisLight() : boolean {\r\n\t\treturn !this.isDark();\r\n\t}\r\n\r\n\t/**\r\n\t * 计算当前颜色的亮度值。\r\n\t * 亮度值是根据 RGB 颜色空间中的红、绿、蓝三个通道的值计算得出的，计算公式为：(r * 299 + g * 587 + b * 114) / 1000。\r\n\t * @returns 返回颜色的感知亮度，范围从0-255。\r\n\t */\r\n\tgetBrightness() : number {\r\n\t\t// http://www.w3.org/TR/AERT#color-contrast\r\n\t\tconst rgb = this.toRgb();\r\n\t\treturn (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\r\n\t}\r\n\t/**\r\n\t * 计算当前颜色的相对亮度值。\r\n\t * 相对亮度值是根据 RGB 颜色空间中的红、绿、蓝三个通道的值计算得出的，计算公式为：0.2126 * R + 0.7152 * G + 0.0722 * B。\r\n\t * @returns 返回颜色的感知亮度，范围从0-1。\r\n\t */\r\n\tgetLuminance() : number {\r\n\t\t// http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\r\n\t\tconst rgb = this.toRgb();\r\n\t\tlet R : number;\r\n\t\tlet G : number;\r\n\t\tlet B : number;\r\n\t\tconst RsRGB : number = rgb.r / 255;\r\n\t\tconst GsRGB : number = rgb.g / 255;\r\n\t\tconst BsRGB : number = rgb.b / 255;\r\n\r\n\t\tif (RsRGB <= 0.03928) {\r\n\t\t\tR = RsRGB / 12.92;\r\n\t\t} else {\r\n\t\t\t// eslint-disable-next-line prefer-exponentiation-operator\r\n\t\t\tR = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\r\n\t\t}\r\n\r\n\t\tif (GsRGB <= 0.03928) {\r\n\t\t\tG = GsRGB / 12.92;\r\n\t\t} else {\r\n\t\t\t// eslint-disable-next-line prefer-exponentiation-operator\r\n\t\t\tG = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\r\n\t\t}\r\n\r\n\t\tif (BsRGB <= 0.03928) {\r\n\t\t\tB = BsRGB / 12.92;\r\n\t\t} else {\r\n\t\t\t// eslint-disable-next-line prefer-exponentiation-operator\r\n\t\t\tB = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\r\n\t\t}\r\n\r\n\t\treturn 0.2126 * R + 0.7152 * G + 0.0722 * B;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取当前颜色的透明度值。\r\n\t * 透明度值的范围是 0 到 1，其中 0 表示完全透明，1 表示完全不透明。\r\n\t * @returns 一个数字，表示当前颜色的透明度值。\r\n\t */\r\n\tgetAlpha() : number {\r\n\t\treturn this.a;\r\n\t}\r\n\r\n\t/**\r\n\t * 设置当前颜色的透明度值。\r\n\t * @param alpha - 要设置的透明度值。透明度值的范围是 0 到 1，其中 0 表示完全透明，1 表示完全不透明。\r\n\t * @returns 一个 `TinyColor` 对象，表示设置透明度后的颜色。\r\n\t */\r\n\tsetAlpha(alpha ?: string) : TinyColor\r\n\tsetAlpha(alpha ?: number) : TinyColor\r\n\tsetAlpha(alpha ?: any) : TinyColor {\r\n\t\tthis.a = boundAlpha(alpha);\r\n\t\tthis.roundA = Math.round(100 * this.a) / 100;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * 判断当前颜色是否为单色。\r\n\t * 单色是指颜色的饱和度（S）为 0 的颜色，这些颜色只有明度（L）变化，没有颜色变化。\r\n\t * @returns 一个布尔值，表示当前颜色是否为单色。\r\n\t */\r\n\tisMonochrome() : boolean {\r\n\t\tconst { s } = this.toHsl();\r\n\t\treturn s == 0;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色转换为 HSV（色相、饱和度、亮度）颜色空间。\r\n\t * @returns 一个对象，包含四个属性：`h`（色相）、`s`（饱和度）、`v`（亮度）和 `a`（透明度）。\r\n\t */\r\n\ttoHsv() : HSVA {\r\n\t\tconst hsv = rgbToHsv(this.r, this.g, this.b);\r\n\t\treturn { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a } as HSVA;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色转换为 HSV（色相、饱和度、亮度）颜色空间的字符串表示。\r\n\t * @returns 一个字符串，表示当前颜色的 HSV 或 HSVA 格式 hsva(xxx, xxx, xxx, xx)。\r\n\t */\r\n\ttoHsvString() : string {\r\n\t\tconst hsv = rgbToHsv(this.r, this.g, this.b);\r\n\t\tconst h = Math.round(hsv.h * 360);\r\n\t\tconst s = Math.round(hsv.s * 100);\r\n\t\tconst v = Math.round(hsv.v * 100);\r\n\t\treturn this.a == 1 ? `hsv(${h}, ${s}%, ${v}%)` : `hsva(${h}, ${s}%, ${v}%, ${this.roundA})`;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色对象转换为HSBA颜色空间,即Hue（色相）、Saturation（饱和度）、Brightness（亮度）和Alpha（透明度\r\n\t * @returns {HSBA} 返回一个HSBA对象，表示当前颜色对象在HSBA颜色空间中的值\r\n\t */\r\n\ttoHsb() : HSBA {\r\n\t\tconst hsv = rgbToHsv(this.r, this.g, this.b);\r\n\t\treturn { h: hsv.h * 360, s: hsv.s, b: hsv.v, a: this.a } as HSBA;\r\n\t}\r\n\t/**\r\n\t * 将当前颜色对象转换为CSS风格的HSB或HSVA字符串\r\n\t * @returns {string} 返回一个CSS风格的HSB或HSVA字符串，表示当前颜色对象的颜色值\r\n\t */\r\n\ttoHsbString() : string {\r\n\t\tconst hsb = this.toHsb();\r\n\t\tconst h = Math.round(hsb.h);\r\n\t\tconst s = Math.round(hsb.s * 100);\r\n\t\tconst b = Math.round(hsb.b * 100);\r\n\t\treturn this.a == 1\r\n\t\t\t? `hsb(${h}, ${s}%, ${b}%)`\r\n\t\t\t: `hsva(${h}, ${s}%, ${b}%, ${this.roundA})`;\r\n\t}\r\n\t/**\r\n\t * 将当前颜色转换为 HSL（色相、饱和度、明度）颜色空间。\r\n\t * @returns 一个对象，包含四个属性：`h`（色相）、`s`（饱和度）、`l`（明度）和 `a`（透明度）。\r\n\t */\r\n\ttoHsl() : HSLA {\r\n\t\tconst hsl = rgbToHsl(this.r, this.g, this.b);\r\n\t\treturn { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a } as HSLA;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色转换为 HSL（色相、饱和度、明度）颜色空间的字符串表示。\r\n\t * @returns 一个字符串，表示当前颜色的 HSL 或 HSLA 格式 hsla(xxx, xxx, xxx, xx)。\r\n\t */\r\n\ttoHslString() : string {\r\n\t\tconst hsl = rgbToHsl(this.r, this.g, this.b);\r\n\t\tconst h = Math.round(hsl.h * 360);\r\n\t\tconst s = Math.round(hsl.s * 100);\r\n\t\tconst l = Math.round(hsl.l * 100);\r\n\t\treturn this.a == 1 ? `hsl(${h}, ${s}%, ${l}%)` : `hsla(${h}, ${s}%, ${l}%, ${this.roundA})`;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色转换为十六进制颜色表示。\r\n\t * @param allow3Char 是否允许返回简写的十六进制颜色表示（如果可能）。默认值为 `false`。\r\n\t * @returns 一个字符串，表示当前颜色的十六进制格式。\r\n\t */\r\n\ttoHex(allow3Char = false) : string {\r\n\t\treturn rgbToHex(this.r, this.g, this.b, allow3Char);\r\n\t}\r\n\t/**\r\n\t * 将当前颜色转换为带有井号（`#`）前缀的十六进制颜色表示。\r\n\t * @param allow3Char 是否允许返回简写的十六进制颜色表示（如果可能）。默认值为 `false`。\r\n\t * @returns 一个字符串，表示当前颜色的带有井号前缀的十六进制格式。\r\n\t */\r\n\ttoHexString(allow3Char = false) : string {\r\n\t\treturn '#' + this.toHex(allow3Char);\r\n\t}\r\n\t/**\r\n\t * 返回颜色的八位十六进制值.\r\n\t * @param allow4Char 如果可能的话，将十六进制值缩短为4个字符\r\n\t */\r\n\ttoHex8(allow4Char = false) : string {\r\n\t\treturn rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\r\n\t}\r\n\t/**\r\n\t * 返回颜色的八位十六进制值，并且值前面带有#符号.\r\n\t * @param allow4Char 如果可能的话，将十六进制值缩短为4个字符\r\n\t */\r\n\ttoHex8String(allow4Char = false) : string {\r\n\t\treturn '#' + this.toHex8(allow4Char);\r\n\t}\r\n\t/**\r\n\t * 根据颜色的透明度（Alpha值）返回较短的十六进制值，并且值前面带有#符号。\r\n\t * @param allowShortChar 如果可能的话，将十六进制值缩短至3个或4个字符\r\n\t */\r\n\ttoHexShortString(allowShortChar = false) : string {\r\n\t\treturn this.a == 1 ? this.toHexString(allowShortChar) : this.toHex8String(allowShortChar);\r\n\t}\r\n\t/**\r\n\t * 将当前颜色转换为 RGB（红、绿、蓝）颜色空间的对象表示。\r\n\t * @returns 一个包含 `r`、`g`、`b` 和 `a` 属性的对象，表示当前颜色的 RGB 格式。\r\n\t */\r\n\ttoRgb() : RGBA {\r\n\t\treturn {\r\n\t\t\tr: Math.round(this.r),\r\n\t\t\tg: Math.round(this.g),\r\n\t\t\tb: Math.round(this.b),\r\n\t\t\ta: this.a,\r\n\t\t} as RGBA;\r\n\t}\r\n\r\n\t/**\r\n\t * 将当前颜色对象转换为CSS风格的RGB或RGBA字符串\r\n\t * @returns {string} 返回一个CSS风格的RGB或RGBA字符串，表示当前颜色对象的颜色值\r\n\t */\r\n\ttoRgbString() : string {\r\n\t\tconst r = Math.round(this.r);\r\n\t\tconst g = Math.round(this.g);\r\n\t\tconst b = Math.round(this.b);\r\n\t\treturn this.a == 1 ? `rgb(${r}, ${g}, ${b})` : `rgba(${r}, ${g}, ${b}, ${this.roundA})`;\r\n\t}\r\n\t/**\r\n\t * 将当前颜色转换为百分比表示的 RGB（红、绿、蓝）颜色空间的对象表示。\r\n\t * @returns 一个包含 `r`、`g`、`b` 和 `a` 属性的对象，表示当前颜色的百分比表示的 RGB 格式。\r\n\t */\r\n\ttoPercentageRgb() : RGBAString {\r\n\t\t// 定义一个格式化函数，将颜色值转换为百分比表示\r\n\t\tconst fmt = (x : number) : string => `${Math.round(bound01(x, 255) * 100)}%`;\r\n\t\t// 返回一个RGBA对象，其中颜色值已转换为百分比表示\r\n\t\treturn {\r\n\t\t\tr: fmt(this.r),\r\n\t\t\tg: fmt(this.g),\r\n\t\t\tb: fmt(this.b),\r\n\t\t\ta: this.a,\r\n\t\t} as RGBAString;\r\n\t}\r\n\t/**\r\n\t * 将RGBA相对值插值为一个字符串，颜色值以百分比表示。\r\n\t */\r\n\ttoPercentageRgbString() : string {\r\n\t\t// 定义一个四舍五入函数，将颜色值转换为百分比表示的整数\r\n\t\tconst rnd = (x : number) : number => Math.round(bound01(x, 255) * 100);\r\n\t\t// 根据alpha值返回不同的字符串表示\r\n\t\treturn this.a == 1\r\n\t\t\t? `rgb(${rnd(this.r)}%, ${rnd(this.g)}%, ${rnd(this.b)}%)`\r\n\t\t\t: `rgba(${rnd(this.r)}%, ${rnd(this.g)}%, ${rnd(this.b)}%, ${this.roundA})`;\r\n\t}\r\n\t/**\r\n\t * 返回这个颜色的'真实'名称,不存在返回null\r\n\t */\r\n\ttoName() : string | null {\r\n\t\tif (this.a == 0) {\r\n\t\t\treturn 'transparent';\r\n\t\t}\r\n\r\n\t\tif (this.a < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst hex = this.toHexString()//'#' + rgbToHex(this.r, this.g, this.b, false);\r\n\r\n\t\t// #ifndef APP\r\n\t\tconst _names = Array.from(names.entries())\r\n\t\tfor (let [key, value] of _names) {\r\n\t\t\tif (hex == value) {\r\n\t\t\t\treturn key;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef APP\r\n\t\treturn this.reversedNames.get(hex)\r\n\t\t// #endif\r\n\t}\r\n\t/**\r\n\t * 将颜色转换为字符串表示。\r\n\t *\r\n\t * @param format - 用于显示字符串表示的格式。\r\n\t */\r\n\t// toString<T extends 'name'>(format : T) : string;\r\n\t// toString<T extends LColorFormats>(format ?: T) : string;\r\n\r\n\t// #ifdef APP-ANDROID\r\n\toverride toString() : string {\r\n\t\treturn this.toString(null)\r\n\t}\r\n\t// #endif\r\n\ttoString(format ?: LColorFormats) : string {\r\n\t\tconst formatSet = toBoolean(format);\r\n\t\tlet _format = format ?? this.format;\r\n\r\n\t\tlet formattedString : string | null = null;\r\n\t\tconst hasAlpha = this.a < 1 && this.a >= 0;\r\n\t\tconst needsAlphaFormat = !formatSet && hasAlpha && (_format != null && _format.startsWith('hex') || _format == 'name');\r\n\r\n\t\tif (needsAlphaFormat) {\r\n\t\t\t// 特殊情况：透明度，所有其他非透明度格式都会在有透明度时返回rgba。\r\n\t\t\t// 当透明度为0时，返回\"transparent\"。\r\n\t\t\tif (_format == 'name' && this.a == 0) {\r\n\t\t\t\treturn this.toName() ?? 'transparent';\r\n\t\t\t}\r\n\t\t\treturn this.toRgbString();\r\n\t\t}\r\n\r\n\t\tif (_format == 'rgb') {\r\n\t\t\tformattedString = this.toRgbString();\r\n\t\t}\r\n\r\n\t\tif (_format == 'prgb') {\r\n\t\t\tformattedString = this.toPercentageRgbString();\r\n\t\t}\r\n\r\n\t\tif (_format == 'hex' || _format == 'hex6') {\r\n\t\t\tformattedString = this.toHexString();\r\n\t\t}\r\n\r\n\t\tif (_format == 'hex3') {\r\n\t\t\tformattedString = this.toHexString(true);\r\n\t\t}\r\n\r\n\t\tif (_format == 'hex4') {\r\n\t\t\tformattedString = this.toHex8String(true);\r\n\t\t}\r\n\r\n\t\tif (_format == 'hex8') {\r\n\t\t\tformattedString = this.toHex8String();\r\n\t\t}\r\n\r\n\t\tif (_format == 'name') {\r\n\t\t\tformattedString = this.toName();\r\n\t\t}\r\n\r\n\t\tif (_format == 'hsl') {\r\n\t\t\tformattedString = this.toHslString();\r\n\t\t}\r\n\r\n\t\tif (_format == 'hsv') {\r\n\t\t\tformattedString = this.toHsvString();\r\n\t\t}\r\n\t\tif (_format == 'hsb') {\r\n\t\t\tformattedString = this.toHsbString();\r\n\t\t}\r\n\t\treturn formattedString ?? this.toHexString();\r\n\t}\r\n\ttoNumber() : number {\r\n\t\treturn (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\r\n\t}\r\n\tclone() : TinyColor {\r\n\t\treturn new TinyColor(this.toString());\r\n\t}\r\n\t/**\r\n\t * 将颜色变浅指定的量。提供100将始终返回白色。\r\n\t * @param amount - 有效值介于1-100之间\r\n\t */\r\n\tlighten(amount = 10) : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\thsl.l += amount / 100;\r\n\t\thsl.l = clamp01(hsl.l);\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将颜色变亮一定的量，范围从0到100。\r\n\t * @param amount - 有效值在1-100之间\r\n\t */\r\n\tbrighten(amount = 10) : TinyColor {\r\n\t\tconst rgb = this.toRgb();\r\n\t\trgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\r\n\t\trgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\r\n\t\trgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\r\n\t\treturn new TinyColor(rgb, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将颜色变暗一定的量，范围从0到100。\r\n\t * 提供100将始终返回黑色。\r\n\t * @param amount - 有效值在1-100之间\r\n\t */\r\n\tdarken(amount = 10) : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\thsl.l -= amount / 100;\r\n\t\thsl.l = clamp01(hsl.l);\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将颜色与纯白色混合，范围从0到100。\r\n\t * 提供0将什么都不做，提供100将始终返回白色。\r\n\t * @param amount - 有效值在1-100之间\r\n\t */\r\n\ttint(amount = 10) : TinyColor {\r\n\t\treturn this.mix('white', amount);\r\n\t}\r\n\t/**\r\n\t * 将颜色与纯黑色混合，范围从0到100。\r\n\t * 提供0将什么都不做，提供100将始终返回黑色。\r\n\t * @param amount - 有效值在1-100之间\r\n\t */\r\n\tshade(amount = 10) : TinyColor {\r\n\t\treturn this.mix('black', amount);\r\n\t}\r\n\t/**\r\n\t * 将颜色的饱和度降低一定的量，范围从0到100。\r\n\t * 提供100与调用greyscale相同\r\n\t * @param amount - 有效值在1-100之间\r\n\t */\r\n\tdesaturate(amount = 10) : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\thsl.s -= amount / 100;\r\n\t\thsl.s = clamp01(hsl.s);\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将颜色饱和度提高一定数量，范围从 0 到 100。\r\n\t * @param amount - 有效值介于 1 到 100 之间。\r\n\t */\r\n\tsaturate(amount = 10) : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\thsl.s += amount / 100;\r\n\t\thsl.s = clamp01(hsl.s);\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将颜色完全去饱和为灰度。\r\n\t * 等同于调用 `desaturate(100)`。\r\n\t */\r\n\tgreyscale() : TinyColor {\r\n\t\treturn this.desaturate(100);\r\n\t}\r\n\t/**\r\n\t * spin 方法接收一个正数或负数作为参数，表示色相的变化量，变化范围在 [-360, 360] 之间。\r\n\t * 如果提供的值超出此范围，它将被限制在此范围内。\r\n\t */\r\n\tspin(amount : number) : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\tconst hue = (hsl.h + amount) % 360;\r\n\t\thsl.h = hue < 0 ? 360 + hue : hue;\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 将当前颜色与另一种颜色按给定的比例混合，范围从0到100。\r\n\t * 0表示不混合（返回当前颜色）\r\n\t */\r\n\tmix(color : LColorInput, amount = 50) : TinyColor {\r\n\t\tconst rgb1 = this.toRgb();\r\n\t\tconst rgb2 = new TinyColor(color).toRgb();\r\n\r\n\t\tconst p = amount / 100;\r\n\t\tconst rgba = {\r\n\t\t\tr: (rgb2.r - rgb1.r) * p + rgb1.r,\r\n\t\t\tg: (rgb2.g - rgb1.g) * p + rgb1.g,\r\n\t\t\tb: (rgb2.b - rgb1.b) * p + rgb1.b,\r\n\t\t\ta: (rgb2.a - rgb1.a) * p + rgb1.a,\r\n\t\t};\r\n\r\n\t\treturn new TinyColor(rgba, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 生成一组与当前颜色相似的颜色。\r\n\t * 这些颜色在色相环上是相邻的，形成一个类似于彩虹的颜色序列。\r\n\t * @param results - 要生成的相似颜色的数量，默认值为 6。\r\n\t * @param slices - 将色相环划分为多少个部分，默认值为 30。\r\n\t * @returns 一个包含当前颜色及其相似颜色的 TinyColor 对象数组。\r\n\t */\r\n\tanalogous(results = 6, slices = 30) : TinyColor[] {\r\n\t\tconst hsl = this.toHsl();\r\n\t\tconst part = 360 / slices;\r\n\t\tconst ret : TinyColor[] = [this];\r\n\t\tlet _results = results\r\n\t\t// for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\r\n\t\t// \thsl.h = (hsl.h + part) % 360;\r\n\t\t// \tret.push(new TinyColor(hsl));\r\n\t\t// }\r\n\t\thsl.h = (hsl.h - ((part * _results) >> 1) + 720) % 360;\r\n\t\twhile (_results > 0) {\r\n\t\t\thsl.h = (hsl.h + part) % 360;\r\n\t\t\tret.push(new TinyColor(hsl));\r\n\t\t\t_results--;\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\t/**\r\n\t * 计算当前颜色的补色。\r\n\t * 补色是指在色相环上相对位置的颜色，它们的色相差为 180°。\r\n\t * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\r\n\t * @returns 一个 TinyColor 对象，表示当前颜色的补色。\r\n\t */\r\n\tcomplement() : TinyColor {\r\n\t\tconst hsl = this.toHsl();\r\n\t\thsl.h = (hsl.h + 180) % 360;\r\n\t\treturn new TinyColor(hsl, { format: this.format } as LColorOptions);\r\n\t}\r\n\t/**\r\n\t * 生成一组与当前颜色具有相同色相和饱和度的颜色。\r\n\t * 这些颜色的亮度值不同，形成一个单色调的颜色序列。\r\n\t * @param results - 要生成的单色调颜色的数量，默认值为 6。\r\n\t * @returns 一个包含当前颜色及其单色调颜色的 TinyColor 对象数组。\r\n\t */\r\n\tmonochromatic(results = 6) : TinyColor[] {\r\n\t\tconst hsv = this.toHsv();\r\n\t\tconst { h } = hsv;\r\n\t\tconst { s } = hsv;\r\n\t\tlet { v } = hsv;\r\n\t\tconst res : TinyColor[] = [];\r\n\t\tconst modification = 1 / results;\r\n\t\tlet _results = results\r\n\t\t// while (results--) {\r\n\t\t// \tres.push(new TinyColor({ h, s, v }));\r\n\t\t// \tv = (v + modification) % 1;\r\n\t\t// }\r\n\t\twhile (_results > 0) {\r\n\t\t\tres.push(new TinyColor({ h, s, v }));\r\n\t\t\tv = (v + modification) % 1;\r\n\t\t\t_results--\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t/**\r\n\t * 生成当前颜色的分裂补色。\r\n\t * 分裂补色是指在色相环上位于当前颜色的两侧的颜色，它们的色相差为 180°。\r\n\t * @returns 一个包含当前颜色及其分裂补色的 TinyColor 对象数组。\r\n\t */\r\n\tsplitcomplement() : TinyColor[] {\r\n\t\tconst hsl = this.toHsl();\r\n\t\tconst { h } = hsl;\r\n\t\treturn [\r\n\t\t\tthis,\r\n\t\t\tnew TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\r\n\t\t\tnew TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\r\n\t\t] as TinyColor[];\r\n\t}\r\n\t/**\r\n\t * 计算当前颜色在给定背景颜色上的显示效果。\r\n\t * @param background - 背景颜色，可以是任何 LColorInput 类型的值。\r\n\t * @returns 一个 TinyColor 对象，表示当前颜色在给定背景颜色上的显示效果。\r\n\t */\r\n\tonBackground(background : LColorInput) : TinyColor {\r\n\t\tconst fg = this.toRgb();\r\n\t\tconst bg = new TinyColor(background).toRgb();\r\n\t\tconst alpha = fg.a + bg.a * (1 - fg.a);\r\n\r\n\t\treturn new TinyColor({\r\n\t\t\tr: (fg.r * fg.a + bg.r * bg.a * (1 - fg.a)) / alpha,\r\n\t\t\tg: (fg.g * fg.a + bg.g * bg.a * (1 - fg.a)) / alpha,\r\n\t\t\tb: (fg.b * fg.a + bg.b * bg.a * (1 - fg.a)) / alpha,\r\n\t\t\ta: alpha,\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * 生成当前颜色的三色调。\r\n\t * 三色调是指在色相环上位于当前颜色的两侧的颜色，它们的色相差为 120°。\r\n\t * 这是 `polyad(3)` 方法的别名。\r\n\t * @returns 一个包含当前颜色及其三色调颜色的 TinyColor 对象数组。\r\n\t */\r\n\ttriad() : TinyColor[] {\r\n\t\treturn this.polyad(3);\r\n\t}\r\n\t/**\r\n\t * 生成当前颜色的四色调。\r\n\t * 四色调是指在色相环上位于当前颜色的两侧的颜色，它们的色相差为 90°。\r\n\t * 这是 `polyad(4)` 方法的别名。\r\n\t * @returns 一个包含当前颜色及其四色调颜色的 TinyColor 对象数组。\r\n\t */\r\n\ttetrad() : TinyColor[] {\r\n\t\treturn this.polyad(4);\r\n\t}\r\n\t/**\r\n\t * 生成当前颜色的 n 色调。\r\n\t * n 色调是指在色相环上位于当前颜色的两侧的颜色，它们的色相差为 360° / n。\r\n\t * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\r\n\t * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\r\n\t * @param n - 一个整数，表示要生成的色调数量。\r\n\t * @returns 一个包含当前颜色及其 n 色调颜色的 TinyColor 对象数组。\r\n\t */\r\n\tpolyad(n : number) : TinyColor[] {\r\n\t\tconst hsl = this.toHsl();\r\n\t\tconst { h } = hsl;\r\n\r\n\t\tconst result : TinyColor[] = [this];\r\n\t\tconst increment = 360 / n;\r\n\t\tfor (let i = 1; i < n; i++) {\r\n\t\t\tresult.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\t/**\r\n\t * 比较当前颜色与给定颜色是否相等。\r\n\t * @param color - 一个 LColorInput 类型的值，表示要比较的颜色。\r\n\t * @returns 一个布尔值，表示当前颜色与给定颜色是否相等。\r\n\t */\r\n\r\n\t// #ifndef APP-ANDROID\r\n\tequals(other ?: LColorInput) : boolean {\r\n\t\tif (other == null) {\r\n\t\t\treturn false\r\n\t\t} else if (other instanceof TinyColor) {\r\n\t\t\treturn this.toRgbString() == (other as TinyColor).toRgbString()\r\n\t\t}\r\n\t\treturn this.toRgbString() == new TinyColor(other).toRgbString();\r\n\t}\r\n\t// #endif\r\n\t// #ifdef APP-ANDROID\r\n\toverride equals(other ?: LColorInput) : boolean {\r\n\t\tif (other == null) {\r\n\t\t\treturn false\r\n\t\t} else if (other instanceof TinyColor) {\r\n\t\t\treturn this.toRgbString() == (other as TinyColor).toRgbString()\r\n\t\t}\r\n\t\treturn this.toRgbString() == new TinyColor(other).toRgbString();\r\n\t}\r\n\t// #endif\r\n}\r\n\r\nexport function tinyColor(color : LColorInput = '', opts : LColorOptions = {} as LColorOptions) : TinyColor {\r\n\treturn new TinyColor(color, opts);\r\n}","// https://github.com/ant-design/ant-design-colors/blob/main/src/generate.ts\r\nimport { inputToRGB } from './format-input';\r\nimport { rgbToHex, rgbToHsv } from './conversion';\r\nimport { HSV, LColorInfo, LGenerateOptions} from '../utssdk/interface.uts';\r\n\r\ntype DarkColorMapItem = {\r\n\tindex : number;\r\n\topacity : number;\r\n};\r\nconst hueStep = 2; // 色相阶梯\r\nconst saturationStep = 0.16; // 饱和度阶梯，浅色部分\r\nconst saturationStep2 = 0.05; // 饱和度阶梯，深色部分\r\nconst brightnessStep1 = 0.05; // 亮度阶梯，浅色部分\r\nconst brightnessStep2 = 0.15; // 亮度阶梯，深色部分\r\nconst lightColorCount = 5; // 浅色数量，主色上\r\nconst darkColorCount = 4; // 深色数量，主色下\r\n// 暗色主题颜色映射关系表\r\nconst darkColorMap = [\r\n\t{ index: 7, opacity: 0.15 },\r\n\t{ index: 6, opacity: 0.25 },\r\n\t{ index: 5, opacity: 0.3 },\r\n\t{ index: 5, opacity: 0.45 },\r\n\t{ index: 5, opacity: 0.65 },\r\n\t{ index: 5, opacity: 0.85 },\r\n\t{ index: 4, opacity: 0.9 },\r\n\t{ index: 3, opacity: 0.95 },\r\n\t{ index: 2, opacity: 0.97 },\r\n\t{ index: 1, opacity: 0.98 },\r\n] as DarkColorMapItem[];\r\n\r\n\r\n// 从 TinyColor.toHsv 移植的包装函数\r\n// 保留这里，因为有 `hsv.h * 360`\r\nfunction toHsv({ r, g, b } : LColorInfo) : HSV {\r\n\t// 将 RGB 值转换为 HSV 值\r\n\tconst hsv = rgbToHsv(r, g, b);\r\n\t// 返回一个 HsvObject，其中 h 值乘以 360\r\n\treturn { h: hsv.h * 360, s: hsv.s, v: hsv.v } as HSV;\r\n}\r\n\r\n// 从 TinyColor.toHexString 移植的包装函数\r\n// 保留这里，因为有前缀 `#`\r\nfunction toHex({ r, g, b }: LColorInfo) : string {\r\n\t// 将 RGB 值转换为十六进制字符串，并添加前缀 `#`\r\n\treturn `#${rgbToHex(r, g, b, false)}`;\r\n}\r\n\r\n\r\n// 从 TinyColor.mix 移植的包装函数，无法进行 tree-shaking\r\n// 数量范围为 [0, 1]\r\n// 假设 color1 和 color2 没有透明度，因为以下源代码也是如此\r\nfunction mix(rgb1 : LColorInfo, rgb2 : LColorInfo, amount : number) : LColorInfo {\r\n\t// 将 amount 除以 100，得到一个范围为 [0, 1] 的值\r\n\tconst p = amount / 100;\r\n\t// 计算混合后的 RGB 值\r\n\tconst rgb = {\r\n\t\tr: (rgb2.r - rgb1.r) * p + rgb1.r,\r\n\t\tg: (rgb2.g - rgb1.g) * p + rgb1.g,\r\n\t\tb: (rgb2.b - rgb1.b) * p + rgb1.b,\r\n\t\ta: 1\r\n\t} as LColorInfo;\r\n\t// 返回混合后的 RGB 对象\r\n\treturn rgb;\r\n}\r\n\r\n// 根据给定的 HSV 对象和索引值计算新的色相值\r\n// 如果 light 参数为 true，则色相向左转动；否则向右转动\r\nfunction getHue(hsv : HSV, i : number, light : boolean = false) : number {\r\n\tlet hue : number;\r\n\t// 根据色相不同，色相转向不同\r\n\tif (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\r\n\t\t// 如果色相在 60 到 240 之间，向左转动\r\n\t\thue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\r\n\t} else {\r\n\t\thue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\r\n\t}\r\n\r\n\tif (hue < 0) {\r\n\t\t// 如果新的色相值小于 0，则加上 360\r\n\t\thue += 360;\r\n\t} else if (hue >= 360) {\r\n\t\t// 如果新的色相值大于等于 360，则减去 360\r\n\t\thue -= 360;\r\n\t}\r\n\treturn hue;\r\n}\r\n\r\n\r\n// 根据给定的 HSV 对象和索引值计算新的饱和度值\r\n// 如果 light 参数为 true，则饱和度减小；否则增加\r\nfunction getSaturation(hsv : HSV, i : number, light : boolean = false) : number {\r\n\t// grey color don't change saturation\r\n\t// 如果颜色是灰色（色相和饱和度都为 0），则饱和度不变\r\n\tif (hsv.h == 0 && hsv.s == 0) {\r\n\t\treturn hsv.s;\r\n\t}\r\n\tlet saturation : number;\r\n\t// 如果 light 参数为 true，则饱和度减小\r\n\tif (light) {\r\n\t\tsaturation = hsv.s - saturationStep * i;\r\n\t}\r\n\t// 如果 i 等于 darkColorCount，则饱和度增加\r\n\telse if (i == darkColorCount) {\r\n\t\tsaturation = hsv.s + saturationStep;\r\n\t}\r\n\t// 否则，饱和度增加\r\n\telse {\r\n\t\tsaturation = hsv.s + saturationStep2 * i;\r\n\t}\r\n\t// 边界值修正\r\n\tif (saturation > 1) {\r\n\t\tsaturation = 1;\r\n\t}\r\n\t// 第一格的 s 限制在 0.06-0.1 之间\r\n\tif (light && i == lightColorCount && saturation > 0.1) {\r\n\t\tsaturation = 0.1;\r\n\t}\r\n\tif (saturation < 0.06) {\r\n\t\tsaturation = 0.06;\r\n\t}\r\n\treturn parseFloat(saturation.toFixed(2))\r\n}\r\n\r\n// 根据给定的 HSV 对象和索引值计算新的亮度值\r\n// 如果 light 参数为 true，则亮度增加；否则减少\r\nfunction getValue(hsv : HSV, i : number, light : boolean = false) : number {\r\n\tlet value : number;\r\n\t// 如果 light 参数为 true，则亮度增加\r\n\tif (light) {\r\n\t\tvalue = hsv.v + brightnessStep1 * i;\r\n\t} else {\r\n\t\tvalue = hsv.v - brightnessStep2 * i;\r\n\t}\r\n\tif (value > 1) {\r\n\t\tvalue = 1;\r\n\t}\r\n\t// 返回保留两位小数的亮度值\r\n\treturn parseFloat(value.toFixed(2));\r\n}\r\n\r\n\r\n\r\n\r\n/**\n * generate 函数用于生成一组基于给定颜色的色彩模式。\n * 它可以生成亮色、暗色和深色主题颜色模式。\n *\n * @param {string} color - 输入的颜色值，可以是十六进制、RGB、RGBA、HSL、HSLA或颜色名称。\n * @param {LGenerateOptions} [opts] - 可选的生成选项。\n * @returns {string[]} - 返回一个包含生成的颜色模式的字符串数组。\n */\r\nexport function generate(color : string, opts : LGenerateOptions = {} as LGenerateOptions) : string[] {\r\n\tconst patterns : string[] = [];\r\n\tconst pColor = inputToRGB(color);\r\n\r\n\t// 生成亮色模式\r\n\tfor (let i = lightColorCount; i > 0; i -= 1) {\r\n\t\tconst hsv = toHsv(pColor);\r\n\t\tconst colorString : string = toHex(\r\n\t\t\tinputToRGB({\r\n\t\t\t\th: getHue(hsv, i, true),\r\n\t\t\t\ts: getSaturation(hsv, i, true),\r\n\t\t\t\tv: getValue(hsv, i, true),\r\n\t\t\t}),\r\n\t\t);\r\n\t\tpatterns.push(colorString);\r\n\t}\r\n\r\n\t// 添加原始颜色\r\n\tpatterns.push(toHex(pColor));\r\n\r\n\t// 生成暗色模式\r\n\tfor (let i = 1; i <= darkColorCount; i += 1) {\r\n\t\tconst hsv = toHsv(pColor);\r\n\t\tconst colorString : string = toHex(\r\n\t\t\tinputToRGB({\r\n\t\t\t\th: getHue(hsv, i),\r\n\t\t\t\ts: getSaturation(hsv, i),\r\n\t\t\t\tv: getValue(hsv, i),\r\n\t\t\t}),\r\n\t\t);\r\n\t\tpatterns.push(colorString);\r\n\t}\r\n\r\n\t// 如果选项中指定了 dark 主题，则生成深色主题颜色模式\r\n\tif (opts.theme == 'dark') {\r\n\t\treturn darkColorMap.map(({ index, opacity }, _):string => {\r\n\t\t\tconst darkColorString : string = toHex(\r\n\t\t\t\tmix(\r\n\t\t\t\t\tinputToRGB(opts.backgroundColor ?? '#141414'),\r\n\t\t\t\t\tinputToRGB(patterns[index]),\r\n\t\t\t\t\topacity * 100,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\treturn darkColorString;\r\n\t\t});\r\n\t}\r\n\r\n\t// 返回默认颜色模式\r\n\treturn patterns;\r\n}\r\n\r\n","// 引入颜色处理库\r\nimport { tinyColor } from '@/uni_modules/lime-color';\r\n\r\n\r\n/**\r\n * 操作类型\r\n * play: 开始动画\r\n * failed: 显示失败状态\r\n * clear: 清除动画\r\n * destroy: 销毁实例\r\n */\r\nexport type TickType = 'play' | 'failed' | 'clear' | 'destroy' | 'pause'\r\n/**\r\n * 加载动画类型\r\n * circular: 环形加载动画\r\n * spinner: 旋转器加载动画\r\n * failed: 失败状态动画\r\n */\r\nexport type LoadingType = 'circular' | 'spinner' | 'failed';\r\n/**\r\n * 加载组件返回接口\r\n */\r\nexport type UseLoadingReturn = {\r\n\tratio : 1;\r\n\ttype : LoadingType;\r\n\tmode : 'raf' | 'animate'; // \r\n\tcolor : string;//Ref<string>;\r\n\tplay : () => void;\r\n\tfailed : () => void;\r\n\tclear : () => void;\r\n\tdestroy : () => void;\r\n\tpause : () => void;\r\n}\r\n\r\n\r\n/**\r\n * 计算圆周上指定角度的点的坐标\r\n * @param centerX 圆心的 X 坐标\r\n * @param centerY 圆心的 Y 坐标\r\n * @param radius 圆的半径\r\n * @param angleDegrees 角度（以度为单位）\r\n * @returns 包含 X 和 Y 坐标的对象\r\n */\r\nfunction getPointOnCircle(\r\n\tcenterX : number,\r\n\tcenterY : number,\r\n\tradius : number,\r\n\tangleDegrees : number\r\n) : number[] {\r\n\t// 将角度转换为弧度\r\n\tconst angleRadians = (angleDegrees * Math.PI) / 180;\r\n\r\n\t// 计算点的 X 和 Y 坐标\r\n\tconst x = centerX + radius * Math.cos(angleRadians);\r\n\tconst y = centerY + radius * Math.sin(angleRadians);\r\n\r\n\treturn [x, y]\r\n}\r\n\r\nexport function useLoading(element : Ref<UniElement | null>) : UseLoadingReturn {\r\n\r\n\tconst tick = ref<TickType>('pause')\r\n\r\n\tconst state = reactive<UseLoadingReturn>({\r\n\t\tcolor: '#000',\r\n\t\ttype: 'circular',\r\n\t\tratio: 1,\r\n\t\tmode: 'raf',\r\n\t\tplay: () => {\r\n\t\t\ttick.value = 'play'\r\n\t\t},\r\n\t\tfailed: () => {\r\n\t\t\ttick.value = 'failed'\r\n\t\t},\r\n\t\tclear: () => {\r\n\t\t\ttick.value = 'clear'\r\n\t\t},\r\n\t\tdestroy: () => {\r\n\t\t\ttick.value = 'destroy'\r\n\t\t},\r\n\t\tpause: () => {\r\n\t\t\ttick.value = 'pause'\r\n\t\t}\r\n\t})\r\n\r\n\tconst context = shallowRef<DrawableContext | null>(null);\r\n\t// let ctx:DrawableContext|null = null\r\n\r\n\t// let rotation = 0\r\n\tlet isPlaying = false\r\n\tlet canvasWidth = ref(0)\r\n\tlet canvasHeight = ref(0)\r\n\tlet canvasSize = ref(0)\r\n\r\n\tlet animationFrameId = -1\r\n\tlet animation : UniAnimation | null = null\r\n\r\n\tlet drawFrame : (() => void) | null = null\r\n\tconst size = computed(() : number => state.ratio > 1 ? state.ratio : canvasSize.value * state.ratio)\r\n\t// 绘制圆形加载\r\n\tconst drawCircular = () => {\r\n\t\tlet startAngle = 0;   // 起始角度\r\n\t\tlet endAngle = 0;     // 结束角度\r\n\t\tlet rotate = 0;       // 旋转角度\r\n\r\n\t\t// const ctx = context.value!\r\n\t\t// 动画参数配置\r\n\t\tconst MIN_ANGLE = 5;          // 最小保持角度\r\n\t\tconst ARC_LENGTH = 359.5      // 最大弧长（避免闭合）\r\n\t\tconst PI = Math.PI / 180      // 角度转弧度系数\r\n\t\tconst SPEED = 0.018 / 4           // 动画速度\r\n\t\tconst ROTATE_INTERVAL = 0.09 / 4  // 旋转增量\r\n\r\n\t\tconst lineWidth = size.value / 10;  // 线宽计算\r\n\t\tconst x = canvasWidth.value / 2           // 中心点X\r\n\t\tconst y = canvasHeight.value / 2          // 中心点Y\r\n\t\tconst radius = size.value / 2 - lineWidth // 实际绘制半径\r\n\r\n\t\tdrawFrame = () => {\r\n\t\t\tif (context.value == null || !isPlaying) return\r\n\t\t\tlet ctx = context.value!\r\n\r\n\r\n\t\t\t// console.log('radius', radius, size.value)\r\n\t\t\tctx.reset();\r\n\r\n\t\t\t// 绘制圆弧\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tradius,\r\n\t\t\t\tstartAngle * PI + rotate,\r\n\t\t\t\tendAngle * PI + rotate\r\n\t\t\t);\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = state.color;\r\n\t\t\tctx.stroke();\r\n\r\n\t\t\t// 角度更新逻辑\r\n\t\t\tif (endAngle < ARC_LENGTH) {\r\n\t\t\t\tendAngle = Math.min(ARC_LENGTH, endAngle + (ARC_LENGTH - MIN_ANGLE) * SPEED);\r\n\t\t\t} else if (startAngle < ARC_LENGTH) {\r\n\t\t\t\tstartAngle = Math.min(ARC_LENGTH, startAngle + (ARC_LENGTH - MIN_ANGLE) * SPEED);\r\n\t\t\t} else {\r\n\t\t\t\t// 重置时保留最小可见角度\r\n\t\t\t\tstartAngle = 0;\r\n\t\t\t\tendAngle = MIN_ANGLE;\r\n\t\t\t}\r\n\r\n\t\t\tctx.update()\r\n\r\n\r\n\r\n\t\t\tif (state.mode == 'raf') {\r\n\t\t\t\trotate = (rotate + ROTATE_INTERVAL) % 360; // 持续旋转并限制范围\r\n\t\t\t\tif (isPlaying && drawFrame != null) {\r\n\t\t\t\t\tanimationFrameId = requestAnimationFrame(drawFrame!)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tlet lastTime = Date.now();\r\n\tconst drawSpinner = () => {\r\n\t\tconst steps = 12;     // 旋转线条数量\r\n\t\t// const size = state.ratio > 1 ? state.ratio : canvasSize.value\r\n\t\tconst lineWidth = size.value / 10;  // 线宽\r\n\t\tconst x = canvasWidth.value / 2  // 中心坐标\r\n\t\tconst y = canvasHeight.value / 2\r\n\r\n\t\tlet step = 0;         // 当前步数\r\n\t\t// #ifdef APP-HARMONY\r\n\t\tconst length = size.value / 3.4 - lineWidth;  // 线长\r\n\t\t// #endif\r\n\t\t// #ifndef APP-HARMONY\r\n\t\tconst length = size.value / 3.6 - lineWidth;  // 线长\r\n\t\t// #endif\r\n\t\tconst offset = size.value / 4;      // 距中心偏移\r\n\r\n\t\t/** 生成颜色渐变数组 */\r\n\t\tfunction generateColorGradient(hex : string, steps : number) : string[] {\r\n\t\t\tconst colors : string[] = []\r\n\t\t\tconst _color = tinyColor(hex)\r\n\r\n\t\t\tfor (let i = 1; i <= steps; i++) {\r\n\t\t\t\t_color.setAlpha(i / steps);\r\n\t\t\t\tcolors.push(_color.toRgbString());\r\n\t\t\t}\r\n\t\t\treturn colors\r\n\t\t}\r\n\r\n\t\t// 计算颜色渐变\r\n\t\tlet colors = computed(() : string[] => generateColorGradient(state.color, steps))\r\n\r\n\t\t/** 帧绘制函数 */\r\n\t\tdrawFrame = () => {\r\n\t\t\tif (context.value == null || !isPlaying) return\r\n\t\t\tconst delta = Date.now() - lastTime;\r\n\r\n\r\n\t\t\tif (delta >= 1000 / 10) {\r\n\t\t\t\tlastTime = Date.now();\r\n\t\t\t\tlet ctx = context.value!\r\n\t\t\t\tctx.reset();\r\n\t\t\t\tfor (let i = 0; i < steps; i++) {\r\n\t\t\t\t\tconst stepAngle = 360 / steps;    // 单步角度\r\n\t\t\t\t\tconst angle = stepAngle * i;      // 当前角度\r\n\t\t\t\t\tconst index = (steps + i - step) % steps // 颜色索引\r\n\t\t\t\t\t// 计算线段坐标\r\n\t\t\t\t\tconst radian = angle * Math.PI / 180;\r\n\t\t\t\t\tconst cos = Math.cos(radian);\r\n\t\t\t\t\tconst sin = Math.sin(radian);\r\n\r\n\t\t\t\t\t// 绘制线段\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(x + offset * cos, y + offset * sin);\r\n\t\t\t\t\tctx.lineTo(x + (offset + length) * cos, y + (offset + length) * sin);\r\n\t\t\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\t\t\tctx.lineCap = 'round';\r\n\t\t\t\t\tctx.strokeStyle = colors.value[index];\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tctx.update()\r\n\t\t\t\tif(state.mode == 'raf') {\r\n\t\t\t\t\t// step += 1\r\n\t\t\t\t\tstep = (step + 1) % steps; // 限制step范围\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (state.mode == 'raf') {\r\n\t\t\t\tif (isPlaying && drawFrame != null) {\r\n\t\t\t\t\tanimationFrameId = requestAnimationFrame(drawFrame!)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst drwaFailed = () => {\r\n\t\tif (context.value == null) return\r\n\t\tlet ctx = context.value!\r\n\r\n\t\t// const size = state.ratio > 1 ? state.ratio : canvasSize.value\r\n\t\tconst innerSize = size.value * 0.8 // 内圈尺寸\r\n\t\tconst lineWidth = innerSize / 10; // 线宽\r\n\t\tconst lineLength = (size.value - lineWidth) / 2 // X长度\r\n\t\tconst centerX = canvasWidth.value / 2;\r\n\t\tconst centerY = canvasHeight.value / 2;\r\n\t\tconst radius = (size.value - lineWidth) / 2\r\n\r\n\r\n\r\n\t\tconst angleRadians1 = 45 * Math.PI / 180\r\n\t\tconst angleRadians2 = (45 - 90) * Math.PI / 180\r\n\r\n\t\tctx.reset()\r\n\t\tctx.lineWidth = lineWidth;\r\n\t\tctx.strokeStyle = state.color;\r\n\r\n\t\t// 绘制逐渐显示的圆\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\r\n\t\tctx.lineWidth = lineWidth;\r\n\t\tctx.strokeStyle = state.color;\r\n\t\tctx.stroke();\r\n\r\n\t\tconst [startX1, startY] = getPointOnCircle(centerX, centerY, lineLength / 2, 180 + 45)\r\n\t\tconst [startX2] = getPointOnCircle(centerX, centerY, lineLength / 2, 180 + 90 + 45)\r\n\r\n\t\tconst x2 = Math.sin(angleRadians1) * lineLength + startX1\r\n\t\tconst y2 = Math.cos(angleRadians1) * lineLength + startY\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(startX1, startY)\r\n\t\tctx.lineTo(x2, y2)\r\n\t\tctx.stroke();\r\n\r\n\t\tconst x3 = Math.sin(angleRadians2) * lineLength + startX2\r\n\t\tconst y3 = Math.cos(angleRadians2) * lineLength + startY\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(startX2, startY)\r\n\t\tctx.lineTo(x3, y3)\r\n\t\tctx.stroke();\r\n\r\n\r\n\t\tctx.update()\r\n\t}\r\n\r\n\tlet currentType : LoadingType | null = null\r\n\tconst useMode = () => {\r\n\t\tif (state.mode != 'raf') {\r\n\t\t\tconst keyframes = [{ transform: 'rotate(0)' }, { transform: 'rotate(360)' }]\r\n\t\t\tanimation = element.value!.animate(keyframes, {\r\n\t\t\t\tduration: 80000,\r\n\t\t\t\teasing: 'linear',\r\n\t\t\t\t// fill: 'forwards',\r\n\t\t\t\titerations: Infinity\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tconst startAnimation = (type : string) => {\r\n\t\tif (context.value == null || element.value == null) return\r\n\t\tanimation?.pause()\r\n\r\n\t\tif (currentType == type) {\r\n\t\t\tisPlaying = true\r\n\t\t\tanimation?.play()\r\n\t\t\tdrawFrame?.()\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (type == 'circular') {\r\n\t\t\tcurrentType = 'circular'\r\n\t\t\tdrawCircular()\r\n\t\t\tuseMode()\r\n\r\n\t\t}\r\n\r\n\t\tif (type == 'spinner') {\r\n\t\t\tcurrentType = 'spinner'\r\n\t\t\tdrawSpinner()\r\n\t\t\tuseMode()\r\n\t\t}\r\n\r\n\t\tisPlaying = true\r\n\t\tdrawFrame?.()\r\n\t}\r\n\r\n\t// 监听元素尺寸\r\n\tconst resizeObserver : UniResizeObserver = new UniResizeObserver((_entries : UniResizeObserverEntry[]) => {\r\n\t\trequestAnimationFrame(()=> {\r\n\t\t\telement.value?.getBoundingClientRectAsync()?.then(rect => {\r\n\t\t\t\tif (rect.width == 0 || rect.height == 0) return\r\n\t\t\t\tcontext.value = element.value!.getDrawableContext() as DrawableContext;\r\n\t\t\t\tcanvasWidth.value = rect.width;\r\n\t\t\t\tcanvasHeight.value = rect.height;\r\n\t\t\t\tcanvasSize.value = Math.min(rect.width, rect.height);\r\n\t\t\t\t// startAnimation(state.type)\r\n\t\t\t})\r\n\t\t})\r\n\t});\r\n\r\n\twatchEffect(() => {\r\n\t\tif (element.value == null) return\r\n\t\tresizeObserver.observe(element.value!);\r\n\t})\r\n\r\n\twatchEffect(() => {\r\n\t\tif (context.value == null) return\r\n\t\tif (tick.value == 'play') {\r\n\t\t\tstartAnimation(state.type)\r\n\t\t}\r\n\t\tif (tick.value == 'failed') {\r\n\t\t\tclearTimeout(animationFrameId)\r\n\t\t\tanimation?.pause()\r\n\t\t\tanimation?.cancel()\r\n\t\t\tdrwaFailed()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (tick.value == 'clear') {\r\n\t\t\tclearTimeout(animationFrameId)\r\n\t\t\tanimation?.pause()\r\n\t\t\tanimation?.cancel()\r\n\t\t\tcontext.value?.reset();\r\n\t\t\tcontext.value?.update();\r\n\t\t\tisPlaying = false\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (tick.value == 'destroy') {\r\n\t\t\tclearTimeout(animationFrameId)\r\n\t\t\tanimation?.pause()\r\n\t\t\tanimation?.cancel()\r\n\t\t\tcontext.value?.reset();\r\n\t\t\tcontext.value?.update();\r\n\t\t\tcontext.value = null\r\n\t\t\tanimation = null\r\n\t\t\tisPlaying = false\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (tick.value == 'pause') {\r\n\t\t\tclearTimeout(animationFrameId)\r\n\t\t\tisPlaying = false\r\n\t\t\tanimation?.pause()\r\n\t\t\treturn\r\n\t\t}\r\n\t})\r\n\r\n\treturn state\r\n}","<template>\r\n\t<view class=\"l-loading\" :class=\"classes\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t<view class=\"l-loading__view\" ref=\"loadingRef\" :style=\"spinnerStyle\"></view>\r\n\r\n\t\t<text class=\"l-loading__text\" v-if=\"$slots['default'] != null || text != null\" :style=\"textStyle\">\r\n\t\t\t<slot>{{text}}</slot>\r\n\t\t</text>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Loading 加载指示器\r\n\t * @description 用于表示加载中的过渡状态，支持多种动画类型和布局方式\r\n\t * <br> 插件类型：LLoadingComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-loading\r\n\t * \r\n\t * @property {string} color 加载图标颜色（默认：主题色）\r\n\t * @property {'circular' | 'spinner' | 'failed'} mode 动画实现的模式.只针对APP\r\n\t * @value raf 延时\r\n\t * @value animate 基于元素的annimate方法\r\n\t * @property {'circular' | 'spinner' | 'failed'} type 加载状态类型\r\n\t * @value circular  环形旋转动画（默认）\r\n\t * @value spinner   菊花转动画\r\n\t * @value failed    加载失败提示\r\n\t * @property {string} text 提示文字内容\r\n\t * @property {string} textColor 文字颜色（默认同color）\r\n\t * @property {string} textSize 文字字号（默认：14px）\r\n\t * @property {boolean} vertical 是否垂直排列图标和文字\r\n\t * @property {boolean} animated 是否启用旋转动画（failed类型自动禁用）\r\n\t * @property {string} size 图标尺寸（默认：'40px'）\r\n\t */\r\n\timport { LoadingProps } from './type'\r\n\r\n\t// import {useLoading} from './useLoading'\r\n\timport {useLoading} from '@/uni_modules/lime-loading'\r\n\r\n\tconst name = 'l-loading'\r\n\tconst props = withDefaults(defineProps<LoadingProps>(), {\r\n\r\n\t\tsize: '40rpx',\r\n\r\n\t\ttype: 'circular',\r\n\t\tmode: 'raf',\r\n\t\tanimated: true,\r\n\t\tvertical: false,\r\n\t})\r\n\t\r\n\t\r\n\tconst classes = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst cls = new Map<string,any>()\r\n\t\tcls.set(name + '--' + props.type, true)\r\n\t\tif (props.vertical) {\r\n\t\t\tcls.set('is-vertical', props.vertical)\r\n\t\t} else {\r\n\t\t\tcls.set('is-horizontal', !props.vertical)\r\n\t\t}\r\n\t\treturn cls\r\n\t})\r\n\t\r\n\tconst spinnerStyle = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>()\r\n\t\tstyle.set('width', props.size)\r\n\t\tstyle.set('height', props.size)\r\n\r\n\r\n\r\n\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst textStyle = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>()\r\n\t\tif (props.textColor != null) {\r\n\t\t\tstyle.set('color', props.textColor!)\r\n\t\t}\r\n\t\tif (props.textSize != null) {\r\n\t\t\tstyle.set('font-size', props.textSize!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\r\n\tconst loadingRef = ref<UniElement|null>(null)\r\n\t// const {state, color} =  useLoading(loadingRef, props.type, props.color, 1)\r\n\tconst loading = useLoading(loadingRef)\r\n\tloading.type = props.type;\r\n\tloading.mode = props.mode;\r\n\tif(props.animated){\r\n\t\tloading.play()\r\n\t}\r\n\t\r\n\t// state.value = true\r\n\twatchEffect(()=>{\r\n\t\tif(loadingRef.value == null) return\r\n\t\tconst color = props.color  ?? loadingRef.value?.style.getPropertyValue('border-left-color')\r\n\t\tloading.color = color == null || color.length == 0 ? '#1677ff' : color\r\n\t\t\r\n\t\tif(props.animated){\r\n\t\t\tloading.play()\r\n\t\t} else {\r\n\t\t\tloading.pause()\r\n\t\t}\r\n\t})\r\n\r\n\t\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import './index-u.scss';\r\n</style>","<template>\n\n\t<view class=\"l-button\" \n\t\tref=\"rootRef\"\n\t\t:class=\"classes\" \n\t\t:hover-class=\"disabled || loading || color != null ? '': hoverClass ?? 'hover'\" \n\t\t:style=\"[styles, lStyle]\"  \n\t\t:hover-start-time=\"hoverStartTime\"\n\t\t:hover-stay-time=\"hoverStayTime\"\n\t\t:data-disabled=\"disabled||loading\" \n\t\t@tap.stop=\"handleTap\" >\n\t\t<l-loading class=\"l-button__loading\" :color=\"loadingColor\" v-if=\"loading\"></l-loading>\n\t\t<l-icon class=\"l-button__icon\"  :size=\"innerIconSize\" :color=\"loadingColor\" v-if=\"icon\" :name=\"icon\"></l-icon>\n\t\t<text class=\"l-button__content\" :class=\"gapClass\" ref=\"buttonTextRef\" :style=\"[contentStyle]\">\n\t\t\t<slot>{{content}}</slot>\n\t\t</text>\n\t\t<button \n\t\t\tclass=\"l-button__button\"\n\t\t\thover-class=\"none\" \n\t\t\tv-if=\"formType != null || openType != null\"\n\t\t\t@agreeprivacyauthorization=\"agreeprivacyauthorization\" \n\t\t\t:disabled=\"disabled || loading\"\n\t\t\t:form-type=\"disabled || loading ? '' : formType\"\n\t\t\t:open-type=\"disabled || loading ? '' : openType\" >\n\t\t</button>\n\t</view>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Button 按钮组件\n\t * @description 提供丰富的按钮样式和交互功能，支持多种形态和平台特性\n\t * <br> 插件类型：LButtonComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-button\n\t * \n\t * @property {string} ariaLabel 无障碍标签（用于屏幕阅读器）\n\t * @property {boolean} block 块级布局（占满父容器宽度）\n\t * @property {boolean} disabled 禁用状态\n\t * @property {boolean} ghost 幽灵模式（透明背景+边框）\n\t * @property {string} icon 左侧图标名称/路径\n\t * @property {string} iconSize 图标尺寸（支持CSS单位）\n\t * @property {boolean} loading 加载状态（显示加载动画）\n\t * @property {UTSJSONObject} loadingProps 加载动画配置\n\t * @property {'rectangle' | 'square' | 'round' | 'circle'} shape 按钮形状\n\t * @value rectangle 长方形（默认）\n\t * @value square 正方形\n\t * @value round 圆角矩形\n\t * @value circle 圆形\n\t * @property {SizeEnum} size 按钮尺寸\n\t * @value mini 小号\n\t * @value small 小号\n\t * @value medium 中号（默认）\n\t * @value large 大号\n\t * @property {string} suffix 右侧附加内容（图标/文本）\n\t * @property {'default' | 'primary' | 'danger' | 'warning' | 'success' | 'info'} type 色彩类型\n\t * @value default\n\t * @value primary\n\t * @value danger \n\t * @value warning\n\t * @value success\n\t * @value info\n\t * @property {'solid' | 'outline' | 'text' | 'light' | 'dashed'} variant 样式变体\n\t * @value solid \n\t * @value outline\n\t * @value text \n\t * @value light\n\t * @value dashed\n\t * @property {string} radius 自定义圆角（覆盖shape设置）\n\t * @property {string} fontSize 文字字号（支持CSS单位）\n\t * @property {string} textColor 文字颜色（支持CSS颜色值）\n\t * @property {string} color 主色（背景/边框色）\n\t * \n\t * @platform 微信小程序\n\t * @property {string} formType 表单类型（submit/reset）\n\t * @property {string} openType 开放能力（contact/share等）\n\t * @property {string} lang 用户信息语言（zh_CN/zh_TW/en）\n\t * @property {string} sessionFrom 会话来源（contact模式有效）\n\t * @property {string} sendMessageTitle 消息卡片标题（contact模式有效）\n\t * @property {string} sendMessagePath 消息跳转路径（contact模式有效）\n\t * @property {string} sendMessageImg 消息卡片图片（contact模式有效）\n\t * @property {string} appParameter APP启动参数（launchApp模式）\n\t * @property {boolean} showMessageCard 显示消息卡片提示\n\t * \n\t * @property {string} hoverClass 点击态样式类（默认：button-hover）\n\t * @property {boolean} hoverStopPropagation 阻止祖先点击态\n\t * @property {number} hoverStartTime 点击态延迟（默认：20ms）\n\t * @property {number} hoverStayTime 点击态保留时间（默认：70ms）\n\t * @event {Function} click 点击事件（禁用状态下不触发）\n\t * @event {Function} getuserinfo 用户信息授权回调\n\t * @event {Function} contact 客服会话回调\n\t * @event {Function} agreeprivacyauthorization\n\t * @event {Function} chooseavatar\n\t * @event {Function} getphonenumber\n\t * @event {Function} error\n\t * @event {Function} opensetting\n\t * @event {Function} launchapp\n\t */\n\t\n\timport { ButtonProps } from './type'\n\t\n\tdefineOptions({\n\t\tbehaviors: ['wx://form-field-button']\n\t})\n\t\n\tconst emit = defineEmits(['click','agreeprivacyauthorization', 'chooseavatar', 'getuserinfo','contact', 'getphonenumber', 'error', 'opensetting', 'launchapp'])\n\tconst props = withDefaults(defineProps<ButtonProps>(), {\n\t\tblock: false,\n\t\tdisabled: false,\n\t\tghost: false,\n\t\tloading: false,\n\t\tshape: 'rectangle',\n\t\tsize: 'medium',\n\t\ttype: 'default',\n\t\t// hoverClass: '',\n\t\thoverStopPropagation: false,\n\t\thoverStartTime: 20,\n\t\thoverStayTime: 70,\n\t\tlang: 'en',\n\t\tsessionFrom: '',\n\t\tsendMessageTitle: '',\n\t\tsendMessagePath: '',\n\t\tsendMessageImg: '',\n\t\tappParameter: '',\n\t\tshowMessageCard: false\n\t\t// variant: 'solid'\n\t})\n\t\n\t\n\tconst instance = getCurrentInstance()\n\t// const rootRef = ref<UniElement|null>(null)\n\tconst buttonTextRef = ref<UniTextElement|null>(null)\n\tconst hasContent = computed(():boolean => {\n\t\treturn props.content != null || instance?.proxy?.$slots?.['default'] != null\n\t})\n\tconst variant = computed(():string => props.variant ?? (props.color != null ? 'solid' : (props.type == 'default' ? 'outline': 'solid')))\n\tconst classes = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tconst name = 'l-button'\n\t\tcls.set(`${name}--${props.size}`, true)\n\t\tcls.set(`${name}--${props.type}`, true)\n\t\tcls.set(`${name}--${variant.value}`, true)\n\t\tcls.set(`${name}--${props.shape}`, true)\n\t\tcls.set(`${name}--disabled`, props.disabled)\n\t\tcls.set(`${name}--loading`, props.loading)\n\t\tcls.set(`${name}--ghost`, props.ghost)\n\t\tcls.set(`${name}--block`, props.block)\n\t\t\n\t\treturn cls\n\t})\n\t\n\tconst styles = computed(():Map<string, any>=>{\n\t\tconst style =  new Map<string, any>()\n\n\n\n\n\n\t\tif(props.radius != null) {\n\t\t\tstyle.set('border-radius', props.radius!)\n\t\t}\n\t\tif(props.color != null) {\n\t\t\tif(variant.value == 'solid') {\n\t\t\t\tstyle.set('background', props.color!)\n\t\t\t} else if(['outline', 'dashed'].includes(variant.value)) {\n\n\t\t\t\tstyle.set('border-color', props.color!)\n\n\n\n\n\n\t\t\t}\n\t\t\t\n\t\t}\n\t\treturn style\n\t})\n\t\n\tconst sizes = new Map<string, string>([\n\n\t\t['mini', '16px'],\n\t\t['small', '18px'],\n\t\t['medium', '18px'],\n\t\t['large', '24px'],\n\n\t])\n\tconst innerIconSize = computed(():string|null=> {\n\t\treturn props.iconSize ?? props.fontSize ?? sizes.get(props.size)\n\t})\n\tconst colors = new Map<string, string>([\n\n\t\t// ['default', 'rgba(0,0,0,0.88)'],\n\t\t// ['primary', '#3283ff'],\n\t\t// ['danger', '#FF4D4F'],\n\t\t// ['warning', '#ffb400'],\n\t\t// ['success', '#34c471'],\n\t\t// ['info', '#3283ff'],\n\n\t])\n\tconst loadingColor = computed(():string|null => {\n\n\t\treturn props.textColor ?? (variant.value == 'solid' ? 'white' :  buttonTextRef.value?.style.getPropertyValue('color') as string | null) ?? ''//colors.get(props.type))\n\n\n\n\n\t})\n\t\n\tconst gapClass = computed((): string => {\n\t\treturn props.loading || props.icon != null ? 'gap' : ''\n\t})\n\tconst contentStyle = computed(():Map<string, any> => {\n\t\tconst style =  new Map<string, any>()\n\t\tif(props.gap != null && (props.loading || props.icon != null)) {\n\t\t\tstyle.set('margin-left', props.gap!)\n\t\t}\n\t\tif(props.textColor != null || props.color != null && variant.value != 'solid') {\n\t\t\tstyle.set('color', (props.textColor ?? props.color)!)\n\t\t}\n\t\tif(props.fontSize != null) {\n\t\t\tstyle.set('font-size', props.fontSize!)\n\t\t}\n\t\treturn style\n\t})\n\n\n\n\n\n\n\tconst getuserinfo = (e: UniEvent) => {\n\t\temit('getuserinfo', e);\n\t}\n\tconst contact = (e: UniEvent) => {\n\t\temit('contact', e);\n\t}\n\tconst getphonenumber = (e: UniEvent) => {\n\t\temit('getphonenumber', e);\n\t}\n\tconst error = (e: UniEvent) => {\n\t\temit('error', e);\n\t}\n\tconst opensetting = (e: UniEvent) => {\n\t\temit('opensetting', e);\n\t}\n\tconst launchapp = (e: UniEvent) => {\n\t\temit('launchapp', e);\n\t}\n\tconst chooseavatar = (e: UniEvent) => {\n\t\temit('chooseavatar', e);\n\t}\n\tconst agreeprivacyauthorization = (e: UniEvent) => {\n\t\temit('agreeprivacyauthorization', e);\n\t}\n\tconst handleTap = (e: UniPointerEvent)=>{\n\t\tif (props.disabled || props.loading) return;\n\t\temit('click', e);\n\t}\n\t\n\t\n</script>\n<style lang=\"scss\">\n\t@import './index-u';\n</style>","// @ts-nocheck\r\n/**\r\n * 计算字符串字符的长度并可以截取字符串。\r\n * @param char 传入字符串（maxcharacter条件下，一个汉字表示两个字符）\r\n * @param max 规定最大字符串长度\r\n * @returns 当没有传入maxCharacter/maxLength 时返回字符串字符长度，当传入maxCharacter/maxLength时返回截取之后的字符串和长度。\r\n */\r\nexport type CharacterLengthResult = {\r\n\tlength : number;\r\n\tcharacters : string;\r\n}\r\n// #ifdef APP-ANDROID\r\ntype ChartType = any\r\n// #endif\r\n// #ifndef APP-ANDROID\r\ntype ChartType = string | number\r\n// #endif\r\n\r\nexport function characterLimit(type : string, char : ChartType, max : number) : CharacterLengthResult {\r\n\tconst str = `${char}`;\r\n\r\n\tif (str.length == 0) {\r\n\t\treturn {\r\n\t\t\tlength: 0,\r\n\t\t\tcharacters: '',\r\n\t\t} as CharacterLengthResult\r\n\t}\r\n\r\n\tif (type == 'maxcharacter') {\r\n\t\tlet len = 0;\r\n\t\tfor (let i = 0; i < str.length; i += 1) {\r\n\t\t\tlet currentStringLength : number// = 0;\r\n\t\t\tconst code = str.charCodeAt(i)!\r\n\t\t\tif (code > 127 || code == 94) {\r\n\t\t\t\tcurrentStringLength = 2;\r\n\t\t\t} else {\r\n\t\t\t\tcurrentStringLength = 1;\r\n\t\t\t}\r\n\t\t\tif (len + currentStringLength > max) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlength: len,\r\n\t\t\t\t\tcharacters: str.slice(0, i),\r\n\t\t\t\t} as CharacterLengthResult\r\n\t\t\t}\r\n\t\t\tlen += currentStringLength;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tlength: len,\r\n\t\t\tcharacters: str,\r\n\t\t} as CharacterLengthResult\r\n\t} else if (type == 'maxlength') {\r\n\t\tconst length = str.length > max ? max : str.length;\r\n\t\treturn {\r\n\t\t\tlength: length,\r\n\t\t\tcharacters: str.slice(0, length),\r\n\t\t} as CharacterLengthResult\r\n\t}\r\n\r\n\treturn {\r\n\t\tlength: str.length,\r\n\t\tcharacters: str,\r\n\t} as CharacterLengthResult\r\n};","<template>\n\t<view class=\"l-search\" :style=\"[lStyle]\">\n\t\t<slot name=\"left\"></slot>\n\t\t<view class=\"l-search__content\" :style=\"[contextStyle]\" :class=\"contentClass\">\n\n\n\n\t\t\t\t<slot name=\"left-icon\">\n\t\t\t\t\t<l-icon class=\"l-search__icon\" size=\"42rpx\" :color=\"iconColor\" :name=\"leftIcon\" v-if=\"leftIcon.length > 0\" />\n\t\t\t\t</slot>\n\n\n\n\t\t\t<input  \n\t\t\t\tname=\"input\"\n\t\t\t\tclass=\"l-search__keyword\"\n\t\t\t\t:style=\"[inputStyle, center ? 'text-align:center':'']\"\n\t\t\t\t:type=\"type\"\n\t\t\t\t:maxlength=\"maxlength\"\n\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t:focus=\"focus\"\n\t\t\t\t:value=\"searchValue\"\n\t\t\t\t:confirm-type=\"confirmType\"\n\t\t\t\t:confirm-hold=\"confirmHold\"\n\t\t\t\t:cursor=\"cursor\"\n\t\t\t\t:cursor-color=\"cursorColor\"\n\t\t\t\t:adjust-position=\"adjustPosition\"\n\t\t\t\t:always-embed=\"alwaysEmbed\"\n\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t:hold-keyboard=\"holdKeyboard\"\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t:placeholder-style=\"(placeholderStyle ?? ' ') +  (center ? 'text-align:center':'')\"\n\t\t\t\tplaceholder-class=\"l-search__placeholder\"\n\t\t\t\t@input=\"handleInput\"\n\t\t\t\t@focus=\"handleFocus\"\n\t\t\t\t@blur=\"handleBlur\"\n\t\t\t\t@confirm=\"handleConfirm\"/>\n\t\t\t<view\n\t\t\t\tclass=\"l-search__clear\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'l-search__clear--right': $slots['right-icon'] != null\n\t\t\t\t}\"\n\t\t\t\tv-if=\"clearable\"\n\t\t\t\tv-show=\"searchValue.length>0\"\n\t\t\t\t@click=\"handleClear\"\n\t\t\t\taria-role=\"button\"\n\t\t\t\taria-label=\"清除\">\n\n\n\n\t\t\t\t<l-icon class=\"l-search__icon l-search__clear-icon\" name=\"close-circle-filled\" size=\"48rpx\" :color=\"clearIconColor\"  />\n\n\n\n\t\t\t</view>\t\n\t\t\t<slot name=\"right-icon\"/>\n\t\t</view>\n\t\t<slot name=\"action\">\n\t\t\t<text class=\"l-search__action\" :class=\"{'l-search__action--focused': focused}\" @click=\"handleActionClick\" v-if=\"action != null\"> {{action}}</text>\n\t\t</slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\timport { SearchProps } from './type';\n\timport { characterLimit } from '@/uni_modules/lime-shared/characterLimit';\n\t\n\tconst emit = defineEmits(['change', 'blur', 'clear', 'focus', 'submit', 'action-click'])\n\tconst props = withDefaults(defineProps<SearchProps>(), {\n\t\tadjustPosition: true,\n\t\talwaysEmbed: false,\n\t\tcenter: false,\n\t\tclearable: true,\n\t\tconfirmHold: false,\n\t\tconfirmType: 'search',\n\t\t// cursor: 0,\n\t\tcursorSpacing: 0,\n\t\tdisabled: false,\n\t\tfocus: false,\n\t\tholdKeyboard: false,\n\t\tleftIcon: 'search',\n\t\tmaxlength: -1,\n\t\tselectionEnd: -1,\n\t\tselectionStart: -1,\n\t\tshape: 'square',\n\t\ttype: 'text',\n\t})\n\t\n\tconst focused = ref(props.focus)\n\tconst modelValue = defineModel({type: String, default: ''})\n\tconst searchValue = computed({\n\t\tset(value: string) {\n\t\t\tmodelValue.value = value;\n\t\t\temit('change', value)\n\t\t},\n\t\tget():string {\n\t\t\treturn props.value ?? modelValue.value\n\t\t}\n\t} as WritableComputedOptions<string>)\n\t\n\tconst contentClass = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\t// cls.set(focused.value ? 'is-focused': 'not-focused', true)\n\t\tcls.set('l-search__content--focused', focused.value)\n\t\tcls.set('l-search__content--center', props.center)\n\t\tcls.set('l-search__content--' + props.shape, true)\n\t\treturn cls\n\t})\n\t\n\tconst contextStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>()\n\t\tif(props.padding != null) {\n\t\t\tstyle.set('padding', props.padding!)\n\t\t}\n\t\tif(props.radius != null) {\n\t\t\tstyle.set('border-radius', props.radius!)\n\t\t}\n\t\tif(props.height != null) {\n\t\t\tstyle.set('height', props.height!)\n\t\t}\n\t\tif(props.bgColor != null) {\n\t\t\tstyle.set('background', props.bgColor!)\n\t\t}\n\t\treturn style\n\t})\n\t\n\tconst inputStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>()\n\t\tif(props.fontSize != null) {\n\t\t\tstyle.set('font-size', props.fontSize!)\n\t\t}\n\t\tif(props.textColor != null) {\n\t\t\tstyle.set('color', props.textColor!)\n\t\t}\n\t\treturn style\n\t})\n\t\n\tconst handleInput = (e: UniInputEvent) => {\n\t\tlet { value } = e.detail;\n\t\tconst { maxlength, maxcharacter } = props;\n\t\tif(maxcharacter != null && maxcharacter > 0) {\n\t\t\tconst { characters } = characterLimit('maxcharacter', value, maxcharacter)\n\t\t\tvalue = characters;\n\t\t} \n\t\t// else if(maxlength > 0) {\n\t\t// \tconst { characters } = characterLimit('maxlength', value, maxlength)\n\t\t// \tvalue = characters;\n\t\t// }\n\t\tsearchValue.value = value\n\t}\n\tconst handleClear = (_e: UniPointerEvent) => {\n\t\tsearchValue.value = '';\n\t\tfocused.value = true\n\t\temit('clear')\n\t}\n\tconst handleFocus = (e: UniInputFocusEvent) => {\n\t\tconst { value } = e.detail;\n\t\tfocused.value = true\n\t\temit('focus', value)\n\t}\n\tconst handleBlur = (e: UniInputBlurEvent) => {\n\t\tconst { value } = e.detail;\n\t\tfocused.value = false\n\t\temit('blur', value)\n\t}\n\tconst handleConfirm = (e: UniInputConfirmEvent) => {\n\t\tconst { value } = e.detail;\n\t\temit('submit', value)\n\t}\n\tconst handleActionClick = (_e: UniPointerEvent) => {\n\t\temit('action-click')\n\t}\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","<template>\r\n\t<view class=\"l-tab__panel\" aria-role=\"tabpanel\">\r\n\t\t<slot/>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * TabPanel 标签页面板组件\r\n\t * @description 用于构建Tabs组件的单个内容面板，必须作为Tabs的子组件使用\r\n\t * <br>插件类型：LTabPanelComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-tabs\r\n\t * \r\n\t * @property {any} badge 徽标配置\r\n\t * @property {number[]} offset 徽标位置偏移量[x,y]\r\n\t * @property {boolean} dot 是否显示圆点徽标（默认：false）\r\n\t * @property {boolean} destroyOnHide 内容隐藏时销毁DOM（默认：false）\r\n\t * @property {boolean} disabled 禁用当前选项卡（默认：false）\r\n\t * @property {string} label 选项卡标题内容\r\n\t * @property {boolean} lazy 启用懒加载（默认：false）\r\n\t * @property {number} value 选项卡唯一标识\r\n\t */\r\n\t\r\n\timport { TabPanelProps } from './type';\r\n\timport { TabPanel } from '../l-tabs/type'\r\n\tconst props = withDefaults(defineProps<TabPanelProps>(), {})\r\n\tconst children = inject<LTabPanelComponentPublicInstance[]|null>('LimeTabs', null) as Ref<LTabPanelComponentPublicInstance[]>|null;\r\n\tconst instance = getCurrentInstance()!.proxy!\r\n\tonMounted(()=>{\r\n\t\tif(children == null) return\r\n\t\tchildren.value.push(instance as LTabPanelComponentPublicInstance)\r\n\t})\r\n\t\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\t\r\n\tonUnmounted(()=>{\r\n\t\tif(children == null) return\r\n\t\tchildren.value = children.value.filter((it):boolean => it != (instance))\r\n\t})\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>\r\n","// @ts-nocheck\r\nimport { isNumber } from '../isNumber'\r\nimport { isString } from '../isString'\r\n// 函数重载，定义多个函数签名\r\n// function toBoolean(value : any) : boolean;\r\n// function toBoolean(value : string) : boolean;\r\n// function toBoolean(value : number) : boolean;\r\n// function toBoolean(value : boolean) : boolean;\r\n\r\n// #ifdef UNI-APP-X && APP\r\nfunction toBoolean(value : any | null) : boolean {\r\n\t// 根据输入值的类型，返回相应的布尔值\r\n\t// if (isNumber(value)) {\r\n\t// \treturn (value as number) != 0;\r\n\t// }\r\n\t// if (isString(value)) {\r\n\t// \treturn `${value}`.length > 0;\r\n\t// }\r\n\t// if (typeof value == 'boolean') {\r\n\t// \treturn value as boolean;\r\n\t// }\r\n\t// #ifdef APP-IOS || APP-HARMONY\r\n\treturn value != null && value != undefined\r\n\t// #endif\r\n\t// #ifdef APP-ANDROID\r\n\treturn value != null\r\n\t// #endif\r\n}\r\n// #endif\r\n\r\n\r\n// #ifndef UNI-APP-X && APP\r\nfunction toBoolean(value : any | null) : value is NonNullable<typeof value> {\r\n\treturn !!value//value !== null && value !== undefined;\r\n}\r\n// #endif\r\n\r\nexport {\r\n\ttoBoolean\r\n}","export function getOffsetWithMinusString(val : string):string {\r\n\treturn val.startsWith('-') ? val.replace('-', '') : `-${val}`\r\n};","<template>\n\t<view class=\"l-badge__wrapper\" v-if=\"$slots['default'] != null\">\n\t\t<slot></slot>\n\t\t<text v-if=\"hasContent || dot\" class=\"l-badge\" ref=\"textRef\" :class=\"classes\" :style=\"[styles]\">\n\t\t\t<slot name=\"content\">{{renderContent}}</slot>\n\t\t</text>\n\n\t\t<text v-if=\"hasContent || dot\" class=\"l-badge l-badge--offscreen\" ref=\"offscreenRef\" :class=\"classes\" :style=\"[styles]\">\n\t\t\t<slot name=\"content\">{{renderContent}}</slot>\n\t\t</text>\n\n\t</view>\n\t<text v-else-if=\"hasContent || dot\" class=\"l-badge\" :class=\"classes\" :style=\"[styles]\">\n\t\t<slot name=\"content\">{{renderContent}}</slot>\n\t</text>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Badge 徽标组件\n\t * @description 用于展示状态标记、消息数量等提示信息，支持多种形态和定位方式\n\t * <br> 插件类型：LBadgeComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-badge\n\t * \n\t * @property {string} [color] 徽标背景色（支持CSS颜色值）\n\t * @property {number | string | any} content 显示内容（数字/文字）\n\t * @property {boolean} dot 是否显示为小红点（优先级高于content）\n\t * @property {number} max 数字最大值（超出显示为${max}+）\n\t * @property {Array<string | number> | any[]} offset 位置偏移量（[x, y]）\n\t * @property {'top-right' | 'top-left' | 'bottom-right' | 'bottom-left'} position 定位位置\n\t * @property {'circle' | 'square' | 'bubble' | 'ribbon'} [shape] 形状（当前版本未实现）\n\t * @property {boolean} showZero 数值为0时是否显示\n\t * @property {'medium' | 'large'} [size] 尺寸（当前版本未实现）\n\t * @property {string | number} [content] 支持字符串模板（例：'${count}条'）\n\t * @property {Array<string | number>} offset 支持单位（例：['-10rpx', '20px']）\n\t */\n\t\n\timport { isNumeric } from '@/uni_modules/lime-shared/isNumeric'\n\timport { isNumber } from '@/uni_modules/lime-shared/isNumber'\n\timport { addUnit } from '@/uni_modules/lime-shared/addUnit'\n\timport { toBoolean } from '@/uni_modules/lime-shared/toBoolean'\n\timport { getOffsetWithMinusString } from './utils'\n\timport { BadgeProps } from './type'\n\tconst name = 'l-badge'\n\tconst props = withDefaults(defineProps<BadgeProps>(), {\n\t\tdot: false,\n\t\tmax: 99,\n\t\tshowZero: false,\n\n\n\n\n\t\toffset: [] as (string | number)[],\n\n\t\tposition: 'top-right'\n\t})\n\t\n\t\n\t\n\tconst context = getCurrentInstance()!\n\tconst classes = computed(():Map<string, boolean>=>{\n\t\tconst cls = new Map<string, boolean>()\n\t\tcls.set(`${name}--fixed`, toBoolean(context.slots['default']));\n\t\tcls.set(`${name}--dot`, props.dot);\n\t\tcls.set(`${name}--${props.position}`, context.slots['default'] != null);\n\t\treturn cls\n\t})\n\tconst styles = computed(():Map<string, any|null>=>{\n\t\tconst style = new Map<string, any|null>()\n\t\tif(toBoolean(props.color)) {\n\t\t\tstyle.set('background', props.color!)\n\t\t}\n\t\tconst positions = props.position.split('-');\n\t\tconst offset = props.offset;\n\t\tif(offset.length == 2) {\n\t\t\tconst x = offset[0];\n\t\t\tconst y = offset[1];\n\t\t\tif(context.slots['default'] != null) {\n\t\t\t\tif(positions.length == 2) {\n\t\t\t\t\tconst offsetY = positions[0], offsetX = positions[1];\n\t\t\t\t\tif(isNumber(y)) {\n\t\t\t\t\t\tconst _y = y as number\n\t\t\t\t\t\tstyle.set(offsetY, addUnit(offsetY == 'top' ? _y : -_y))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle.set(offsetY, offsetY == 'top' ? addUnit(y) : getOffsetWithMinusString(`${y}`))\n\t\t\t\t\t}\n\t\t\t\t\tif(isNumber(x)) {\n\t\t\t\t\t\tconst _x = x as number\n\t\t\t\t\t\tstyle.set(offsetX, addUnit(offsetX == 'left' ? _x : -_x))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle.set(offsetY, offsetY == 'left' ? addUnit(x) : getOffsetWithMinusString(`${x}`))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyle.set('margin-top', addUnit(y))\n\t\t\t\tstyle.set('margin-left', addUnit(x))\n\t\t\t}\n\t\t}\n\t\treturn style\n\t});\n\tconst hasContent = computed<boolean>(():boolean => {\n\t\tif(toBoolean(context.slots['content'])) {\n\t\t\treturn true\n\t\t}\n\t\tconst content = props.content;\n\t\treturn (content != '' && content != null && (props.showZero || content !== '0'));\n\t});\n\tconst renderContent = computed<string>(():string=>{\n\t\tconst dot = props.dot\n\t\tconst max = props.max\n\t\tconst content = props.content\n\t\tif(!dot && hasContent.value) {\n\t\t\tif(max != 0 && isNumeric(content) && parseFloat(content.toString()) > max) {\n\t\t\t\treturn `${max}+`\n\t\t\t}\n\t\t}\n\t\tif(dot) {\n\t\t\treturn ''\n\t\t}\n\t\treturn `${content ?? \"\"}`\n\t})\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n</script>\n<style lang=\"scss\">\n\t@import './index-u';\n</style>","// @ts-nocheck\r\n/**\r\n * 计算偏移\r\n * @param {number} containerWidth 容器宽度\r\n * @param {number} targetLeft 当前元素left值\r\n * @param {number} targetWidth 当前元素宽度\r\n * @param {number} offset 上一次 scroll-view left值\r\n * @return \r\n */\r\nexport function calcScrollOffset(containerWidth : number, targetLeft : number, targetWidth : number, offset : number) : number {\r\n\treturn offset + targetLeft - (1 / 2) * containerWidth + targetWidth / 2;\r\n}\r\n\r\n/**\n * 根据提供的移动距离和基数进行缓动处理。\n * 如果移动距离的绝对值超过最大阈值，则应用缓动效果。\n *\n * @param {number} moveX - 水平移动的距离。\n * @param {number} base - 应用于缓动效果的基数。\n * @returns {number} 缓动处理后的移动距离。\n */\r\nexport function ease(moveX : number, base : number) : number{\r\n\tconst absDistance = Math.abs(moveX);\r\n\tconst max = 50\r\n\tif (absDistance > max) {\r\n\t\treturn (max + (absDistance - max) * 0.2) * base;\r\n\t}\r\n\treturn moveX;\r\n};","// @ts-nocheck\r\n/**\r\n * 将一个值限制在指定的范围内\r\n * @param val 要限制的值\r\n * @param min 最小值\r\n * @param max 最大值\r\n * @returns 限制后的值\r\n */\r\nexport function clamp(val: number, min: number, max: number): number {\r\n  return Math.max(min, Math.min(max, val));\r\n}\r\n\r\n\r\n// console.log(clamp(5 ,0, 10)); // 输出: 5（在范围内，不做更改）\r\n// console.log(clamp(-5 ,0, 10)); // 输出: 0（小于最小值，被限制为最小值）\r\n// console.log(clamp(15 ,0, 10)); // 输出: 10（大于最大值，被限制为最大值）","// @ts-nocheck\r\n// #ifndef UNI-APP-X\nimport {type Ref, ref} from '@/uni_modules/lime-shared/vue'\ntype UniTouchEvent = TouchEvent\n// #endif\n\ntype Direction = '' | 'vertical' | 'horizontal';\n\nfunction getDirection(x : number, y : number) : Direction {\n\tif (x > y) {\n\t\treturn 'horizontal';\n\t}\n\tif (y > x) {\n\t\treturn 'vertical';\n\t}\n\treturn '';\n}\n\ntype TouchEventHandler = (event : UniTouchEvent) => void\ntype BooleanFunction = () => boolean;\ntype UseTouchResult = {\n\tstart : TouchEventHandler,\n\tmove : TouchEventHandler,\n\tstartX : Ref<number>,\n\tstartY : Ref<number>,\n\tdeltaX : Ref<number>,\n\tdeltaY : Ref<number>,\n\toffsetX : Ref<number>,\n\toffsetY : Ref<number>,\n\tdirection : Ref<Direction>,\n\tisVertical : BooleanFunction,\n\tisHorizontal : BooleanFunction,\n\tisTap : Ref<Boolean>,\n}\nexport function useTouch() : UseTouchResult {\n\tconst startX = ref<number>(0);\n\tconst startY = ref<number>(0);\n\tconst deltaX = ref<number>(0);\n\tconst deltaY = ref<number>(0);\n\tconst offsetX = ref<number>(0);\n\tconst offsetY = ref<number>(0);\n\tconst direction = ref<Direction>('');\n\tconst isTap = ref(true);\n\n\tconst isVertical = () : boolean => direction.value === 'vertical';\n\tconst isHorizontal = () : boolean => direction.value === 'horizontal';\n\n\tconst reset = () => {\n\t\tdeltaX.value = 0;\n\t\tdeltaY.value = 0;\n\t\toffsetX.value = 0;\n\t\toffsetY.value = 0;\n\t\tdirection.value = '';\n\t\tisTap.value = true;\n\t};\n\n\tconst start = (event : UniTouchEvent) => {\n\t\treset();\n\t\tstartX.value = event.touches[0].clientX;\n\t\tstartY.value = event.touches[0].clientY;\n\t}\n\tconst move = (event : UniTouchEvent) => {\n\t\tconst touch = event.touches[0];\n\t\t// safari back will set clientX to negative number\n\t\tdeltaX.value = (touch.clientX < 0 ? 0 : touch.clientX) - startX.value;\n\t\tdeltaY.value = touch.clientY - startY.value;\n\t\toffsetX.value = Math.abs(deltaX.value);\n\t\toffsetY.value = Math.abs(deltaY.value);\n\n\t\t// lock direction when distance is greater than a certain value\n\t\tconst LOCK_DIRECTION_DISTANCE = 10;\n\t\tconst TAP_OFFSET = 5;\n\t\tif (\n\t\t\tdirection.value == '' ||\n\t\t\t(offsetX.value < LOCK_DIRECTION_DISTANCE &&\n\t\t\t\toffsetY.value < LOCK_DIRECTION_DISTANCE)\n\t\t) {\n\t\t\tdirection.value = getDirection(offsetX.value, offsetY.value);\n\t\t}\n\n\t\tif (\n\t\t\tisTap.value &&\n\t\t\t(offsetX.value > TAP_OFFSET || offsetY.value > TAP_OFFSET)\n\t\t) {\n\t\t\tisTap.value = false;\n\t\t}\n\t}\n\treturn {\n\t\tstart,\n\t\tmove,\n\t\tstartX,\n\t\tstartY,\n\t\tdeltaX,\n\t\tdeltaY,\n\t\toffsetX,\n\t\toffsetY,\n\t\tdirection,\n\t\tisVertical,\n\t\tisHorizontal,\n\t\tisTap,\n\t} as UseTouchResult\n}","<template>\r\n\t<view class=\"l-tabs\">\r\n\t\t<view class=\"l-tabs__wrap\" :style=\"[styles, lStyle]\">\r\n\t\t\t<slot name=\"left\"></slot>\r\n\t\t\t<scroll-view \r\n\t\t\t\tclass=\"l-tabs__scroll\" \r\n\t\t\t\t:class=\"{'l-tabs__scroll--split': split}\" \r\n\t\t\t\tref=\"scrollRef\"\r\n\t\t\t\t:scroll-left=\"scrollLeft\" \r\n\t\t\t\tdirection=\"horizontal\" \r\n\t\t\t\t:scroll-x=\"true\" \r\n\t\t\t\t:scroll-with-animation=\"true\"\r\n\t\t\t\t:show-scrollbar=\"false\" \r\n\t\t\t\t:enhanced=\"true\" \r\n\t\t\t\t@scroll=\"onScroll\">\r\n\r\n\r\n\r\n\t\t\t\t\t<view class=\"l-tabs__item\" v-for=\"(item, index) in tabs\" :key=\"index\" :style=\"[itemStyle]\" :class=\"{\r\n\t\t\t\t\t\t\t'l-tabs__item--active': index == currentIndex,\r\n\t\t\t\t\t\t\t'l-tabs__item--evenly': spaceEvenly, \r\n\t\t\t\t\t\t\t'l-tabs__item--disabled': item.disabled}\" @click=\"onClick(index, item)\">\r\n\t\t\t\t\t\t<slot name=\"label\" :item=\"item\" :active=\"index == currentIndex\" :disabled=\"item.disabled\">\r\n\t\t\t\t\t\t\t<l-badge v-if=\"item.dot == true || item.badge != null\" :dot=\"item.dot\" :offset=\"item.offset\"\r\n\t\t\t\t\t\t\t\t:content=\"item.badge\">\r\n\t\t\t\t\t\t\t\t<text :style=\"[\r\n\t\t\t\t\t\t\t\t\t\ttextStyles,\r\n\t\t\t\t\t\t\t\t\t\t!item.disabled && color != null && index != currentIndex ? ('color:' + color) : '',\r\n\t\t\t\t\t\t\t\t\t\t!item.disabled && activeColor != null && index == currentIndex ? 'color:' + activeColor : '',\r\n\t\t\t\t\t\t\t\t\t]\" class=\"l-tabs__item-text\" :class=\"[\r\n\t\t\t\t\t\t\t\t\t\t'l-tabs__item-text--' + size,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t'l-tabs__item-text--disabled': item.disabled,\r\n\t\t\t\t\t\t\t\t\t\t\t'l-tabs__item-text--active': index == currentIndex\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\">{{item.label}}</text>\r\n\t\t\t\t\t\t\t</l-badge>\r\n\t\t\t\t\t\t\t<text v-else :style=\"[\r\n\t\t\t\t\t\t\t\t\ttextStyles,\r\n\t\t\t\t\t\t\t\t\t!item.disabled && color != null && index != currentIndex ? ('color:' + color) : '',\r\n\t\t\t\t\t\t\t\t\t!item.disabled && activeColor != null && index == currentIndex ? 'color:' + activeColor : '',\r\n\t\t\t\t\t\t\t\t]\" class=\"l-tabs__item-text\" :class=\"[\r\n\t\t\t\t\t\t\t\t\t'l-tabs__item-text--' + size,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t'l-tabs__item-text--disabled': item.disabled,\r\n\t\t\t\t\t\t\t\t\t\t'l-tabs__item-text--active': index == currentIndex\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\">{{item.label}}</text>\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view ref=\"trackRef\" :style=\"[trackStyle]\" class=\"l-tabs__track\"></view>\r\n\r\n\r\n\r\n\t\t\t</scroll-view>\r\n\t\t\t<slot name=\"right\"></slot>\r\n\t\t</view>\r\n\t\t<view class=\"l-tabs__content\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\"\r\n\t\t\t@touchcancel=\"onTouchEnd\" :class=\"{'l-tabs__content--animated': animated}\" v-if=\"$slots['default'] != null\">\r\n\r\n\t\t\t<view class=\"l-tabs__content-inner\" :style=\"[innerStyle]\" ref=\"innerRef\">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Tabs 标签页组件\r\n\t * @description 用于内容分类展示和切换，支持多种样式和交互效果\r\n\t * <br>插件类型：LTabsComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-tabs\r\n\t * \r\n\t * @property {TabPanel[]} list 选项卡配置数组\r\n\t * @property {boolean} ellipsis 是否省略超长文本（默认：true）\r\n\t * @property {boolean} animated 是否启用切换动画（默认：false）\r\n\t * @property {number} duration 动画时长（ms，默认：300）\r\n\t * @property {boolean} showLine 显示底部激活线条（默认：true）\r\n\t * @property {'medium' | 'large'} size 组件尺寸（默认：\"medium\"）\r\n\t * @value medium\r\n\t * @value large\r\n\t * @property {boolean} spaceEvenly 均分选项卡宽度（默认：false）\r\n\t * @property {boolean} swipeable 支持滑动切换（默认：true）\r\n\t * @property {number} value 当前激活选项卡索引（支持v-model）\r\n\t * @property {string} color 默认文字颜色（默认：\"#333\"）\r\n\t * @property {string} activeColor 激活状态颜色（默认：主题色）\r\n\t * @property {string} lineColor 激活线条颜色（默认：跟随activeColor）\r\n\t * @property {string} lineWidth 激活线条宽度（默认：\"20px\"）\r\n\t * @property {string} lineHeight 激活线条高度（默认：\"3px\"）\r\n\t * @property {string} bgColor 背景颜色\r\n\t * @property {string} fontSize 文字大小（支持CSS单位）\r\n\t * @property {string} padding 内边距（支持CSS简写）\r\n\t * @property {boolean} split 显示分隔线（默认：false）\r\n\t * @property {boolean} visible 是否显示组件（默认：true）\r\n\t * @property {number} swiperProgress 与swiper联动，传入[-1, 1] 范围的滚动进度\r\n\t * @property {boolean} syncSwiper 是否启用与swiper的同步联动\r\n\t * @event {Function} change 选项卡切换时触发（返回激活索引）\r\n\t * @event {Function} click 点击时触发（返回激活索引）\r\n\t */\r\n\r\n\timport { TabsProps, TabPanel } from './type';\r\n\timport { TabPanelProps } from '../l-tab-panel/type';\r\n\timport { calcScrollOffset, ease } from './utils';\r\n\timport { clamp } from '@/uni_modules/lime-shared/clamp';\r\n\t// import { getRect } from '@/uni_modules/lime-shared/getRect';\r\n\timport { getRect, getAllRect } from '@/uni_modules/lime-shared/getRect'\r\n\timport { useTouch } from './touch'\r\n\tconst emits = defineEmits(['change', 'click'])\r\n\t// const slots = defineSlots<{\r\n\t// \tlabel : {\r\n\t// \t\titem : TabPanel,\r\n\t// \t\tactive : boolean,\r\n\t// \t\tdisabled : boolean,\r\n\t// \t}\r\n\t// }>()\r\n\r\n\tconst slots = defineSlots<{\r\n\t\tlabel(props : { item : TabPanel, active : boolean, disabled : boolean }) : any,\r\n\t\tdefault(props : {}) : any,\r\n\t\tleft(props : {}) : any,\r\n\t\tright(props : {}) : any,\r\n\t}>()\r\n\r\n\tconst props = withDefaults(defineProps<TabsProps>(), {\r\n\t\tshowLine: true,\r\n\t\tvisible: false,\r\n\t\tellipsis: false,\r\n\t\tsize: 'medium',\r\n\t\tspaceEvenly: true,\r\n\t\tswipeable: false,\r\n\t\tduration: 0.3,\r\n\t\tanimated: false,\r\n\t\tsplit: true,\r\n\t\tswiperProgress: 0,\r\n\t\tsyncSwiper: false\r\n\t})\r\n\r\n\tconst children = ref<LTabPanelComponentPublicInstance[]>([])\r\n\tconst scrollLeft = ref(0);\r\n\tconst lastLeft = ref(0);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tconst innerStyle = {\r\n\r\n\t}\r\n\r\n\r\n\tconst modelValue = defineModel({ type: Number })\r\n\tconst currentValue = computed({\r\n\t\tset(value : number) {\r\n\t\t\tmodelValue.value = value;\r\n\t\t\temits('change', value)\r\n\t\t},\r\n\t\tget() : number {\r\n\t\t\treturn props.value ?? modelValue.value\r\n\t\t}\r\n\t} as WritableComputedOptions<number>);\r\n\r\n\tconst styles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\r\n\t\tif (props.bgColor != null) {\r\n\t\t\tstyle.set('background', props.bgColor!)\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\treturn style\r\n\t})\r\n\tconst trackStyle = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>([\r\n\r\n\r\n\r\n\r\n\t\t]);\r\n\r\n\t\tif (props.lineColor != null) {\r\n\t\t\tstyle.set('background', props.lineColor!)\r\n\t\t}\r\n\t\tif (props.lineWidth != null) {\r\n\t\t\tstyle.set('width', props.lineWidth!)\r\n\t\t}\r\n\t\tif (props.lineHeight != null) {\r\n\t\t\tstyle.set('height', props.lineHeight!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\tconst itemStyle = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>()\r\n\r\n\t\tif (!['medium', 'large'].includes(props.size)) {\r\n\t\t\tstyle.set('height', props.size)\r\n\t\t}\r\n\t\tif (props.padding != null) {\r\n\t\t\tstyle.set('padding', props.padding!)\r\n\t\t}\r\n\r\n\t\treturn style\r\n\t})\r\n\tconst textStyles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>()\r\n\r\n\t\tif (props.fontSize != null) {\r\n\t\t\tstyle.set('font-size', props.fontSize!)\r\n\t\t}\r\n\r\n\t\treturn style\r\n\t})\r\n\r\n\tconst tabs = computed(() : TabPanel[] => {\r\n\t\tif (props.list != null && props.list!.length > 0) {\r\n\t\t\treturn props.list!.map((item) : TabPanel => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbadge: item.get('badge'),\r\n\t\t\t\t\tdot: item.getBoolean('dot') ?? false,\r\n\t\t\t\t\tdisabled: item.getBoolean('disabled') ?? false,\r\n\t\t\t\t\tlabel: item.getString('label'),\r\n\t\t\t\t\toffset: item.getArray('offset') as any[] | null,\r\n\t\t\t\t\tvalue: item.getNumber('value'),\r\n\t\t\t\t\tnode: item\r\n\t\t\t\t} as TabPanel\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn children.value.map((item) : TabPanel => {\r\n\r\n\t\t\t// 安卓端数组属性存在BUG 死循环\r\n\r\n\r\n\r\n\r\n\t\t\tconst offset = item.offset ?? []\r\n\r\n\r\n\r\n\t\t\treturn {\r\n\t\t\t\tbadge: item.badge,\r\n\t\t\t\tdot: item.dot ?? false,\r\n\t\t\t\tdisabled: item.disabled ?? false,\r\n\t\t\t\tlabel: item.label,\r\n\t\t\t\toffset: offset,\r\n\t\t\t\tvalue: item.value,\r\n\t\t\t\tnode: {\r\n\t\t\t\t\tbadge: item.badge,\r\n\t\t\t\t\tdot: item.dot ?? false,\r\n\t\t\t\t\tdisabled: item.disabled ?? false,\r\n\t\t\t\t\tlabel: item.label,\r\n\t\t\t\t\toffset: offset,\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t}\r\n\t\t\t} as TabPanel\r\n\t\t})\r\n\t})\r\n\r\n\tconst currentIndex = computed(() : number => {\r\n\t\tconst index = tabs.value.findIndex((child, index) : boolean => (child.value ?? index) == currentValue.value)\r\n\t\treturn index > -1 ? index : 0;\r\n\t})\r\n\r\n\tconst scrollRef = ref<UniScrollViewElement | null>(null)\r\n\tconst trackRef = ref<UniElement | null>(null)\r\n\tconst navRef = ref<UniElement | null>(null)\r\n\tconst innerRef = ref<UniElement | null>(null)\r\n\r\n\tconst tabRects = ref<DOMRect[]>([])  // 存储每个tab的尺寸位置\r\n\tconst containerWidth = ref(0)        // 容器宽度\r\n\tconst trackLineWidth = ref(0)\r\n\tconst isInteracting = ref(false)     // 是否正在交互\r\n\tlet timer = 0\r\n\t\r\n\r\n\tconst measureTabs = () : Promise<void> => {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\t// nextTick(() => {\r\n\t\t\t\tif(tabRects.value.length > 0 && tabRects.value[0].width > 0) {\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollRef.value == null) { // navRef.value == null ||\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\r\n\r\n\r\n\r\n\t\t\t\tconst elements = scrollRef.value!.children;\r\n\r\n\t\t\t\t\r\n\t\t\t\tconst tabsRects:DOMRect[] = []\r\n\t\t\t\telements.forEach((el)=>{\r\n\t\t\t\t\tif(el.tagName == 'VIEW') {\r\n\t\t\t\t\t\ttabsRects.push(el.getBoundingClientRect())\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\ttabRects.value = tabsRects\r\n\t\t\t\tcontainerWidth.value = scrollRef.value?.offsetWidth ?? 0\r\n\t\t\t\ttrackLineWidth.value = trackRef.value?.offsetWidth ?? 0\r\n\t\t\t\tresolve()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t// })\r\n\r\n\t}\r\n\r\n\tconst moveToActiveTab = () => {\r\n\t\tmeasureTabs().then(() => {\r\n\t\t\tconst index = currentIndex.value\r\n\t\t\tif (tabRects.value.length <= index) return\r\n\t\t\tconst tabRect = tabRects.value[index]\r\n\r\n\t\t\tlet count = 0;\r\n\t\t\tlet distance = 0;\r\n\t\t\tlet totalSize = 0;\r\n\t\t\t\r\n\t\t\ttabRects.value.forEach((item : DOMRect) => {\r\n\t\t\t\tif (count < index) {\r\n\t\t\t\t\tdistance += item.width;\r\n\t\t\t\t\tcount += 1;\r\n\t\t\t\t}\r\n\t\t\t\ttotalSize += item.width;\r\n\t\t\t});\r\n\t\t\tif (totalSize == 0) return\r\n\r\n\r\n\t\t\t// 计算track最终位置\r\n\t\t\tdistance += (tabRect.width - trackLineWidth.value) / 2;\r\n\r\n\t\t\ttrackRef.value?.style.setProperty('transform', `translateX(${distance}px)`)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t// 计算scroll-view需要滚动的距离\r\n\t\t\tconst scrollOffset = calcScrollOffset(\r\n\t\t\t\tcontainerWidth.value,\r\n\t\t\t\ttabRect.left,\r\n\t\t\t\ttabRect.width,\r\n\t\t\t\tlastLeft.value\r\n\t\t\t)\r\n\r\n\t\t\tconst maxOffset = totalSize - containerWidth.value;\r\n\r\n\t\t\tscrollLeft.value = clamp(scrollOffset, 0, maxOffset)\r\n\t\t\t// isInteracting.value = false\r\n\t\t})\r\n\t}\r\n\tconst updateInnerStyle = (offset : number) => {\r\n\t\tnextTick(() => {\r\n\r\n\t\t\tif (innerRef.value == null) return;\r\n\t\t\tconst width = innerRef.value!.parentElement?.offsetWidth ?? 0;\r\n\t\t\tinnerRef.value!.style.setProperty('width', `${tabs.value.length * width}px`)\r\n\t\t\tinnerRef.value!.style.setProperty('opacity', `1`)\r\n\r\n\t\t\tconst left = -width * currentIndex.value + offset;\r\n\t\t\tif (offset != 0) {\r\n\t\t\t\tinnerRef.value!.style.setProperty('transition-duration', `0s`)\r\n\t\t\t\tinnerRef.value!.style.setProperty('transform', `translateX(${left}px)`)\r\n\t\t\t} else {\r\n\t\t\t\tif (props.animated) {\r\n\t\t\t\t\tinnerRef.value!.style.setProperty('transition-duration', offset != 0 || !props.animated ? '0s' : `${props.duration}s`)\r\n\t\t\t\t}\r\n\t\t\t\tnextTick(() => {\r\n\t\t\t\t\tinnerRef.value!.style.setProperty('transform', `translateX(${left}px)`)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t})\r\n\t}\r\n\tconst onScroll = (e : UniScrollEvent) => {\r\n\t\tlastLeft.value = e.detail.scrollLeft;\r\n\t}\r\n\tconst updateDuration = (duration: number) => {\r\n\r\n\t\ttrackRef.value?.style.setProperty('transition-duration', `${duration}s`)\r\n\r\n\r\n\r\n\r\n\t}\r\n\tconst onClick = (index : number, item : TabPanel) => {\r\n\t\tisInteracting.value = true\r\n\t\tconst { value = index, disabled, label } = item;\r\n\t\tif (disabled || currentValue.value == value) return\r\n\t\tcurrentValue.value = value;\r\n\t\temits('click', value)\r\n\t\tupdateDuration(0.3)\r\n\t\tnextTick(()=> {\r\n\t\t\tmoveToActiveTab()\r\n\t\t})\r\n\t\t\r\n\t\tclearTimeout(timer)\r\n\t\ttimer = setTimeout(()=>{\r\n\t\t\tisInteracting.value = false\r\n\t\t},500)\r\n\t\t\r\n\t}\r\n\r\n\tconst getAvailableTabIndex = (deltaX : number) : number => {\r\n\t\tconst step = deltaX > 0 ? -1 : 1;\r\n\t\tconst len = tabs.value.length;\r\n\t\tfor (let i = step; currentIndex.value + step >= 0 && currentIndex.value + step < len; i += step) {\r\n\t\t\tconst newIndex = currentIndex.value + i;\r\n\r\n\t\t\tif (newIndex >= 0 && newIndex < len && tabs.value.length > newIndex && !tabs.value[newIndex].disabled) {\r\n\t\t\t\treturn newIndex;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\tconst touch = useTouch();\r\n\tconst onTouchStart = (event : UniTouchEvent) => {\r\n\t\t isInteracting.value = true\r\n\t\tif (!props.swipeable) return;\r\n\t\ttouch.start(event);\r\n\t\tupdateDuration(0.3)\r\n\t}\r\n\r\n\tconst onTouchMove = (event : UniTouchEvent) => {\r\n\t\tif (!props.swipeable) return;\r\n\t\ttouch.move(event);\r\n\t\tconst { direction, deltaX, startX } = touch\r\n\t\tif (direction.value != 'horizontal') return\r\n\t\tif (!props.animated) return\r\n\t\tconst isAtFirstTab = currentIndex.value == 0;\r\n\t\tconst isAtLastTab = currentIndex.value == tabs.value.length - 1;\r\n\r\n\t\tif ((isAtFirstTab && deltaX.value > 0) || (isAtLastTab && deltaX.value < 0)) {\r\n\t\t\tconst base = isAtFirstTab ? 1 : -1;\r\n\t\t\tconst adjustedDelta = ease(deltaX.value, base);\r\n\t\t\tupdateInnerStyle(adjustedDelta);\r\n\t\t} else {\r\n\t\t\tupdateInnerStyle(deltaX.value);\r\n\t\t}\r\n\t}\r\n\r\n\tconst onTouchEnd = () => {\r\n\t\tisInteracting.value = false\r\n\t\tif (!props.swipeable) return;\r\n\t\tconst { direction, deltaX, offsetX } = touch\r\n\t\tconst minSwipeDistance = 50;\r\n\t\tif (direction.value == 'horizontal' && offsetX.value >= minSwipeDistance) {\r\n\t\t\tconst index = getAvailableTabIndex(deltaX.value);\r\n\t\t\tif (index != -1) {\r\n\t\t\t\tonClick(index, tabs.value[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateInnerStyle(0)\r\n\t}\r\n\r\n\tconst stopWatch = watch(tabs, (_v : TabPanel[]) => {\r\n\t\t// 鸿蒙增加项时渲染比较慢 需要延时一下\r\n\t\tsetTimeout(() => {\r\n\t\t\tmoveToActiveTab()\r\n\t\t}, 50)\r\n\r\n\t})\r\n\r\n\tconst stopValueWatch = watch(currentValue, (_v : number) => {\r\n\t\t\r\n\t\tif (tabs.value.length == 0) return\r\n\t\tmoveToActiveTab()\r\n\t\tupdateInnerStyle(0)\r\n\t\t\r\n\t\t\r\n\t})\r\n\tconst stopVisibleWatch = watch(() : boolean => props.visible, (v : boolean) => {\r\n\t\tif (!v) return\r\n\t\tsetTimeout(() => {\r\n\t\t\tmoveToActiveTab()\r\n\t\t\tupdateInnerStyle(0)\r\n\t\t}, 100)\r\n\t})\r\n\t\r\n\tconst updateTrackPosition = (progress: number)=>{\r\n\t\tif (!props.syncSwiper || !props.showLine || progress == 0 || isInteracting.value) return\r\n\t\tupdateDuration(0)\r\n\t\tconst currentIdx = currentIndex.value\r\n\t\tconst next = ()=> {\r\n\t\t\tconst direction = progress > 0 ? 1 : -1\r\n\t\t\t\t\t\tconst nextIdx = currentIdx + direction\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 边界检查\r\n\t\t\t\t\t\tif (nextIdx < 0 || nextIdx >= tabRects.value.length ) return\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 获取当前和下一个tab的位置信息\r\n\t\t\t\t\t\tconst currentTab = tabRects.value[currentIdx]\r\n\t\t\t\t\t\tconst nextTab = tabRects.value[nextIdx]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 计算插值比例 (0~1)\r\n\t\t\t\t\t\tconst ratio = Math.abs(progress)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 计算track的起始和结束位置\r\n\t\t\t\t\t\tconst currentPos = currentTab.left + (currentTab.width - trackLineWidth.value) / 2\r\n\t\t\t\t\t\tconst nextPos = nextTab.left + (nextTab.width - trackLineWidth.value) / 2\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 根据滚动方向计算最终位置\r\n\t\t\t\t\t\tconst newPosition = direction > 0 \r\n\t\t\t\t\t\t    ? currentPos + (nextPos - currentPos) * ratio\r\n\t\t\t\t\t\t    : currentPos - (currentPos - nextPos) * ratio\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 更新track位置（平台兼容写法）\r\n\r\n\t\t\tnextTick(()=>{\r\n\t\t\t\ttrackRef.value?.style.setProperty('transform', `translateX(${newPosition}px)`)\r\n\t\t\t})\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t\tmeasureTabs().then(next)\r\n\t\t\r\n\t}\r\n\t// 监听swiper进度变化\r\n\twatch(():number => props.swiperProgress, (progress: number) => {\r\n\t\tupdateTrackPosition(progress)\r\n\t})\r\n\t\r\n\tonMounted(() => {\r\n\t\t// 鸿蒙时间上不确定\r\n\t\tnextTick(() => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (tabs.value.length == 0) return\r\n\t\t\t\tmoveToActiveTab()\r\n\t\t\t\tupdateInnerStyle(0)\r\n\t\t\t}, 100)\r\n\t\t})\r\n\t})\r\n\r\n\tonUnmounted(() => {\r\n\t\tstopWatch()\r\n\t\tstopValueWatch()\r\n\t\tstopVisibleWatch()\r\n\t})\r\n\r\n\tprovide('LimeTabs', children)\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"search-bar\">\r\n\t\t\t<l-search class=\"search\" padding=\"10rpx 5rpx 10rpx 24rpx\" v-model=\"value\" shape=\"round\" placeholder=\"请输入关键字\">\r\n\t\t\t\t<template #right-icon>\r\n\t\t\t\t\t<l-button type=\"primary\" size=\"small\" shape=\"round\" @click=\"search\">搜索</l-button>\r\n\t\t\t\t</template>\r\n\t\t\t</l-search>\r\n\t\t</view>\r\n\t\t<view class=\"question-box\">\r\n\t\t\t<l-tabs v-model=\"tabIndex\" :space-evenly=\"false\" :animated=\"true\">\r\n\t\t\t\t<l-tab-panel :value=\"0\" label=\"添加设备\" @click=\"questionDetail\">\r\n\t\t\t\t\t<view class=\"question-item\">\r\n\t\t\t\t\t\t<text>如何添加设备？</text>\r\n\t\t\t\t\t\t<l-icon name=\"chevron-right\" size=\"28\"></l-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</l-tab-panel>\r\n\t\t\t\t<l-tab-panel :value=\"1\" label=\"网络问题\">\r\n\t\t\t\t\t<view class=\"question-item\">\r\n\t\t\t\t\t\t<text>网络连不上？</text>\r\n\t\t\t\t\t\t<l-icon name=\"chevron-right\" size=\"28\"></l-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</l-tab-panel>\r\n\t\t\t\t<l-tab-panel :value=\"2\" label=\"报警问题\">\r\n\t\t\t\t\t<view class=\"question-item\">\r\n\t\t\t\t\t\t<text>报警文件在哪查看？</text>\r\n\t\t\t\t\t\t<l-icon name=\"chevron-right\" size=\"28\"></l-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</l-tab-panel>\r\n\t\t\t</l-tabs>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\tconst value = ref('')\r\n\tconst tabIndex = ref(0)\r\n\t\r\n\tconst search = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: value.value,\t\r\n\t\t})\r\n\t}\r\n\r\n\tconst questionDetail = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/mine/helpCenter/questionDetail/questionDetail',\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 20rpx;\r\n\t\t.search-bar{\r\n\t\t\tmargin: 30rpx 0;\r\n\t\t}\r\n\t\t.l-tabs {\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tpadding:20rpx;\r\n\t\t}\r\n\t\t.question-item{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t}\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"title\">标题</view>\n\t\t\t<view class=\"desc\">\n\t\t\t\t<text>描述</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n    import { ref } from 'vue'\n    const title = ref('消息详情')\n\n    onLoad((options:UTSJSONObject) => {\n        uni.__log__('log','at pages/message/messageDetail/messageDetail.uvue:17',options.id)\n    })\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\tpadding: 20rpx;\n\t\t\t.title{\n\t\t\t\tfont-size: 36rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t}\n\t\t\t.desc{\n\t\t\t\tmargin: 40rpx 0;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","/*!\r\n* type：组件内props属性参数、事件回调参数、方法参数类型\r\n* fui-types - v1.0.0 (2023/11/11, 11:07:14 AM)\r\n*\r\n* 注意：当页面使用时，Object、Array等类型使用any接收，暂时需要转化为UTSJSONObject使用，不可直接使用“.”访问属性\r\n* @example：const param  = JSON.parse(JSON.stringify(e)) as UTSJSONObject\r\n* 在 uts 中，只适合转 type，不适合使用 interface。[interface 中使用? 编译报错，需要使用 type]\r\n*\r\n* 官网地址：https://firstui.cn/\r\n* 文档地址：https://unix.firstui.cn/\r\n*/\r\n\r\n/**\r\n* fui-text 文本组件 @onclick 事件 回调参数类型\r\n* @description this.$emit('onclick',FuiTextClickParam)\r\n* @param {string} text {string} text文本\r\n* @param {string} param {string} 自定义参数 \r\n*/\r\nexport type FuiTextClickParam = {\r\n\ttext : string;\r\n\tparam : string;\r\n}\r\n\r\n/**\r\n* fui-number 数字组件 @onclick 事件 回调参数类型\r\n* @description this.$emit('onclick',FuiNumberClickParam)\r\n* @param {string} text {string} 数字文本内容\r\n* @param {string} param {string} 自定义参数 \r\n*/\r\nexport type FuiNumberClickParam = {\r\n\ttext : string;\r\n\tparam : string;\r\n};\r\n\r\n\r\n/**\r\n* fui-footer 页脚组件 navigate 属性参数类型\r\n* @description props navigate：Arrary：FuiFooterNavigateParam[]\r\n* @param {string} text {string} 链接文本\r\n* @param {string} url {string} 当前应用内的跳转链接，可选\r\n* @param {string} openType {string} 跳转方式，可选值：navigate、redirect、switchTab、reLaunch、navigateBack等，可选\r\n* @param {number} delta {number} 返回的页面数，如果 delta 大于现有页面数，则返回到首页【仅openType=navigateBack 有效】，可选\r\n* @param {string} color {string} 链接文本字体颜色，可选\r\n* @param {number} size {number} 链接文本字体大小，单位rpx，可选\r\n*/\r\nexport type FuiFooterNavigateParam = {\r\n\ttext : string;\r\n\turl ?: string;\r\n\topenType ?: string;\r\n\tdelta ?: number;\r\n\tcolor ?: string;\r\n\tsize ?: number;\r\n}\r\n\r\n/**\r\n* fui-input-number 数字输入框组件 @change 事件 回调参数类型\r\n* @description this.$emit('change',FuiInputNumberChangeParam)\r\n* @param {number} value {number} 数字文本内容\r\n* @param {number} index {number} 索引值\r\n* @param {string} param {string} 自定义参数 \r\n*/\r\nexport type FuiInputNumberChangeParam = {\r\n\tvalue : number;\r\n\tindex : number;\r\n\tparam : string;\r\n}\r\n\r\n/**\r\n* fui-checkbox 复选框组件 @change 事件 回调参数类型（单独使用fui-checkbox组件）\r\n* @description this.$emit('change',FuiCheckboxChangeParam)\r\n* @param {boolean} checked {boolean} 是否选中\r\n* @param {string} value {string} checkbox 标识，值\r\n*/\r\nexport type FuiCheckboxChangeParam = {\r\n\tchecked : boolean;\r\n\tvalue : string;\r\n}\r\n\r\n\r\n/**\r\n* fui-actionsheet 上拉菜单组件 itemList 属性 参数类型\r\n* @description props itemList：Arrary：FuiActionSheetItemParam[]\r\n* @param {string} text {string} 菜单按钮文本\r\n* @param {string} color {string} 菜单按钮文本颜色（主题（theme）为 light 下使用），可选\r\n* @param {string} darkColor {string} 菜单按钮文本颜色（主题（theme）为 dark 下使用），可选\r\n* @param {string} param {string} 自定义参数，可选\r\n* @param {number} index {number} 按钮索引值，点击按钮时内部返回，无需传值\r\n*/\r\nexport type FuiActionSheetItemParam = {\r\n\ttext : string;\r\n\tcolor ?: string;\r\n\tdarkColor ?: string;\r\n\tparam ?: string;\r\n\tindex ?: number;\r\n}\r\n\r\n\r\n/**\r\n* fui-toast 轻提示 组件show方法 参数类型\r\n* @description Toast 轻提示组件show方法参数类型\r\n* @param {number} duration {number} 显示持续时间，单位ms，可选\r\n* @param {string} src {string} 提示图标，可选\r\n* @param {string} text {string} 提示信息，使用插槽自定义内容时可不传\r\n*/\r\nexport type FuiToastShowParam = {\r\n\tduration ?: number;\r\n\tsrc ?: string;\r\n\ttext ?: string\r\n}\r\n\r\n\r\n/**\r\n* fui-dialog 对话框 组件 buttons属性 参数类型\r\n* @description Dialog 对话框组件 buttons属性 参数类型\r\n* @param {string} text {string} 按钮文本\r\n* @param {string} color {string} 按钮字体颜色，可选\r\n* @param {boolean} primary {boolean} 按钮字体颜色是否显示为primary主题色，color为空时有效，可选\r\n* @param {string} param {string} 自定义参数，可选\r\n* @param {number} index {number} 按钮索引值，点击按钮时内部返回，无需传值\r\n*/\r\nexport type FuiDialogButtonsParam = {\r\n\ttext : string;\r\n\tcolor ?: string;\r\n\tprimary ?: boolean;\r\n\tparam ?: string;\r\n\tindex ?: number;\r\n}\r\n\r\n/**\r\n* fui-dropdown-menu 下拉菜单 组件 menus属性 参数类型\r\n* @description DropdownMenu 下拉菜单组件 menus属性 参数类型\r\n* @param {string} text {string} 下拉菜单item项显示文本，必选\r\n* @param {string} value {string} 下拉菜单item项文本对应value值，可选\r\n* @param {string} src {string} 下拉菜单item项icon图片地址，可选\r\n* @param {boolean} checked {boolean} 是否选中，可选\r\n* @param {boolean} disabled {boolean} 是否禁用选择，可选\r\n* @param {string} param {string} 自定义参数，可选\r\n* @param {number} index {number} 索引值，点击菜单时内部返回，无需传值\r\n*/\r\nexport type FuiDropdownMenuOptionParam = {\r\n\ttext : string;\r\n\tvalue ?: string;\r\n\tsrc ?: string;\r\n\tchecked ?: boolean;\r\n\tdisabled ?: boolean;\r\n\tparam ?: string;\r\n\tindex ?: number;\r\n}\r\n\r\n/**\r\n* SwipeAction 滑动菜单 组件 buttons属性 参数类型\r\n* @description SwipeAction 滑动菜单 组件 buttons属性 参数类型\r\n* @param {string} text {string} 按钮文本，必选\r\n* @param {string} background {string} 按钮背景色，不传或为空则默认使用danger主题色，可选\r\n* @param {number} size {number} 按钮字体大小，单位rpx，可选\r\n* @param {string} color {string} 按钮字体颜色，可选\r\n* @param {number} param {number} 自定义参数，可选\r\n* @param {number} index {number} 当前点击的按钮索引，点击事件返回，无需传值\r\n*/\r\nexport type FuiSwipeActionButtonParam = {\r\n\ttext : string;\r\n\tbackground ?: string;\r\n\tsize ?: number;\r\n\tcolor ?: string;\r\n\tparam ?: number;\r\n\tindex ?: number;\r\n}\r\n\r\n/**\r\n* fui-pagination 分页器 组件 @change 事件 回调参数类型\r\n* @description Pagination 分页器组件 change 事件 回调参数类型\r\n* @param {string} type {string} 按钮类型（prev、next、pageNumber）\r\n* @param {number} current {number} 当前页码\r\n*/\r\nexport type FuiPaginationChangeParam = {\r\n\ttype : string;\r\n\tcurrent : number;\r\n}\r\n\r\n/**\r\n* fui-segmented-control 分段器 组件props 属性 values 参数类型\r\n* @description props 属性 values 参数类型\r\n* @param {string} name {string} 分段器显示文本，必选\r\n* @param {boolean} disabled {boolean} 是否禁用当前项，可选\r\n* @param {number} value {number} 对应的值，可选\r\n* @param {string} param {string} 自定义参数，可选\r\n* @param {number} index {number} 当前点击项索引值，点击事件返回，无需传值，可选\r\n*/\r\nexport type FuiSegmentedControlValueParam = {\r\n\tname : string;\r\n\tdisabled ?: boolean;\r\n\tvalue ?: number;\r\n\tparam ?: string;\r\n\tindex ?: number;\r\n}\r\n\r\n/**\r\n* fui-tabs 标签页 组件props 属性 tabs 参数类型\r\n* @description props 属性 tabs（item项） 参数类型\r\n* @param {string} name {string} 标签显示文本，必选\r\n* @param {string} src {string} 标签显示图标，图标尺寸默认为 40*40，单位rpx，可选\r\n* @param {string} selectedIcon {string} 当前选项图标src，可选，不传默认使用icon\r\n* @param {number} badge {number} 角标数值，可选\r\n* @param {boolean} isDot {boolean} 角标是否显示为圆点，可选\r\n* @param {boolean} disabled {boolean} 是否禁用当前项，可选\r\n* @param {number} index {number} 当前点击项索引值，change 事件返回，无需传值，可选\r\n*/\r\nexport type FuiTabsItemParam = {\r\n\tname : string;\r\n\ticon ?: string;\r\n\tselectedIcon ?: string;\r\n\tbadge ?: number;\r\n\tisDot ?: boolean;\r\n\tdisabled ?: boolean;\r\n\tindex ?: number;\r\n}\r\n\r\n/**\r\n*  Collapse 折叠面板组件 @change 事件 回调参数类型\r\n* @description Collapse 折叠面板组件 change 事件 回调参数类型\r\n* @param {number} index {number} item项索引\r\n* @param {boolean} isOpen {boolean} 是否展开\r\n*/\r\nexport type FuiCollapseChangeParam = {\r\n\tindex : number;\r\n\tisOpen : boolean;\r\n}\r\n\r\n\r\n/**\r\n * 【fui-validator 和 fui-form 组件】 FuiFormRulesValidatorParam 表单校验规则自定义方法参数类型\r\n * @description 表单校验自定义方法参数类型\r\n * @param {String} msg {String} 错误提示内容\r\n * @param {Function} method (value : any) => boolean 校验方法\r\n */\r\nexport type FuiFormRulesValidatorParam = {\r\n\tmsg : string;\r\n\tmethod : (value : any | null) => boolean;\r\n}\r\n\r\n/**\r\n * 【fui-validator 和 fui-form 组件】FuiFormRulesParam 表单校验规则参数类型\r\n * @description 表单校验规则参数类型\r\n * @param {String} name {String} 元素的名称，与formData中key一致\r\n * @param {Array} rule {string[]} 内置的校验方法名称集合，详细见下方说明\r\n * @param {Array} msg {string[]} 对应rule规则方法的错误提示信息\r\n * @param {Array} validator {FuiFormRulesValidatorParam[]} 表单校验规则自定义方法参数类型\r\n */\r\nexport type FuiFormRulesParam = {\r\n\tname : string;\r\n\trule ?: string[];\r\n\tmsg ?: string[];\r\n\tvalidator ?: FuiFormRulesValidatorParam[]\r\n}\r\n\r\n/**\r\n * 【fui-validator 和 fui-form 组件】FuiFormErrorMsgParam 表单校验错误消息参数类型\r\n * @description 表单校验错误消息参数类型\r\n * @param {String} name {String} 元素的名称，与formData中key一致\r\n * @param {String} msg {String} 错误提示信息\r\n */\r\nexport type FuiFormErrorMsgParam = {\r\n\tname : string;\r\n\tmsg : string;\r\n}\r\n\r\n/**\r\n * 【fui-validator 和 fui-form 组件】FuiFormValidatorResParam 表单校验结果参数类型\r\n * @description 表单校验结果参数类型\r\n * @param {Boolean} isPassed {Boolean} 是否校验通过\r\n * @param {Array} errorMsg {FuiFormErrorMsgParam[]} 错误提示信息\r\n */\r\nexport type FuiFormValidatorResParam = {\r\n\tisPassed : boolean;\r\n\terrorMsg : FuiFormErrorMsgParam[];\r\n}","<template>\r\n\t<view class=\"fui-checkbox__input\"\r\n\t\t:class=\"[scaleRatio!=1?`fui-checkbox__scale-${scaleAlign}`:'' ,disabled?'fui-checkbox__disabled':'',color=='' && styleVal && !isCheckMark?'fui-checkbox__color':'',normalColor=='' && !styleVal && !isCheckMark?'fui-checkbox__background':'',borderColor=='' && !styleVal && !isCheckMark?'fui-checkbox__normal-border':'']\"\r\n\t\t:style=\"getStyl\" @tap.stop=\"checkboxClick\">\r\n\t\t<view class=\"fui-check__mark\" :class=\"{'fui-checkbox__mark-color':checkMarkColor==''}\" :style=\"getMarkStyl\"\r\n\t\t\tv-if=\"val\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\timport { FuiCheckboxChangeParam } from '../fui-types/index.uts';\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} value\t{String} value值，当选中时会携带该值\r\n\t * @property {Boolean} checked {Boolean} 是否选中\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用\r\n\t * @property {String} color\t{String} 选中时背景颜色\r\n\t * @property {String} normalColor {String} 未选中时背景颜色\r\n\t * @property {String} borderColor {String} 未选中时边框颜色\r\n\t * @property {String} borderRadius {String} 圆角值\r\n\t * @property {Boolean} isCheckMark {Boolean} 是否只展示对号，无边框背景\r\n\t * @property {String} checkMarkColor {String} 对号颜色\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\r\n\t * @event {Function} change 选中状态发生改变时触发，(event: FuiCheckboxChangeParam) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox\",\r\n\t\temits: ['change'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tchecked: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tnormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '100px'\r\n\t\t\t},\r\n\t\t\tisCheckMark: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcheckMarkColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tscaleAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.val = this.checked;\r\n\t\t\tthis.getParent('fui-checkbox-group')\r\n\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t(group.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\tconst modelValue = group.$props['modelValue'] as string[];\r\n\t\t\t\tif (modelValue.length > 0) {\r\n\t\t\t\t\tthis.val = modelValue.includes(this.value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst parent = this.getParent('fui-label')\r\n\t\t\tif (parent) {\r\n\t\t\t\tconst label = this.fuiLabel as ComponentPublicInstance\r\n\t\t\t\t(label.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('transform', `scale(${this.scaleRatio})`);\r\n\t\t\t\tmp.set('border-radius', this.borderRadius);\r\n\t\t\t\tlet color = this.val ? this.color : (this.borderColor == '' ? this.color : this.borderColor);\r\n\t\t\t\tconst bgColor = this.val ? this.color : this.normalColor;\r\n\t\t\t\tif (this.isCheckMark) {\r\n\t\t\t\t\tmp.set('border-color', 'transparent')\r\n\t\t\t\t\tmp.set('background', 'transparent')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (color != '') mp.set('border-color', color)\r\n\t\t\t\t\tif (bgColor != '') mp.set('background', bgColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') {\r\n\t\t\t\t\tmp.set('borderBottomColor', this.checkMarkColor)\r\n\t\t\t\t\tmp.set('borderRightColor', this.checkMarkColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchecked(newVal) {\r\n\t\t\t\tthis.val = newVal;\r\n\t\t\t},\r\n\t\t\tval() {\r\n\t\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t\tgroup.$callMethod('changeValue');\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.styleVal = this.val;\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: false,\r\n\t\t\t\tstyleVal: false,\r\n\t\t\t\tfuiLabel: null as null | ComponentPublicInstance,\r\n\t\t\t\tfuiCkGroup: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxClick(e : UniPointerEvent) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tthis.checkboxChange();\r\n\t\t\t},\r\n\t\t\tcheckboxChange() {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.val = !this.val;\r\n\t\t\t\tthis.$emit('change', {\r\n\t\t\t\t\tchecked: this.val,\r\n\t\t\t\t\tvalue: this.value\r\n\t\t\t\t} as FuiCheckboxChangeParam)\r\n\t\t\t},\r\n\t\t\t//测试支持，如果不支持则使用 provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tif (name == 'fui-checkbox-group') {\r\n\t\t\t\t\tthis.fuiCkGroup = parent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fuiLabel = parent;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tlabelClick() {\r\n\t\t\t\tthis.checkboxChange()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-checkbox-border-color: #CCCCCC !default;\r\n\t$fui-checkbox-background: #fff !default;\r\n\t$fui-checkbox-mark-color: #fff !default;\r\n\r\n\t.fui-checkbox__input {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 100px;\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-left {\r\n\t\ttransform-origin: 0 center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-center {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-right {\r\n\t\ttransform-origin: 100% center;\r\n\t}\r\n\r\n\t.fui-checkbox__color {\r\n\t\tbackground: $fui-color-primary !important;\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-checkbox__normal-border {\r\n\t\tborder-color: $fui-checkbox-border-color !important;\r\n\t}\r\n\r\n\t.fui-checkbox__background {\r\n\t\tbackground: $fui-checkbox-background !important;\r\n\t}\r\n\r\n\t.fui-checkbox__mark-color {\r\n\t\tborder-bottom-color: $fui-checkbox-mark-color !important;\r\n\t\tborder-right-color: $fui-checkbox-mark-color !important;\r\n\t}\r\n\r\n\t.fui-check__mark {\r\n\t\twidth: 20rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 3px;\r\n\t\tborder-bottom-color: #FFFFFF;\r\n\t\tborder-right-style: solid;\r\n\t\tborder-right-width: 3px;\r\n\t\tborder-right-color: #FFFFFF;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\ttransform-origin: 54% 48%;\r\n\t}\r\n\r\n\t.fui-checkbox__disabled {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","<template>\r\n\t<checkbox-group :name=\"name\">\r\n\t\t<slot></slot>\r\n\t</checkbox-group>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { type PropType, ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String}\t多项选择器名称\t\r\n\t * @property {Array} modelValue { string[] } 选中的value值集合，用于双向绑定\r\n\t * @event {Function} change 选中项发生变化时触发，(event: string[]) => void\r\n\t * @event {Function} update:modelValue 用于组件双向绑定，(event: string[]) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox-group\",\r\n\t\temits: ['change', 'update:modelValue'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Array as PropType<string[]>,\r\n\t\t\t\tdefault: () : string[] => [] as string[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvals: [] as string[],\r\n\t\t\t\tchildrens: [] as ComponentPublicInstance[],\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmodelValue(vals : string[]) {\r\n\t\t\t\tthis.modelChange(vals)\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChange(e : string[]) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t},\r\n\t\t\tchangeValue() {\r\n\t\t\t\tconst vals = [] as string[];\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst isChk = item.$data['val'] as boolean;\r\n\t\t\t\t\tif (isChk) {\r\n\t\t\t\t\t\tvals.push(item.$props['value'] as string);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.checkboxChange(vals)\r\n\t\t\t},\r\n\t\t\tmodelChange(vals : string[]) {\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst value = item.$props['value'] as string;\r\n\t\t\t\t\tif (vals.includes(value)) {\r\n\t\t\t\t\t\titem.$data['val'] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.$data['val'] = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = [] as string[];\r\n\t\t\t\tthis.checkboxChange(this.vals)\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string[] {\r\n\t\t\t\treturn this.vals;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped></style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<TopNavBar title=\"登陆\" :isText=\"true\" rightText=\"注册\" />\r\n\t\t<image src=\"@/static/login_banner.png\" class=\"longin_banner\" />\r\n\t\t<view class=\"content\">\r\n\t\t\t<view v-if=\"loginType\">\r\n\t\t\t\t<fui-input placeholder-style=\"color:#000\" backgroundColor=\"#d3a0fa\" :radius=\"40\" :borderBottom=\"false\"\r\n\t\t\t\t\tplaceholder=\"请输入账号\">\r\n\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t<view style=\"margin-right: 20rpx;\">\r\n\t\t\t\t\t\t\t<fui-icon name=\"mobile\" color=\"#1296db\" :size=\"48\"></fui-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</fui-input>\r\n\t\t\t\t<fui-input placeholder-style=\"color:#000\" backgroundColor=\"#d3a0fa\" :marginTop=\"40\" :radius=\"40\"\r\n\t\t\t\t\t:borderBottom=\"false\" placeholder=\"请输入密码\" type=\"password\">\r\n\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t<view style=\"margin-right: 20rpx;\">\r\n\t\t\t\t\t\t\t<fui-icon name=\"captcha\" color=\"#1296db\" :size=\"48\"></fui-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</fui-input>\r\n\t\t\t\t<view class=\"tips\">\r\n\t\t\t\t\t<text @click=\"changeType(false)\">短信登陆</text>\r\n\t\t\t\t\t<text>忘记密码</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<fui-input placeholder-style=\"color:#000\" backgroundColor=\"#d3a0fa\" :radius=\"40\" :borderBottom=\"false\"\r\n\t\t\t\t\tplaceholder=\"请输入账号\">\r\n\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t<view style=\"margin-right: 20rpx;\">\r\n\t\t\t\t\t\t\t<fui-icon name=\"mobile\" color=\"#1296db\" :size=\"48\"></fui-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</fui-input>\r\n\t\t\t\t<fui-input padding=\"20rpx 32rpx\" backgroundColor=\"#d3a0fa\" placeholder=\"请输入验证码\" :bottomLeft=\"0\"  :marginTop=\"40\" :radius=\"40\"\r\n\t\t\t\t\tplaceholderStyle=\"font-size: 26rpx;\" placeholder-style=\"color:#000\" :borderBottom=\"false\">\r\n\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t<view style=\"margin-right: 20rpx;\">\r\n\t\t\t\t\t\t\t<fui-icon name=\"captcha\" color=\"#1296db\" :size=\"48\"></fui-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<fui-button width=\"200rpx\" height=\"64rpx\" :size=\"28\" @click=\"getPsw\" :text=\"btnWord\" background=\"none\" color=\"#333\"\r\n\t\t\t\t\t\t:disabled=\"isCounting\"></fui-button>\r\n\t\t\t\t</fui-input>\r\n                <view class=\"tips\">\r\n\t\t\t\t\t<text @click=\"changeType(true)\">密码登陆</text>\r\n\t\t\t\t\t<text>忘记密码</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n            <fui-checkbox-group name=\"checkbox\" class=\"check-box\" @change=\"isChecked\">\r\n                <fui-label>\r\n                    <fui-checkbox value=\"1\"></fui-checkbox>\r\n                </fui-label>\r\n                <view class=\"fui-text-box\">\r\n                    <text>已阅读并同意</text>\r\n                    <text class=\"fui-text\" @click=\"showUserInfo\">《用户协议》</text>\r\n                    <text>和</text>\r\n                    <text class=\"fui-text\" @click=\"priviteInfo\">《隐私政策》</text>\r\n                </view>\r\n            </fui-checkbox-group>\r\n\r\n\t\t\t<fui-button text=\"登录\" margin=\"20rpx 0 0 0\" background=\"#1296db\" color=\"#fff\" :size=\"40\"\r\n\t\t\t\t@onclick=\"login\"></fui-button>\r\n\t\t</view>\r\n        <view>\r\n            <fui-bottom-popup :visible=\"user_info\" @close=\"closeUserPopup\">\r\n                <view class=\"fui-scroll__wrap\">\r\n                    <view class=\"fui-title__pb\">\r\n                        <text>{{user_text.title}}</text>\r\n                        <view @tap=\"closeUserPopup\">\r\n                            <fui-icon name=\"close\" :size=\"48\"></fui-icon>\r\n                        </view>\r\n                    </view>\r\n                    <scroll-view :scroll-y=\"true\" :show-scrollbar=\"false\">\r\n                        <view>\r\n                            {{user_text.content}}\r\n                        </view>\r\n                    </scroll-view>\r\n                    \r\n                </view>\r\n            </fui-bottom-popup>\r\n        </view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport TopNavBar from '../../components/TopNavBar.uvue'\r\n    const loginType = ref<boolean>(true)\r\n    const isCheck = ref<string>('')\r\n\tconst btnWord = ref<string>('获取验证码')\r\n\tconst isCounting = ref<boolean>(false)\r\n    const user_info = ref<boolean>(false)\r\n    const user_text = ref<UTSJSONObject>({\r\n        title:'',\r\n        content:''\r\n    })\r\n\r\n    const changeType = (bool:boolean) => {\r\n        loginType.value = bool\r\n    }\r\n\r\n    const closeUserPopup = () => {\r\n        user_info.value = false\r\n    }\r\n\r\n    const showUserInfo = () =>{\r\n        user_info.value = true\r\n        user_text.value = {\r\n            title:'用户协议',\r\n            content:'用户协议内容'\r\n        }\r\n    }\r\n\r\n    const priviteInfo = () =>{\r\n\t\tuser_info.value = true\r\n        user_text.value = {\r\n            title:'隐私政策',\r\n            content:'隐私政策内容'\r\n        }\r\n    }\r\n\r\n    const isChecked = (e: string[]) =>{\r\n        isCheck.value = e.join(',')\r\n    }\r\n\r\n\tfunction countDown(seconds : number) {\r\n\t\tif (seconds <= 0) {\r\n\t\t\tbtnWord.value = '获取验证码'\r\n\t\t\tisCounting.value = false\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tbtnWord.value = `${seconds}秒后重发`\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tcountDown(seconds - 1)\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tconst getPsw = () => {\r\n\t\tif (isCounting.value) return\r\n\r\n\t\tuni.__log__('log','at pages/login/login.uvue:146','发送验证码请求...')\r\n\t\tisCounting.value = true\r\n\r\n\t\tcountDown(90)\r\n\t}\r\n\tconst login = () => {\r\n\t\tif(isCheck.value == ''){\r\n            uni.showToast({\r\n                title:'请先同意用户协议和隐私政策',\r\n                icon:'none'\r\n            })\r\n        }else{\r\n            uni.showToast({\r\n                title:'登录成功',\r\n                icon:'none'\r\n            })\r\n        }\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\r\n\t\t.longin_banner {\r\n\t\t\twidth: 250rpx;\r\n\t\t\theight: 400rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\twidth: 100%;\r\n            .check-box{\r\n                display: flex;\r\n                flex-direction: row;\r\n                justify-content: flex-start;\r\n                margin-top: 20rpx;\r\n                .fui-text-box{\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    justify-content: flex-start;\r\n                    margin-left: 10rpx;\r\n\t\t\t\t\t.fui-text{\r\n\t\t\t\t\t\tcolor: #1296db;\r\n\t\t\t\t\t}\r\n                }\r\n            }\r\n\t\t\t.tips {\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\t\t}\r\n        .fui-scroll__wrap{\r\n            width: 100%;\r\n            padding: 40rpx;\r\n            .fui-title__pb{\r\n                display: flex;\r\n                flex-direction: row;\r\n                justify-content: space-between;\r\n            }\r\n        }\r\n\t}\r\n</style>","export default \"__VITE_ASSET__e78a7b98__\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"vedio-box\">\r\n\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoSrc\" ref=\"videoRef\" :controls=\"true\" :show-play-btn=\"true\"\r\n\t\t\t\t:show-center-play-btn=\"true\" :enable-progress-gesture=\"true\" :show-fullscreen-btn=\"true\"\r\n\t\t\t\t:show-mute-btn=\"true\" :title=\"testTitle\"></video>\r\n\t\t\t\t<view></view>\r\n\t\t</view>\r\n\t\t<button @click=\"playVideo\">播放视频</button>\r\n\t\t<button @click=\"pasueVideo\">暂停视频</button>\r\n\t\t<view class=\"content-box\">\r\n\t\t\t<view class=\"sub-nav\">\r\n\t\t\t\t<view class=\"today\" @click=\"ShowCalendar\">\r\n\t\t\t\t\t<text>{{today}}</text>\r\n\t\t\t\t\t<image class=\"down\" src=\"/static/down.png\" />\r\n\t\t\t\t\t<text> | </text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"select\">\r\n\t\t\t\t\t<text v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"select-item\"\r\n\t\t\t\t\t\t:class=\"{ active: activeTab === index }\" @click=\"changeTab(index)\">\r\n\t\t\t\t\t\t{{ tab.label }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-content\">\r\n\t\t\t\t<view v-for=\"(event, index) in getFilteredEvents()\" :key=\"index\" class=\"tab-pane\"  @click=\"msgDetail(event)\">\r\n\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t<image class=\"item-icon\" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t:src=\"event.type === 'human' ? '/static/people.png' : '/static/mobile.png'\" />\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<text>{{ event.type === 'human' ? '人形侦测' : '移动侦测' }}</text>\r\n\t\t\t\t\t\t\t<text>{{ event.time }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image class=\"item-img\" mode=\"aspectFit\" src=\"/static/vedio.png\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<fui-bottom-popup :visible=\"showCalendar\" @close=\"hideCalendar\">\r\n\t\t\t<view class=\"calendar-box\">\r\n\t\t\t\t<l-daily-punch :signedDates=\"checkIns\" @select=\"select\" @panelChange=\"change\"\r\n\t\t\t\t\t:dayHeight=\"60\"></l-daily-punch>\r\n\t\t\t\t<button class=\"btn-chanel-box\" @click=\"hideCalendar\">\r\n\t\t\t\t\t取消\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\timport { ref, onMounted, computed } from 'vue'\r\n\timport { dayuts } from '@/uni_modules/lime-dayuts';\r\n\timport { LDay, LYearMonth } from '@/uni_modules/lime-daily-punch'\r\n\tconst checkIns = ref(['2025-06-09', '2025-07-01', '2025-07-02'])\r\n\tconst today = ref(dayuts().format('MM-DD'))\r\n\tconst showCalendar = ref<boolean>(false)\r\n\tconst videoSrc = \"https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4\"\r\n\tconst activeTab = ref(0)\r\n\tconst testTitle = ref('测试标题')\r\n\r\n\tconst videoRef = ref(null);\r\n\r\n\tconst playVideo = () => {\r\n\r\n\t\tvideoRef.value.play()\r\n\r\n\t\tuni.createVideoContext('myVideo')!!.play();\r\n\t};\r\n\t\r\n\tconst pasueVideo = () =>{\r\n\r\n\t\tvideoRef.value.pause()\r\n\r\n\t\tuni.createVideoContext('myVideo')!!.pause();\r\n\t}\r\n\r\n\t//构造函数的方式来定义event时间类型\r\n\tclass SecurityEvent {\r\n\t\tid : number;\r\n\t\ttype : string;\r\n\t\ttime : string;\r\n\t\tlocation : string;\r\n\r\n\t\tconstructor(id : number, type : string, time : string, location : string) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.location = location;\r\n\t\t}\r\n\t}\r\n\r\n\t//定义tab标签的类型\r\n\tclass Tab {\r\n\t\tlabel : string;\r\n\t\ttype : string;\r\n\r\n\t\tconstructor(label : string, type : string) {\r\n\t\t\tthis.label = label;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = ref<Tab[]>([\r\n\t\t{ label: '全部类型', type: 'all' },\r\n\t\t{ label: '人形侦测', type: 'human' },\r\n\t\t{ label: '移动侦测', type: 'motion' }\r\n\t])\r\n\r\n\tconst events = ref<SecurityEvent[]>([\r\n\t\tnew SecurityEvent(1, 'human', '15:29', '前门走廊'),\r\n\t\tnew SecurityEvent(2, 'motion', '14:45', '车库入口'),\r\n\t\tnew SecurityEvent(3, 'human', '13:20', '后花园'),\r\n\t\tnew SecurityEvent(4, 'motion', '11:05', '侧门通道')\r\n\t])\r\n\r\n\t//执行筛选数据的方法\r\n\tconst getFilteredEvents = () : SecurityEvent[] => {\r\n\t\tif (activeTab.value == 0) return [...events.value];\r\n\t\tconst selectedType = tabs.value[activeTab.value].type;\r\n\t\treturn events.value.filter(event => event.type === selectedType);\r\n\t}\r\n\r\n\t//切换tab\r\n\tconst changeTab = (index : number) => {\r\n\t\tactiveTab.value = index\r\n\t}\r\n\r\n\t//选择日期\r\n\tconst select = (day : LDay) => {\r\n\t\ttoday.value = dayuts(day.fullDate).format('MM-DD')\r\n\t\tuni.__log__('log','at pages/message/messageDeviceDetail/messageDeviceDetail.uvue:132',today.value)\r\n\t\tif (day.isToday) {\r\n\t\t\tuni.__log__('log','at pages/message/messageDeviceDetail/messageDeviceDetail.uvue:134','今天')\r\n\t\t}\r\n\t\tshowCalendar.value = false\r\n\t}\r\n\t\r\n\tconst msgDetail = (e:SecurityEvent) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/message/messageDetail/messageDetail?id=' + e.id\r\n\t\t})\r\n\t}\r\n\r\n\tconst change = (res : LYearMonth) => {\r\n\t\tuni.__log__('log','at pages/message/messageDeviceDetail/messageDeviceDetail.uvue:146','res', res)\r\n\t}\r\n\r\n\tconst ShowCalendar = () => {\r\n\t\tshowCalendar.value = !showCalendar.value\r\n\t}\r\n\r\n\tconst hideCalendar = () => {\r\n\t\tshowCalendar.value = false\r\n\t}\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #f3f3f3;\r\n\r\n\t\t.vedio-box {\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.video {\r\n\t\t\t\t@extend .vedio-box\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content-box {\r\n\t\t\tpadding: 30rpx 20rpx;\r\n\r\n\t\t\t.sub-nav {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.today {\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t@extend .sub-nav;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.down {\r\n\t\t\t\t\t\twidth: 25rpx;\r\n\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.select {\r\n\t\t\t\t\t@extend .sub-nav;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\r\n\t\t\t\t\t.select-item {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\t\t\t\tborder-radius: 5rpx;\r\n\t\t\t\t\t\tmargin: 0 5rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.active {\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: #1296db;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tab-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t.tab-pane {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t\t.item-content {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.item-icon {\r\n\t\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.info {\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item-img {\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\theight: 60rpx\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t\t\t.calendar-box {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.btn-chanel-box {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 85%;\r\n\t\t\t\tbottom: 45rpx;\r\n\t\t\t\tleft: 60rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.popup-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.fui-scroll__wrap {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.fui-sub__title {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #7F7F7F;\r\n\t\t\ttransform: scale(.9);\r\n\t\t}\r\n\r\n\t\t.fui-scroll__view {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50%;\r\n\t\t}\r\n\r\n\t\t.fui-list__cell {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t}\r\n</style>","<template>\n\t<view class=\"fui-tag__wrap\"\n\t\t:class=\"[originLeft?'fui-tag__origin-left':'',originRight?'fui-tag__origin-right':'',background==''?`fui-tag__${type}-${theme}`:'',(background!='' && borderColor=='') || !isBorder?'fui-tag__no-border':'']\"\n\t\t:style=\"{background:background,borderColor:borderColor,transform: `scale(${scaleRatio})`,borderRadius:`${radius}rpx`,padding:padding,marginTop:`${marginTop}rpx`,marginRight:`${marginRight}rpx`,marginBottom:`${marginBottom}rpx`,marginLeft:`${marginLeft}rpx`}\"\n\t\t@tap=\"handleClick\" :hover-stay-time=\"120\" :hover-class=\"highlight?'fui-tag__opacity-active':''\">\n\t\t<text v-if=\"text!=''\" class=\"fui-tag__text\" :class=\"[background==''?`fui-tag_${type}-${theme}`:'']\"\n\t\t\t:style=\"{fontSize:`${size}rpx`,lineHeight:`${size}rpx`,color:color}\">{{text}}</text>\n\t\t<slot></slot>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n\t/**\n\t * Tag 标签\n\t * @description Tag 标签，用于标记或分类，外层容器需要设置flex-direction: row，否则长度将铺满而非自适应。\n\t * @tutorial https://unix.firstui.cn/\n\t * @property {String} text {String} 标签显示文本\n\t * @property {String} type {String}\t标签类型，可选值：primary，success，warning，danger，purple\n\t * @property {String} theme {String} 标签主题，可选值：dark、light、plain。background为空时生效\n\t * @property {String} background {String} 标签背景色。如果设置背景则type、theme失效\n\t * @property {Boolean} isBorder {Boolean} 是否需要边框\n\t * @property {String} borderColor {String} 标签边框颜色\n\t * @property {String} color {String} 标签字体颜色\n\t * @property {Number} size {Number} 标签字体大小，单位rpx\n\t * @property {String} borderColor {String} 标签边框颜色\n\t * @property {String} color {String} 标签字体颜色\n\t * @property {Number} size {Number} 标签字体大小，单位rpx\n\t * @property {Number} scaleRatio {Number} 标签缩放比例\n\t * @property {Boolean} originLeft {Boolean} 缩放后，是否设置元素的基点位置为：0 center\n\t * @property {Boolean} originRight {Boolean} 缩放后，是否设置元素的基点位置为：100% center\n\t * @property {Boolean} highlight {Boolean} 是否有点击效果\n\t * @property {Number} radius {Number} 标签圆角值，单位rpx\n\t * @property {String} padding {String} padding值，格式同css\n\t * @property {Number} marginTop {Number} margin-top值\n\t * @property {Number} marginBottom {Number} margin-bottom值\n\t * @property {Number} marginLeft {Number} margin-left值\n\t * @property {Number} marginRight {Number} margin-right值\n\t * @property {Number} index {Number} 列表中的索引值，点击事件回传\n\t * @event {Function} onclick 点击标签时触发，(event=>number) => void\n\t */\n\texport default {\n\t\tname: \"fui-tag\",\n\t\temits: ['onclick'],\n\t\tprops: {\n\t\t\ttext: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\ttype: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'primary'\n\t\t\t},\n\t\t\ttheme: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'dark'\n\t\t\t},\n\t\t\tbackground: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tisBorder: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\tborderColor: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tcolor: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 24\n\t\t\t},\n\t\t\tscaleRatio: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 1\n\t\t\t},\n\t\t\toriginLeft: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\toriginRight: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\thighlight: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tradius: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 8\n\t\t\t},\n\t\t\tpadding: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '16rpx 32rpx'\n\t\t\t},\n\t\t\tmarginTop: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\t\t\tmarginBottom: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\t\t\tmarginLeft: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\t\t\tmarginRight: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\t\t\tindex: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {}\n\t\t},\n\t\tmethods: {\n\t\t\thandleClick() {\n\t\t\t\tthis.$emit('onclick', this.index)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t$fui-color-primary: #465CFF !default;\n\t$fui-color-success: #09BE4F !default;\n\t$fui-color-warning: #FFB703 !default;\n\t$fui-color-danger: #FF2B2B !default;\n\t$fui-color-purple: #6831FF !default;\n\t$fui-bg-color-grey: #F1F4FA !default;\n\t$fui-bg-color-green: rgba(9, 190, 79, .05) !default;\n\t$fui-bg-color-yellow: rgba(255, 183, 3, .1) !default;\n\t$fui-bg-color-red: rgba(255, 43, 43, .05) !default;\n\t$fui-bg-color-purple: rgba(104, 49, 255, .05) !default;\n\t$fui-tag-border-width: 0.5px !default;\n\n\t.fui-tag__wrap {\n\t\tdisplay: flex;\n\t\tflex-shrink: 0;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tposition: relative;\n\t\tborder-width: $fui-tag-border-width;\n\t\tborder-style: solid;\n\t\tborder-color: transparent;\n\t\toverflow: hidden;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.fui-tag__no-border {\n\t\tborder-width: 0;\n\t}\n\n\t.fui-tag__text {\n\t\tlines: 1;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\n\n\n\t}\n\n\t.fui-tag__primary-dark {\n\t\tbackground: $fui-color-primary !important;\n\t\tborder-color: $fui-color-primary !important;\n\t}\n\n\t.fui-tag_primary-dark,\n\t.fui-tag_success-dark,\n\t.fui-tag_warning-dark,\n\t.fui-tag_danger-dark,\n\t.fui-tag_purple-dark {\n\t\tcolor: #FFFFFF !important;\n\t}\n\n\t.fui-tag__success-dark {\n\t\tbackground: $fui-color-success !important;\n\t\tborder-color: $fui-color-success !important;\n\t}\n\n\n\t.fui-tag__warning-dark {\n\t\tbackground: $fui-color-warning !important;\n\t\tborder-color: $fui-color-warning !important;\n\t}\n\n\t.fui-tag__danger-dark {\n\t\tbackground: $fui-color-danger !important;\n\t\tborder-color: $fui-color-danger !important;\n\t}\n\n\t.fui-tag__purple-dark {\n\t\tbackground: $fui-color-purple !important;\n\t\tborder-color: $fui-color-purple !important;\n\t}\n\n\t.fui-tag__primary-light {\n\t\tbackground: $fui-bg-color-grey !important;\n\t\tborder-color: $fui-bg-color-grey !important;\n\t}\n\n\t.fui-tag_primary-light,\n\t.fui-tag_primary-plain {\n\t\tcolor: $fui-color-primary !important;\n\t}\n\n\t.fui-tag__success-light {\n\t\tbackground: $fui-bg-color-green !important;\n\t\tborder-color: $fui-bg-color-green !important;\n\t}\n\n\t.fui-tag_success-light,\n\t.fui-tag_success-plain {\n\t\tcolor: $fui-color-success !important;\n\t}\n\n\t.fui-tag__warning-light {\n\t\tbackground: $fui-bg-color-yellow !important;\n\t\tborder-color: $fui-bg-color-yellow !important;\n\n\t}\n\n\t.fui-tag_warning-light,\n\t.fui-tag_warning-plain {\n\t\tcolor: $fui-color-warning !important;\n\n\t}\n\n\t.fui-tag__danger-light {\n\t\tbackground: $fui-bg-color-red !important;\n\t\tborder-color: $fui-bg-color-red !important;\n\t}\n\n\t.fui-tag_danger-light,\n\t.fui-tag_danger-plain {\n\t\tcolor: $fui-color-danger !important;\n\t}\n\n\t.fui-tag__purple-light {\n\t\tbackground: $fui-bg-color-purple !important;\n\t\tborder-color: $fui-bg-color-purple !important;\n\t}\n\n\t.fui-tag_purple-light,\n\t.fui-tag_purple-plain {\n\t\tcolor: $fui-color-purple !important;\n\t}\n\n\t.fui-tag__primary-plain {\n\t\tbackground: rgba(0, 0, 0, 0) !important;\n\t\tborder-color: $fui-color-primary !important;\n\t}\n\n\t.fui-tag__success-plain {\n\t\tbackground-color: rgba(0, 0, 0, 0) !important;\n\t\tborder-color: $fui-color-success !important;\n\t}\n\n\t.fui-tag__warning-plain {\n\t\tbackground: rgba(0, 0, 0, 0) !important;\n\t\tborder-color: $fui-color-warning !important;\n\t}\n\n\t.fui-tag__danger-plain {\n\t\tbackground: rgba(0, 0, 0, 0) !important;\n\t\tborder-color: $fui-color-danger !important;\n\t}\n\n\t.fui-tag__purple-plain {\n\t\tbackground: rgba(0, 0, 0, 0) !important;\n\t\tborder-color: $fui-color-purple !important;\n\t}\n\n\t.fui-tag__origin-left {\n\t\ttransform-origin: 0 center;\n\t}\n\n\t.fui-tag__origin-right {\n\t\ttransform-origin: 100% center;\n\t}\n\n\t.fui-tag__opacity-active {\n\t\topacity: 0.5;\n\t}\n</style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"item\" v-for=\"(item,index) in content\" :key=\"index\">\r\n\t\t\t\t<image class=\"unread\" :src=\"item.flag == 'unread' ? '/static/dot.png' : ''\" />\r\n\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t<text @click=\"read(item.id)\">{{item.desc}}</text>\r\n\t\t\t\t\t<view class=\"item-content-bottom\">\r\n\t\t\t\t\t\t<view class=\"tag-time\">\r\n\t\t\t\t\t\t\t<fui-tag v-if=\"item.type == 'notice'\" text=\"通知\" :margin-bottom=\"24\" :margin-right=\"24\"></fui-tag>\r\n\t\t\t\t\t\t\t<fui-tag v-else-if=\"item.type == 'announcement'\" text=\"公告\" type=\"success\" :margin-bottom=\"24\" :margin-right=\"24\"></fui-tag>\r\n\t\t\t\t\t\t\t<fui-tag v-else-if=\"item.type == 'share'\" text=\"分享\" type=\"warning\" :margin-bottom=\"24\" :margin-right=\"24\"></fui-tag>\r\n\t\t\t\t\t\t\t<text>{{item.time}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<fui-button width=\"100rpx\" height=\"40rpx\" :size=\"25\" v-if=\"item.type == 'share'\" text=\"确认\" @onclick=\"submit\"></fui-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport {ref} from 'vue'\r\n\r\n\ttype msgType = {\r\n\t\tid: number,\r\n\t\tdesc: string,\r\n\t\ttime: string,\r\n\t\ttype:string,\r\n\t\tflag:string,\r\n\t}\r\n\r\n\tconst content = ref<msgType[]>([\r\n\t\t{\r\n\t\t\tid:1,\r\n\t\t\tdesc:'您的XXX设备(ICCID:123456789)流量即将到期，请及时续费',\r\n\t\t\ttime:'2024-10-24 15:58:32',\r\n\t\t\ttype:'notice',\r\n\t\t\tflag:'unread',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:2,\r\n\t\t\tdesc:'您的XXX设备(ICCID:123456789)流量已到期',\r\n\t\t\ttime:'2024-10-24 15:58:32',\r\n\t\t\ttype:'announcement',\r\n\t\t\tflag:'read',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:3,\r\n\t\t\tdesc:'您的XXX设备(ICCID:123456789)流量已到期',\r\n\t\t\ttime:'2024-10-24 15:58:32',\r\n\t\t\ttype:'share',\r\n\t\t\tflag:'read',\r\n\t\t},\r\n\t])\r\n\r\n\tconst read = (id:number) => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle:'已标记为已读'+ id.toString(),\r\n\t\t})\r\n\t}\r\n\r\n\tconst submit = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle:'确认分享',\r\n\t\t\ticon:'none',\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container{\r\n\t\theight: 100%;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\t.content{\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\t.item{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\t.unread{\r\n\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.item-content{\r\n\t\t\t\t\tborder-bottom:1rpx solid #f1f1f1;\r\n\t\t\t\t\tpadding-bottom: 20rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t.item-content-bottom{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: flex-end;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tmargin-top: 10rpx\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.tag-time{\r\n\t\t\t\t\t\t@extend .item-content-bottom;\r\n\t\t\t\t\t\t.fui-tag__wrap{\r\n\t\t\t\t\t\t\twidth: 70rpx !important;\r\n\t\t\t\t\t\t\theight: 40rpx !important ;\r\n\t\t\t\t\t\t\tpadding: 5rpx 10rpx !important;\r\n\t\t\t\t\t\t\tmargin-bottom:0 !important;\r\n\t\t\t\t\t\t\t.fui-tag__text{\r\n\t\t\t\t\t\t\t\tfont-size: 22rpx !important;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<l-tabs :value=\"tabVal\" @click=\"changeTab\" bgColor=\"transparent\" color=\"#000000\" activeColor=\"#FF5722\">\n\t\t\t<l-tab-panel v-for=\"(item,index) in tabsVal\" :key=\"index\" :value=\"index\" :label=\"item.title\">\n\t\t\t\t<view class=\"list-item\" v-for=\"(item,index) in getFilteredEvents()\" :key=\"index\">\n\t\t\t\t\t<view @click=\"goDetail(item.id)\">\n\t\t\t\t\t\t<view class=\"title-state\">\n\t\t\t\t\t\t\t<text class=\"title-style\">{{item.title}}</text>\n\t\t\t\t\t\t\t<text class=\"state-style\">{{item.state}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"device-type\">\n\t\t\t\t\t\t\t<text>办公室设备</text>\n\t\t\t\t\t\t\t<text>ICCID {{item.iccid}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"date-price\">\n\t\t\t\t\t\t\t<text>{{item.date}}</text>\n\t\t\t\t\t\t\t<text class=\"price\">{{item.price}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"btn\" v-if=\"item.isPay == '1'\">\n\t\t\t\t\t\t<fui-button text=\"去付款\" type=\"primary\" width=\"120rpx\" height=\"50rpx\" :size=\"24\" @click=\"goPay\"></fui-button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</l-tab-panel>\n\t\t</l-tabs>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\tconst tabVal = ref(0)\n\n\ttype tabItem = {\n\t\tid : string;\n\t\ttitle : string;\n\t\tcontent : Array<ContentType>\n\t}\n\n\ttype ContentType = {\n\t\tid : string;\n\t\ttitle : string;\n\t\tdate : string;\n\t\tprice : string;\n\t\tstate : string;\n\t\ticcid : string;\n\t\tisPay : string;\n\t}\n\n\tconst tabsVal = ref<tabItem[]>([\n\t\t{\n\t\t\tid:'0',\n\t\t\ttitle:'全部',\n\t\t\tcontent:[]\n\t\t},\n\t\t{\n\t\t\tid:'1',\n\t\t\ttitle:'待付款',\n\t\t\tcontent:[]\n\t\t},\n\t\t{\n\t\t\tid:'2',\n\t\t\ttitle:'已完成',\n\t\t\tcontent:[]\n\t\t},\n\t\t{\n\t\t\tid:'3',\n\t\t\ttitle:'已取消',\n\t\t\tcontent:[]\n\t\t},\n\t\t{\n\t\t\tid:'4',\n\t\t\ttitle:'退款',\n\t\t\tcontent:[]\n\t\t}\n\t])\n\n\tconst content  = ref<ContentType[]>([\n\t\t{\n\t\t\tid:'1111',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'2025-07-09 15:00:00',\n\t\t\tprice:'¥300',\n\t\t\tstate:'已完成',\n\t\t\ticcid:'89862235957372384387456',\n\t\t\tisPay:'2',\n\t\t},\n\t\t{\n\t\t\tid:'1112',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'2025-07-09 15:00:00',\n\t\t\tprice:'¥300',\n\t\t\tstate:'已取消',\n\t\t\ticcid:'89862235957372384387454',\n\t\t\tisPay:'3',\n\t\t},\n\t\t{\n\t\t\tid:'1113',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'2025-07-09 15:00:00',\n\t\t\tprice:'¥300',\n\t\t\tstate:'待付款',\n\t\t\ticcid:'89862235957372384387467',\n\t\t\tisPay:'1',\n\t\t},\n\t\t{\n\t\t\tid:'1114',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'2025-07-09 15:00:00',\n\t\t\tprice:'¥300',\n\t\t\tstate:'已退款',\n\t\t\ticcid:'89862235957372384387465',\n\t\t\tisPay:'4',\n\t\t},\n\t\t{\n\t\t\tid:'1115',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'2025-07-09 15:00:00',\n\t\t\tprice:'¥300',\n\t\t\tstate:'已退款',\n\t\t\ticcid:'89862235957372384387465',\n\t\t\tisPay:'4',\n\t\t},\n\t])\n\n\tconst getFilteredEvents = (): ContentType[] => {\n\t\tif (tabVal.value == 0) return [...content.value];\n\t\tconst selectedType = tabsVal.value[tabVal.value].id;\n\t\treturn content.value.filter(event => event.isPay == selectedType);\n\t}\n\n\tconst changeTab = (val: number) => {\n\t\ttabVal.value = val\n\t}\n\n\tconst goDetail = (id:string) => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/mine/myOrders/orderDetail/orderDetail?id=' + id\n\t\t})\n\t}\n\n\tconst goPay = () => {\n\t\tuni.showToast({\n\t\t\ttitle: '去付款',\n\t\t\ticon: 'none'\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #F5F5F5;\n\t\tpadding: 20rpx;\n\t\t.l-tabs{\n\t\t\tbackground-color: transparent !important;\n\t\t}\n\t\t.list-item{\n\t\t\tbackground-color:#fff;\n\t\t\tpadding:20rpx 30rpx;\n\t\t\tmargin-top: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.title-state{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding:10rpx 0;\n\t\t\t\t.title-style{\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tcolor: #000000;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t\t.state-style{\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #FF5722;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.device-type{\n\t\t\t\t@extend .title-state;\n\t\t\t}\n\t\t\t.date-price{\n\t\t\t\t@extend .title-state;\n\t\t\t\t.price{\n\t\t\t\t\tfont-size:38rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.btn{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: flex-end;\n\t\t\t\tpadding:10rpx 0;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>包年120G套餐</text>\n\t\t\t\t<text class=\"price\">¥128</text>\n\t\t\t</view>\n\t\t\t<view class=\"item underline\">\n\t\t\t\t<text>有效期</text>\n\t\t\t\t<text>60个月</text>\n\t\t\t</view>\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>设备名称</text>\n\t\t\t\t<text>办公室设备</text>\n\t\t\t</view>\n\t\t\t<view class=\"item underline\">\n\t\t\t\t<text>ICCID </text>\n\t\t\t\t<text>8986042400000000000</text>\n\t\t\t</view>\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>实付款</text>\n\t\t\t\t<text>¥128</text>\n\t\t\t</view>\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>订单编号</text>\n\t\t\t\t<text>ASW22333332222</text>\n\t\t\t</view>\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>下单时间</text>\n\t\t\t\t<text>2024-10-23 17:21:11</text>\n\t\t\t</view>\n\t\t\t<view class=\"item\">\n\t\t\t\t<text>支付时间</text>\n\t\t\t\t<text>2024-10-23 17:21:22</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\tconst id = ref<string>('')\n\n\tonLoad((options:UTSJSONObject)=>{\n\t\tid.value =  options.id!.toString()\n\t})\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tpadding:20rpx;\n\t\tbackground-color:#F5F5F5;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx 40rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.item{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\t.price{\n\t\t\t\t\tfont-size: 38rpx;\n\t\t\t\t\tcolor:#555;\n\t\t\t\t\tfont-weight:bold;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.underline{\n\t\t\t\tborder-bottom: 2rpx solid #F1f1f1;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import { unitConvert } from '@/uni_modules/lime-shared/unitConvert';\r\n\r\nexport type DrawBorderOptions = {\r\n\tdirection : 'top' | 'bottom' | 'left' | 'right';\r\n\tcolor ?: string;\r\n\tcolorKey ?: string; // 在dom中获取颜色\r\n\tstartOffsetKey?: string; // 在dom哪个属性获取\r\n\tstartOffset ?: number | string; // 支持数字或 CSS 字符串（如 '10px'）\r\n\tendOffset ?: number | string;\r\n\tlineWidth ?: number;\r\n\twatchSize ?: boolean; // 是否监听尺寸变化自动重绘\r\n\timmediate ?: boolean; // 是否立即绘制\r\n\tbordered?: boolean;\r\n\t\r\n}\r\n\r\nexport type UseDrawBorderReturn = {\r\n\tcolor: Ref<string>,\r\n\trenderBorder: () => void,\r\n\tclearBorder: () => void;\r\n\tdispose: () => void,\r\n}\r\n/**\r\n * 在元素上绘制边框，并支持动态监听尺寸变化\r\n * @param elementRef 目标元素的 Ref\r\n * @param options 边框配置\r\n * @returns 清理函数（用于卸载时取消监听）\r\n */\r\nexport function useDrawBorder(\r\n\telementRef : Ref<UniElement | null>,\r\n\toptions : DrawBorderOptions\r\n):UseDrawBorderReturn {\r\n\tlet resizeObserver : UniResizeObserver | null = null;\r\n\tconst { watchSize = true, immediate = true } = options;\r\n\tconst defalutColor = '#e7e7e7'\r\n\tconst color = ref(options.color ?? defalutColor)\r\n\tconst bordered = ref(options.bordered ?? true)\r\n\tlet computedStartOffset = 0\r\n\tlet computedEndOffset = 0\r\n\t\r\n\t// 绘制边框\r\n\tconst renderBorder = () => {\r\n\t\tif (elementRef.value == null) return;\r\n\t\tconst ctx = elementRef.value!.getDrawableContext();\r\n\t\tif (ctx == null) return;\r\n\r\n\t\tconst rect = elementRef.value!.getBoundingClientRect();\r\n\t\tctx.reset();\r\n\r\n\t\tconst {\r\n\t\t\tdirection,\r\n\t\t\tstartOffset = 0,\r\n\t\t\tendOffset = 0,\r\n\t\t\tlineWidth = 0.5,\r\n\t\t\tcolorKey,\r\n\t\t\tstartOffsetKey,\r\n\t\t} = options;\r\n\t\t \r\n\t\t\r\n\t\t// 转换单位（如果是字符串，如 '10px'）\r\n\t\tif(computedStartOffset == 0) {\r\n\t\t\tcomputedStartOffset = unitConvert((startOffsetKey != null ? elementRef.value?.style.getPropertyValue(startOffsetKey!) ?? startOffset : startOffset))\r\n\t\t}\r\n\t\tif(computedEndOffset == 0) {\r\n\t\t\tcomputedEndOffset = unitConvert(endOffset)\r\n\t\t}\r\n\t\t\r\n\t\tif(color.value == defalutColor && colorKey != null) {\r\n\t\t\tcolor.value = elementRef.value?.style.getPropertyValue(colorKey!) ?? defalutColor\r\n\t\t\t// if(color.value.length == 0) {\r\n\t\t\t// \tcolor.value = defalutColor\r\n\t\t\t// }\r\n\t\t}\r\n\t\tctx.strokeStyle = color.value;\r\n\t\tctx.lineWidth = lineWidth;\r\n\r\n\t\t// 根据方向计算坐标\r\n\t\tswitch (direction) {\r\n\t\t\tcase 'top':\r\n\t\t\t\tctx.moveTo(computedStartOffset, 0);\r\n\t\t\t\tctx.lineTo(rect.width - computedEndOffset, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tctx.moveTo(computedStartOffset, rect.height - 0.25);\r\n\t\t\t\tctx.lineTo(rect.width - computedEndOffset, rect.height - 0.25);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tctx.moveTo(0, computedStartOffset);\r\n\t\t\t\tctx.lineTo(0, rect.height - computedEndOffset);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tctx.moveTo(rect.width, computedStartOffset);\r\n\t\t\t\tctx.lineTo(rect.width, rect.height - computedEndOffset);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.update();\r\n\t};\r\n\t\r\n\tconst setupResizeObserver = () => {\r\n\t\t// 监听尺寸变化（如果启用）\r\n\t\tif (watchSize) {\r\n\t\t\tif (resizeObserver == null) {\r\n\t\t\t\tresizeObserver = new UniResizeObserver((entries : Array<UniResizeObserverEntry>) => {\r\n\t\t\t\t\tif(!bordered.value) return\r\n\t\t\t\t\trenderBorder();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\twatchEffect(()=>{\r\n\t\t\t\tif (elementRef.value != null) {\r\n\t\t\t\t\tresizeObserver!.observe(elementRef.value!);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t// 清理函数（卸载时取消监听）\r\n\tconst dispose = () => {\r\n\t\tif (resizeObserver != null && elementRef.value != null) {\r\n\t\t\t// resizeObserver.unobserve(elementRef.value!);\r\n\t\t\tresizeObserver!.disconnect();\r\n\t\t\tresizeObserver = null;\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst clearBorder = ()=> {\r\n\t\tif (elementRef.value == null) return;\r\n\t\tconst ctx = elementRef.value!.getDrawableContext();\r\n\t\tif (ctx == null) return;\r\n\t\tbordered.value = false\r\n\t\tctx.reset()\r\n\t\tctx.update()\r\n\t}\r\n\t\r\n\tsetupResizeObserver()\r\n\t// 初始绘制\r\n\tif(immediate) {\r\n\t\trenderBorder();\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\treturn {\r\n\t\trenderBorder, // 手动触发绘制\r\n\t\tdispose,    // 清理监听\r\n\t\tclearBorder,\r\n\t\tcolor\r\n\t} as UseDrawBorderReturn\r\n\t\r\n}","<template>\n\t<view \n\t\tclass=\"l-textarea\" \n\t\tref=\"textareaRef\"\n\t\t:style=\"[styles, lStyle]\"\n\t\t:class=\"[\n\t\t\t'l-textarea--' + layout,\n\t\t\t// classic ? 'l-textarea--classic-' + status : '',\n\t\t\t{\n\t\t\t\t'l-textarea--classic': classic,\n\t\t\t\t'l-textarea--classic-disabled':  classic && isDisabled,\n\t\t\t\t'l-textarea--classic-focused':  classic && !isDisabled && innerFocused,\n\t\t\t\t'l-textarea--border': bordered && !classic\n\t\t\t}]\">\n\t\t<text \n\t\t\tclass=\"l-textarea__label\" \n\t\t\t:style=\"[labelStyle]\"\n\t\t\t:class=\"[\n\t\t\t\t'l-textarea__label--' + layout,\n\t\t\t]\"\n\t\t\tv-if=\"label != null || $slots['label'] != null\">\n\t\t\t<slot>{{label}}</slot>\n\t\t</text>\n\t\t<view class=\"l-textarea__wrapper\">\n\n\t\t\t<textarea \n\t\t\t\tclass=\"l-textarea__wrapper-inner\"\n\t\t\t\t:style=\"[innerStyle]\"\n\t\t\t\t:class=\"{'is-disabled': isDisabled}\"\n\t\t\t\t:maxlength=\"maxlength\"\n\t\t\t\t:disabled=\"isDisabled || isReadonly\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\tplaceholder-class=\"l-textarea__placeholder\"\n\t\t\t\t:placeholder-style=\"placeholderStyle\"\n\t\t\t\t:value=\"innerValue\"\n\t\t\t\t:auto-height=\"autosize\"\n\t\t\t\t:auto-focus=\"autofocus\"\n\t\t\t\t:fixed=\"fixed\"\n\t\t\t\t:focus=\"focus\"\n\t\t\t\t:cursor=\"cursor\"\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\n\t\t\t\t:adjust-position=\"adjustPosition\"\n\t\t\t\t:confirm-type=\"confirmType\"\n\t\t\t\t:confirm-hold=\"confirmHold\"\n\t\t\t\t:disable-default-padding=\"disableDefaultPadding\"\n\t\t\t\t:show-confirm-bar=\"showConfirmBar\"\n\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t:hold-keyboard=\"holdKeyboard\"\n\t\t\t\t@input=\"onInput\"\n\t\t\t\t@focus=\"onFocus\"\n\t\t\t\t@blur=\"onBlur\"\n\t\t\t\t@confirm=\"onConfirm\"\n\t\t\t\t@linechange=\"onLineChange\"\n\t\t\t\t@keyboardheightchange=\"onKeyboardHeightChange\">\n\t\t\t</textarea>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\n\t\t\t<text class=\"l-textarea__indicator\" :style=\"[indicatorStyle]\" v-if=\"indicator && ((maxcharacter ?? maxlength) > 0 )\">{{count}} / {{maxcharacter ?? maxlength}}</text>\n\t\t</view>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Textarea 多行输入框组件\n\t * @description 用于多行文本输入场景，支持自适应高度和多种键盘控制选项\n\t * <br>插件类型：LTextareaComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-textarea\n\t * \n\t * @property {boolean} adjustPosition 键盘弹起自动上推页面（默认：true）\n\t * @property {boolean} autofocus 自动聚焦（默认：false）\n\t * @property {boolean} autosize 自动调整高度（默认：false）\n\t * @property {boolean} bordered 显示外边框（默认：true）\n\t * @property {boolean} confirmHold 点击确认保持键盘不收起（默认：false）\n\t * @property {'return' | 'send' | 'search' | 'next' | 'go' | 'done'} confirmType 键盘确认按钮类型（默认：\"done\"）\n\t * @value return\n\t * @value send\n\t * @value search\n\t * @value next\n\t * @value go\n\t * @value done\n\t * @property {number} cursor 聚焦时初始光标位置\n\t * @property {number} cursorSpacing 键盘与输入框间距（单位px，默认：0）\n\t * @property {boolean} disableDefaultPadding 禁用iOS默认内边距（默认：false）\n\t * @property {boolean} disabled 禁用状态（默认：false）\n\t * @property {boolean} readonly 只读（默认：false）\n\t * @property {boolean} classic 经典边框（默认：false）\n\t * @property {boolean} fixed 在fixed定位区域使用（默认：false）\n\t * @property {boolean} defaultFixed 默认fixed模式（兼容旧版）\n\t * @property {boolean} focus 自动聚焦（默认：false）\n\t * @property {boolean} focused 是否显示获焦样式，用于结合自定义键盘使用时显示高亮效果\n\t * @property {boolean} holdKeyboard 点击页面不收起键盘（默认：false）\n\t * @property {boolean} indicator 显示字数统计（默认：false）\n\t * @property {string} label 左侧标签文本\n\t * @property {number} maxcharacter 最大字符长度（中文算2个）\n\t * @property {number} maxlength 最大输入长度（默认：-1不限制）\n\t * @property {string} placeholder 占位文字\n\t * @property {number} selectionEnd 光标结束位置（需搭配selectionStart）\n\t * @property {number} selectionStart 光标起始位置（需搭配selectionEnd）\n\t * @property {boolean} showConfirmBar 显示键盘完成栏（默认：true）\n\t * @property {string} value 输入值（支持v-model）\n\t * @property {'vertical' | 'horizontal'} layout 标签布局方式（默认：\"horizontal\"）\n\t * @value vertical\n\t * @value horizontal\n\t * @property {string} placeholderStyle 占位文字样式（仅支持color/font-size/font-weight）\n\t * @property {string} lStyle 自定义组件样式（CSS字符串）\n\t * @property {string} labelStyle 标签样式（CSS字符串）\n\t * @property {string} indicatorStyle 字数统计样式（CSS字符串）\n\t * @property {string} innerStyle 输入区域样式（CSS字符串）\n\t * @property {string} borderColor 边框颜色\n\t * @property {string} focusedBorderColor 聚焦时边框颜色\n\t * @event {Function} focus 聚焦时触发\n\t * @event {Function} blur 失焦时触发\n\t * @event {Function} confirm 点击完成按钮触发\n\t * @event {Function} linechange 行数变化时触发\n\t * @event {Function} change \n\t * @event {Function} keyboardheightchange \n\t */\n\n\n\timport { TextareaProps } from './type';\n\timport { characterLimit, type CharacterLengthResult } from '@/uni_modules/lime-shared/characterLimit';\n\t\n\n\timport { useDrawBorder, DrawBorderOptions } from '@/uni_modules/lime-style/hairline'\n\n\t\n\tconst emit = defineEmits(['change', 'focus', 'blur', 'confirm', 'linechange', 'keyboardheightchange'])\n\tconst props = withDefaults(defineProps<TextareaProps>(), {\n\t\tadjustPosition: true,\n\t\tautofocus: false,\n\t\tautosize: false,\n\t\tbordered: true,\n\t\tconfirmHold: false,\n\t\tconfirmType: 'return',\n\t\tcursor: -1,\n\t\tcursorSpacing: 0,\n\t\tdisableDefaultPadding: false,\n\t\tdisabled: false,\n\t\tfixed: false,\n\t\tdefaultFixed: false,\n\t\tfocus: false,\n\t\tholdKeyboard: false,\n\t\tindicator: false,\n\t\tmaxlength: -1,\n\t\tplaceholder: '',\n\t\tplaceholderStyle: '',\n\t\tselectionEnd:-1,\n\t\tselectionStart:-1,\n\t\tshowConfirmBar: true,\n\t\tlayout: 'horizontal',\n\t\tclassic: false,\n\t\treadonly: false,\n\t\tfocused: false\n\t})\n\t\n\tconst formItemBlur = inject<(() => void)|null>('formItemBlur', null);\n\tconst formDisabled = inject<Ref<boolean|null>|null>('formDisabled', null)\n\tconst formReadonly = inject<Ref<boolean|null>|null>('formReadonly', null)\n\t\n\tconst count = ref(0);\n\tconst innerFocused = ref(props.focus || props.focused);\n\t\n\tconst calculateValue = (value: string):CharacterLengthResult => {\n\t\tconst { maxlength, maxcharacter } = props;\n\t\tif(maxcharacter != null && maxcharacter > 0) {\n\t\t\treturn characterLimit('maxcharacter', value, maxcharacter)\n\t\t} else if(maxlength > 0) {\n\t\t\treturn characterLimit('maxlength', value, maxlength)\n\t\t}\n\t\treturn {\n\t\t\tcharacters: value,\n\t\t\tlength: value.length\n\t\t} as CharacterLengthResult\n\t}\n\tlet _innerValue = ''\n\tconst modelValue = defineModel({type: String, default: ''})\n\tconst innerValue = computed({\n\t\tset(v: string) {\n\t\t\t_innerValue = v;\n\t\t\tmodelValue.value = v;\n\t\t\temit('change', v)\n\t\t},\n\t\tget():string {\n\t\t\tconst _value = props.value ?? modelValue.value\n\t\t\tif(_innerValue != _value) {\n\t\t\t\tconst {characters, length} = calculateValue(props.value ?? modelValue.value);\n\t\t\t\tcount.value = length;\n\t\t\t\treturn characters\n\t\t\t}\n\t\t\treturn _value\n\t\t},\n\t} as WritableComputedOptions<string>)\n\t\n\tconst isReadonly= computed(():boolean=>{\n\t\tif (props.readonly) return props.readonly;\n\t\treturn formReadonly?.value ?? false;\n\t})\n\tconst isDisabled= computed(():boolean=>{\n\t\tif (props.disabled) return props.disabled;\n\t\treturn formDisabled?.value ?? false;\n\t})\n\t\n\t\n\tconst styles = computed(():Map<string, string>=> {\n\t\tconst style = new Map<string, string>()\n\n\n\n\n\n\n\n\n\t\treturn style\n\t})\n\t\n\tconst onInput = (event: UniInputEvent) => {\n\t\tlet { value, cursor } = event.detail;\n\t\tconst {characters, length} = calculateValue(value);\n\t\tcount.value = length;\n\t\tinnerValue.value = characters;\n\t}\n\tconst onFocus = (event: UniTextareaFocusEvent) => {\n\t\tinnerFocused.value = true;\n\t\temit('focus', event)\n\t}\n\tconst onBlur = (event: UniTextareaBlurEvent) => {\n\t\tinnerFocused.value = false;\n\t\temit('blur', event)\n\t\tformItemBlur?.()\n\t}\n\tconst onConfirm = (event: UniInputConfirmEvent) => {\n\t\temit('confirm', event)\n\t}\n\tconst onLineChange = (event: UniTextareaLineChangeEvent) => {\n\t\temit('linechange', event)\n\t}\n\tconst onKeyboardHeightChange = (event: UniInputKeyboardHeightChangeEvent) => {\n\t\temit('keyboardheightchange', event)\n\t}\n\t\n\twatchEffect(()=> {\n\t\tinnerFocused.value = props.focus || props.focused;\n\t})\n\t\n\t\n\n\tconst textareaRef = ref<UniElement|null>(null);\n\tconst { clearBorder, color, renderBorder } = useDrawBorder(textareaRef, \n\t\t{  \n\t\t\tdirection: 'bottom',\n\t\t\twatchSize: true,\n\t\t\tstartOffset: 16,\n\t\t\timmediate: false,\n\t\t\tcolor: props.borderColor \n\t\t} as DrawBorderOptions)\n\t\t\n\tonMounted(()=>{\n\t\twatchEffect(()=>{\n\t\t\t\n\t\t\tif(!props.classic) {\n\t\t\t\tif(props.borderColor != null && !innerFocused.value) {\n\t\t\t\t\ttextareaRef.value?.style.setProperty('border-color', props.borderColor)\n\t\t\t\t}\n\t\t\t\tif(props.focusedBorderColor != null && innerFocused.value) {\n\t\t\t\t\ttextareaRef.value?.style.setProperty('border-color', props.focusedBorderColor)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(!props.bordered || props.classic) {\n\t\t\t\tclearBorder()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(props.borderColor != null && !innerFocused.value) {\n\t\t\t\tcolor.value = props.borderColor!\n\t\t\t}\n\t\t\trenderBorder()\n\t\t})\n\t})\n\n\t\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","// @ts-nocheck\r\nimport { UploadFile, ChooseFileOptions, Oversize } from './type'\r\n// import { chooseFile, ChooseFileOption, ChooseFileSuccessCallbackResult } from '@/uni_modules/lime-choose-file'\r\n/**\r\n * 由于小程序暂时在ios上不支持返回上传文件的fileType，这里用文件的后缀来判断\r\n * @param mediaType\r\n * @param tempFilePath\r\n * @returns string\r\n * @link https://developers.weixin.qq.com/community/develop/doc/00042820b28ee8fb41fc4d0c254c00\r\n */\r\nexport function getFileType(tempFilePath : string, fileType ?: string) : string {\r\n\tif (fileType != null) return fileType.replace(/\\/.+/,''); // 如果有返回fileType就直接用\r\n\t\r\n\t// 否则根据文件后缀进行判读\r\n\tconst videoType = ['avi', 'wmv', 'mkv', 'mp4', 'mov', 'rm', '3gp', 'flv', 'mpg', 'rmvb'];\r\n\tconst temp = tempFilePath.split('.');\r\n\tconst postfix = temp[temp.length - 1];\r\n\tif (videoType.includes(postfix.toLocaleLowerCase())) {\r\n\t\treturn 'video';\r\n\t}\r\n\treturn 'image';\r\n}\r\n\r\n// 选中文件之后，计算一个随机的短文件名\r\n// export function getRandFileName(filePath: string):string {\r\n// \tconst extIndex = filePath.lastIndexOf('.');\r\n// \tconst extName = extIndex === -1 ? '' : filePath.substr(extIndex);\r\n// \treturn parseInt(`${Date.now()}${Math.floor(Math.random() * 900 + 100)}`, 10).toString(36) + extName;\r\n// }\r\nexport function getFileName(filePath: string): string {\r\n\treturn filePath.substring(filePath.lastIndexOf('/') + 1)\r\n}\r\n\r\nexport const isOverSize = (size:number, sizeLimit:number|null):boolean => {\n  if (sizeLimit == null) return false;\n\n  const base = 1000;\n  // const unitMap = {\n  //   B: 1,\n  //   KB: base,\n  //   MB: base * base,\n  //   GB: base * base * base,\n  // };\n  const computedSize =  sizeLimit * base \r\n  // const computedSize = typeof sizeLimit == 'number' ? sizeLimit * base : sizeLimit?.size * unitMap[sizeLimit?.unit ?? 'KB']; // 单位 KB\n\n  return size > computedSize;\n};\r\n\r\n\r\n\r\nexport function chooseImage(opts : ChooseFileOptions) {\r\n\t// #ifdef MP-WEIXIN\r\n\tuni.chooseMedia({\r\n\t\t...opts,\r\n\t\tmediaType: ['image'],\r\n\t})\r\n\t// #endif\r\n\t// #ifndef MP-WEIXIN\r\n\tuni.chooseImage({\r\n\t\tcount: opts.count,\r\n\t\tsizeType: opts.sizeType,\r\n\t\tsourceType: opts.sourceType,\r\n\t\textension: opts.extension,\r\n\t\tsuccess(res){\r\n\t\t\topts.success?.(res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\topts.fail?.(err)\r\n\t\t}\r\n\t})\r\n\t// #endif\r\n}\r\n\r\nexport function chooseVideo(opts : ChooseFileOptions) {\r\n\t// #ifdef MP-WEIXIN\r\n\tuni.chooseMedia({\r\n\t\t...opts,\r\n\t\tmediaType: ['video'],\r\n\t\tmaxDuration: opts.maxDuration ?? 10,\r\n\t})\r\n\t// #endif\r\n\t// #ifndef MP-WEIXIN\r\n\tuni.chooseVideo({\r\n\t\tsourceType: opts.sourceType,\r\n\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t// compressed: opts.compressed ?? true,\r\n\t\tmaxDuration: opts.maxDuration ?? 10,\r\n\t\tcamera: opts.camera ?? 'back',\r\n\t\t// extension: opts.extension,\r\n\t\t// #endif\r\n\t\tsuccess(res){\r\n\t\t\topts.success?.(res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\topts.fail?.(err)\r\n\t\t}\r\n\t})\r\n\t// #endif\r\n}\r\n\r\nexport function chooseMedia(opts : ChooseFileOptions) {\r\n\t// #ifdef APP-ANDROID || APP-IOS\r\n\t// #ifdef uniVersion >= 4.51\r\n\tuni.chooseMedia({\r\n\t\tcount: opts.count,\r\n\t\tmediaType: ['image', 'video'],\r\n\t\tsourceType: opts.sourceType,\r\n\t\tmaxDuration: opts.maxDuration ?? 10,\r\n\t\tcamera: opts.camera ?? 'back',\r\n\t\tsuccess(res) {\r\n\t\t\topts.success?.(res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\topts.fail?.(err)\r\n\t\t}\r\n\t} as ChooseMediaOptions)\r\n\t// #endif\r\n\t// #ifdef uniVersion < 4.51\r\n\tconsole.warn(\"【lime-upload】chooseMedia 当前环境不支持\")\r\n\t// #endif\r\n\t// #endif\r\n\t\r\n\t// #ifndef APP-ANDROID || APP-IOS\r\n\ttry {\r\n\t\tuni.chooseMedia({\r\n\t\t\t...opts,\r\n\t\t\tmediaType: ['image', 'video'],\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.error('error', error)\r\n\t\tuni.chooseImage(opts)\r\n\t\t//TODO handle the exception\r\n\t}\r\n\t\r\n\t// #endif\r\n}\r\n\r\nexport function chooseAll(opts : ChooseFileOptions) {\r\n\t// #ifdef MP-WEIXIN\r\n\tuni.chooseMessageFile({\r\n\t\t...opts,\r\n\t\ttype: 'all',\r\n\t})\r\n\t// #endif\r\n\t// #ifndef MP-WEIXIN || APP-IOS || APP-ANDROID\r\n\tuni.chooseFile({\r\n\t\tcount: opts.count,\r\n\t\ttype: 'all',\r\n\t\tsuccess(res) {\r\n\t\t\topts.success?.(res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\topts.fail?.(err)\r\n\t\t}\r\n\t} as ChooseFileOption)\r\n\t// #endif\r\n\t\r\n\t// #ifdef APP-ANDROID && uniVersion >= 4.51\r\n\tuni.chooseFile({\r\n\t\tcount: opts.count,\r\n\t\ttype: 'all',\r\n\t\tsuccess(res) {\r\n\t\t\topts.success?.(res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\topts.fail?.(err)\r\n\t\t}\r\n\t})\r\n\t// #endif\r\n\t// #ifdef APP-IOS || APP-ANDROID && uniVersion < 4.51\r\n\tconsole.warn(\"【lime-upload】chooseAll 当前环境不支持\")\r\n\t// #endif\r\n}\r\n\r\n\r\nfunction normalizeChooseFiles(\r\n\ttype: string, \r\n\ttempFiles: UTSJSONObject[], //ChooseImageTempFile\r\n\ttempFilePaths:string[], \r\n\tsizeLimit:number|null,\r\n\toversize: Oversize | null\r\n\t):UploadFile[]{\r\n\tconst files : UploadFile[] = [];\r\n\r\n\ttempFiles.forEach((temp, index) =>{\r\n\t\tconst tempFilePath = (temp['tempFilePath'] as string | null) ?? tempFilePaths[index]\r\n\t\tconst name = (temp['name'] as string | null) ?? getFileName(tempFilePath);\r\n\t\tconst size = (temp['size'] as number | null) ?? 0;\r\n\t\tconst width = (temp['width'] as number | null);\r\n\t\tconst height = (temp['height'] as number | null)\r\n\t\tconst duration = (temp['duration'] as number | null);\r\n\t\tconst path = (temp['path'] as string | null) ?? tempFilePath;\r\n\t\tconst thumb = (temp['thumbTempFilePath'] as string | null);\r\n\t\tconst _type = (type == 'all' ? getFileType(tempFilePath, temp['type'] as string | null) : type) as \"video\" | \"image\"; \r\n\t\t\r\n\t\t\r\n\t\tif (isOverSize(size, sizeLimit)) {\r\n\t\t\toversize?.(temp)\r\n\t\t\treturn\r\n\t\t};\r\n\t\t\r\n\t\tfiles.push({\r\n\t\t\tname,\r\n\t\t\ttype: _type,\r\n\t\t\turl: path,\r\n\t\t\tpath,\r\n\t\t\tsize,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tduration,\r\n\t\t\tthumb,\r\n\t\t\tpercent: 0,\r\n\t\t\t// status: 'done'\r\n\t\t} as UploadFile)\r\n\t})\r\n\treturn files\r\n}\r\n\r\nexport function chooseFiles(opts: ChooseFileOptions):Promise<UploadFile[]> {\r\n\treturn new Promise((resolve, reject)=>{\r\n\t\tif(opts.mediaType == 'image') {\r\n\t\t\tchooseImage({\r\n\t\t\t\tcount: opts.count,\r\n\t\t\t\tmediaType: opts.mediaType,\r\n\t\t\t\tsizeType: opts.sizeType,\r\n\t\t\t\tsourceType: opts.sourceType,\r\n\t\t\t\tsuccess(result: any){\r\n\t\t\t\t\tconst res = result as ChooseImageSuccess\r\n\t\t\t\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFiles = res.tempFiles as UTSJSONObject[]\r\n\t\t\t\t\tconst tempFilePaths = (res.tempFilePaths ?? []) as string[]\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFilePaths = res.tempFilePaths\r\n\t\t\t\t\tconst tempFiles = res.tempFiles.map((item):UTSJSONObject => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tname: item.name, \r\n\t\t\t\t\t\t\tpath: item.path, \r\n\t\t\t\t\t\t\tsize: item.size, \r\n\t\t\t\t\t\t\ttype: item.type\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tconst files = normalizeChooseFiles('image', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\tresolve(files)\r\n\t\t\t\t}\r\n\t\t\t} as ChooseFileOptions)\r\n\t\t} else if(opts.mediaType == 'video') {\r\n\t\t\tchooseVideo({\r\n\t\t\t\tcount: opts.count,\r\n\t\t\t\tmediaType: opts.mediaType,\r\n\t\t\t\tsourceType: opts.sourceType,\r\n\t\t\t\tsizeType: opts.sizeType,\r\n\t\t\t\tmaxDuration: opts.maxDuration,\r\n\t\t\t\tsuccess(result) {\r\n\t\t\t\t\tconst res = result as ChooseVideoSuccess \r\n\t\t\t\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFilePaths = res.tempFilePaths ?? [res.tempFilePath] as string[]\r\n\t\t\t\t\tconst tempFiles = res.tempFiles ?? [res.tempFile] as UTSJSONObject[]\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFilePaths = [res.tempFilePath] as string[]\r\n\t\t\t\t\tconst {tempFilePath, duration, size, height, width} = res\r\n\t\t\t\t\tconst tempFiles = [{path: tempFilePath, duration, duration, size, height, width}] as UTSJSONObject[]\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tconst files = normalizeChooseFiles('video', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\t\r\n\t\t\t\t\tresolve(files)\r\n\t\t\t\t}\r\n\t\t\t} as ChooseFileOptions)\r\n\t\t} else if(opts.mediaType == 'media') {\r\n\t\t\tchooseMedia({\r\n\t\t\t\tcount: opts.count,\r\n\t\t\t\tmediaType: 'media',\r\n\t\t\t\tsourceType: opts.sourceType,\r\n\t\t\t\tmaxDuration: opts.maxDuration ?? 10,\r\n\t\t\t\tcamera: opts.camera ?? 'back',\r\n\t\t\t\tsizeType: opts.sizeType,\r\n\t\t\t\tsuccess(result: any) {\r\n\t\t\t\t\t// #ifndef UNI-APP-X && APP && uniVersion < 4.51\r\n\t\t\t\t\tconst res = result as  ChooseMediaSuccess\r\n\t\t\t\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFilePaths = res.tempFilePaths ? res.tempFilePaths : res.tempFiles.map((it):string => it.tempFilePath)\r\n\t\t\t\t\tconst tempFiles = res.tempFiles//.map((it):UTSJSONObject => ({path: it.tempFilePath, size: it.size, type: it.fileType}));\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst tempFilePaths = res.tempFiles.map((it):string => it.tempFilePath)\r\n\t\t\t\t\tconst tempFiles = res.tempFiles.map((it):UTSJSONObject => ({path: it.tempFilePath, size: it.size, type: it.fileType}));\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst files = normalizeChooseFiles('all', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\tresolve(files)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef UNI-APP-X && APP && uniVersion < 4.51\r\n\t\t\t\t\treject(\"【lime-upload】chooseMedia 当前环境不支持\")\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} as ChooseFileOptions)\r\n\t\t} else {\r\n\t\t\tchooseAll({\r\n\t\t\t\tcount: opts.count,\r\n\t\t\t\tmediaType: opts.mediaType,\r\n\t\t\t\tsourceType: opts.sourceType,\r\n\t\t\t\tsizeType: opts.sizeType,\r\n\t\t\t\tsuccess(result: any){\r\n\t\t\t\t\t// #ifndef APP-ANDROID || APP-IOS\r\n\t\t\t\t\tconst res = result as ChooseFileSuccessCallbackResult\r\n\t\t\t\t\tconst tempFilePaths = res.tempFiles\r\n\t\t\t\t\tconst tempFiles = res.tempFiles\r\n\t\t\t\t\tconst files = normalizeChooseFiles('all', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\tresolve(files)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t// #ifdef APP-ANDROID && uniVersion >= 4.51\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst res = result as ChooseFileSuccess\r\n\t\t\t\t\tconst tempFilePaths = res.tempFilePaths//.map((it):string => it.tempFilePath)\r\n\t\t\t\t\tconst tempFiles = res.tempFiles.map((it):UTSJSONObject => ({path: it.path, size: it.size, type: it.type, name: it.name}));\r\n\t\t\t\t\tconst files = normalizeChooseFiles('all', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\tresolve(files)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-IOS || APP-ANDROID && uniVersion < 4.51\r\n\t\t\t\t\treject(\"【lime-upload】chooseAll 当前环境不支持\")\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t// #ifdef uniVersion < 4.51\r\n\t\t\t\t\t\r\n\t\t\t\t\t// const tempFilePaths = res.tempFiles.map((it):string => it.path)\r\n\t\t\t\t\t// const tempFiles = res.tempFiles.map((it):UTSJSONObject => ({name: it.name, path: it.path, size: it.size, type: it.type}));\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef uniVersion >= 4.51\r\n\t\t\t\t\t// #ifdef APP-ANDROID || APP-IOS\r\n\t\t\t\t\t\r\n\t\t\t\t\t// const res = result as  ChooseMediaSuccess // ChooseFileSuccess\r\n\t\t\t\t\t// const tempFilePaths = res.tempFiles.map((it):string => it.tempFilePath)\r\n\t\t\t\t\t// const tempFiles = res.tempFiles.map((it):UTSJSONObject => ({path: it.tempFilePath, size: it.size}));\r\n\t\t\t\t\t// const files = normalizeChooseFiles('all', tempFiles, tempFilePaths, opts.sizeLimit, opts.oversize)\r\n\t\t\t\t\t// resolve(files)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t} as ChooseFileOptions)\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n}","<template>\r\n\t<view class=\"l-upload\" ref=\"uploadRef\" :style=\"styles\">\r\n\t\t<view class=\"l-upload__item\" v-for=\"(file, index) in customFiles\" :style=\"[itemStyle]\" :key=\"file.url\">\r\n\r\n\r\n\r\n\t\t\t\t<slot name=\"file\" :file=\"file\" :index=\"index\">\r\n\t\t\t\t\t<image class=\"l-upload__image\" v-if=\"file.type == 'image'\" :src=\"file.url\" :data-file=\"file\"\r\n\t\t\t\t\t\t:mode=\"imageFit\" @click=\"onProofTap(index)\" />\r\n\t\t\t\t\t<video class=\"l-upload__image\" v-if=\"file.type == 'video'\" :src=\"file.url\" :data-file=\"file\"\r\n\t\t\t\t\t\t:autoplay=\"false\" objectFit=\"contain\" @click=\"onFileClick(index)\" />\r\n\t\t\t\t\t<view class=\"l-upload__progress-mask\" v-if=\"file.status != null && file.status != 'done'\"\r\n\t\t\t\t\t\t:data-file=\"file\" @click=\"onFileClick(index)\">\r\n\t\t\t\t\t\t<template v-if=\"file.status == 'loading'\">\r\n\t\t\t\t\t\t\t<l-loading class=\"l-upload__progress-loading\" size=\"24px\" color=\"white\" />\r\n\t\t\t\t\t\t\t<text class=\"l-upload__progress-text\" v-if=\"file.percent != null\">{{file.percent}}%</text>\r\n\t\t\t\t\t\t\t<text class=\"l-upload__progress-text\" v-else>{{loadingText}}</text>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<l-icon v-else class=\"l-upload__progress-icon\"\r\n\t\t\t\t\t\t\t:name=\"file.status == 'reload' ? 'refresh' : 'close-circle'\" size=\"48rpx\" aria-hidden />\r\n\t\t\t\t\t\t<text v-if=\"file.status == 'reload' || file.status == 'failed'\" class=\"l-upload__progress-text\">\r\n\t\t\t\t\t\t\t{{file.status == 'reload' ? reloadText : failedText}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"!isReadonly\" class=\"l-upload__delete-btn\" aria-role=\"button\" aria-label=\"删除\" :data-index=\"index\"\r\n\t\t\t\t\t\t@click=\"onDelete(index)\">\r\n\t\t\t\t\t\t<l-icon name=\"close\" size=\"16px\" color=\"#fff\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</slot>\r\n\r\n\r\n\r\n\t\t</view>\r\n\r\n\t\t<view class=\"l-upload__item l-upload__item--add\" :class=\"{'l-upload__item--disabled':isDisabled}\"\r\n\t\t\tv-if=\"!isReadonly\"\r\n\t\t\tv-show=\"!multiple ? customFiles.length == 0 : max == 0 || customFiles.length != max\"\r\n\t\t\t:style=\"[itemStyle,  addBgColor!=null ? {background: addBgColor}: '']\" aria-label=\"上传\" @click=\"onAddTap\">\r\n\t\t\t<slot>\r\n\t\t\t\t<l-icon class=\"l-upload__add-icon\" :size=\"uploadIconSize\" :name=\"uploadIcon\" />\r\n\t\t\t</slot>\r\n\t\t</view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Upload 文件上传组件\r\n\t * @description 用于图片、视频等文件的上传，支持预览、删除、重传等功能\r\n\t * <br>插件类型：LUploadComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-upload\r\n\t * \r\n\t * @property {string} name 表单字段名\r\n\t * @property {UTSJSONObject[]} modelValue 已上传文件列表（支持v-model）\r\n\t * @property {boolean} disabled 是否禁用（默认：false）\r\n\t * @property {boolean} readonly 只读（默认：false）\r\n\t * @property {boolean} multiple 是否支持多选（默认：false）\r\n\t * @property {'scaleToFill'|'aspectFit'|'aspectFill'|'widthFix'|'heightFix'|'top'|'bottom'|'center'|'left'|'right'|'top left'|'top right'|'bottom left'|'bottom right'} imageFit 图片裁剪模式（默认：\"aspectFill\"）\r\n\t * @value scaleToFill\r\n\t * @value aspectFit\r\n\t * @value aspectFill\r\n\t * @value widthFix\r\n\t * @value heightFix\r\n\t * @value top\r\n\t * @value bottom\r\n\t * @value 'top left'\r\n\t * @value 'top right'\r\n\t * @value 'bottom left'\r\n\t * @value \"bottom right\"\r\n\t * @property {string} gutter 项目间距（支持CSS单位）\r\n\t * @property {number} column 每行显示数量（默认：4）\r\n\t * @property {number} max 最大上传数量（默认：9）\r\n\t * @property {number} sizeLimit 文件大小限制（单位KB）\r\n\t * @property {string} uploadIcon 上传按钮图标\r\n\t * @property {string} uploadIconSize 上传按钮图标尺寸\r\n\t * @property {string} gridWidth 项目宽度（支持CSS单位）\r\n\t * @property {string} gridHeight 项目高度（支持CSS单位）\r\n\t * @property {string} gridBgColor 项目背景色\r\n\t * @property {string} addBgColor 添加按钮背景色\r\n\t * @property {string} gridBorderRadius 项目圆角\r\n\t * @property {UTSJSONObject[]} defaultFiles 默认文件列表\r\n\t * @property {string} loadingText 上传中提示文字\r\n\t * @property {string} reloadText 重传提示文字\r\n\t * @property {string} failedText 失败提示文字\r\n\t * @property {boolean} disablePreview 禁用预览（默认：false）\r\n\t * @property {boolean} autoUpload 自动上传（默认：true）\r\n\t * @property {'image' | 'video' | 'all' | 'media'} mediaType 上传文件类型（默认：\"image\"）\r\n\t * @value image\r\n\t * @value video\r\n\t * @value media\r\n\t * @value all\r\n\t * @property {number} maxDuration 视频最大时长（秒）\r\n\t * @property {string[]} sizeType 文件尺寸类型（默认：[\"original\", \"compressed\"]）\r\n\t * @property {string[]} sourceType 文件来源（默认：[\"album\", \"camera\"]）\r\n\t * @property {string} action 上传地址（uniCloud服务请设置为\"uniCloud\"）\r\n\t * @property {UTSJSONObject} headers 请求头部\r\n\t * @property {UTSJSONObject} formData 额外表单数据\r\n\t * @property {string} mode 显示模式（默认：\"grid\"）\r\n\t * @event {Function} add 点击增加时触发\r\n\t * @event {Function} success 上传成功时触发\r\n\t * @event {Function} fail 上传失败时触发\r\n\t * @event {Function} remove 点击删除时触发\r\n\t * @event {Function} click 点击时触发\r\n\t */\r\n\r\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\r\n\timport { chooseFiles } from './utils'\r\n\timport { UploadProps, UploadFile, ChooseFileOptions } from './type';\r\n\r\n\tdefineSlots<{\r\n\t\tfile(props : { file : UploadFile, index : number }) : any,\r\n\t}>()\r\n\r\n\tconst formDisabled = inject<Ref<boolean | null> | null>('formDisabled', null)\r\n\tconst formReadonly = inject<Ref<boolean | null> | null>('formReadonly', null)\r\n\r\n\tconst emits = defineEmits(['fail', 'remove', 'success', 'click', 'add', 'update:modelValue'])\r\n\tconst props = withDefaults(defineProps<UploadProps>(), {\r\n\t\timageFit: 'aspectFill',\r\n\t\tdisablePreview: false,\r\n\t\tautoUpload: false,\r\n\t\tmultiple: true,\r\n\t\tmax: 0,\r\n\t\tdisabled: false,\r\n\t\treadonly: false,\r\n\t\tmediaType: 'image',\r\n\t\tsizeType: ['original', 'compressed'],\r\n\t\tsourceType: ['album', 'camera'],\r\n\t\tuploadIcon: 'camera',\r\n\t\tloadingText: '上传中...',\r\n\t\treloadText: '重新上传',\r\n\t\tfailedText: '上传失败',\r\n\t\tmode: 'grid'\r\n\t})\r\n\r\n\tconst isReadonly = computed(() : boolean => {\r\n\t\tuni.__log__('log','at uni_modules/lime-upload/components/l-upload/l-upload.uvue:150','isReadonly', props.readonly)\r\n\t\tif (props.readonly) return props.readonly;\r\n\t\treturn formReadonly?.value ?? false;\r\n\t})\r\n\tconst isDisabled = computed(() : boolean => {\r\n\t\tif (props.disabled) return props.disabled;\r\n\t\treturn formDisabled?.value ?? false;\r\n\t})\r\n\r\n\tconst transformFiles = (it : any) : UploadFile => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tconst file = UTSJSONObject.assign({}, it as UTSJSONObject) //it as UTSJSONObject\r\n\r\n\t\treturn {\r\n\t\t\turl: file.getString('url') ?? '',\r\n\t\t\tpath: file.getString('path'),\r\n\t\t\tname: file.getString('name'),\r\n\t\t\tthumb: file.getString('thumb'),\r\n\t\t\tsize: file.getNumber('size'),\r\n\t\t\ttype: file.getString('type'),\r\n\t\t\tpercent: file.getNumber('percent'),\r\n\t\t\tstatus: file.getString('status') ?? 'done',\r\n\t\t} as UploadFile\r\n\t}\r\n\tconst customFiles = ref<UploadFile[]>((props.modelValue ?? props.defaultFiles)?.map(transformFiles) ?? []);\r\n\r\n\tconst listWidth = ref(0);\r\n\tconst uploadRef = ref<UniElement | null>(null);\r\n\tconst styles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\t\tconst gutter = unitConvert(props.gutter ?? 8) / 2 * -1\r\n\t\tstyle.set('margin-left', `${gutter}px`)\r\n\t\tstyle.set('margin-right', `${gutter}px`)\r\n\t\tstyle.set('margin-top', `${gutter}px`)\r\n\t\treturn style\r\n\t})\r\n\tconst itemStyle = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\r\n\t\t// const gridWidth = unitConvert(props.gridWidth ?? 80)\r\n\t\tconst gutter = unitConvert(props.gutter ?? 8) / 2\r\n\t\tlet column = props.column ?? 4;\r\n\r\n\t\tif (props.gridWidth != null || props.column != null) {\r\n\r\n\t\t\tconst width = listWidth.value / column - gutter * 2.0275;// ios 计算精度导致不均分\r\n\t\t\tstyle.set('width', props.gridWidth ?? `${width}px`)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\t\tif (props.gridHeight != null) {\r\n\t\t\tstyle.set('height', props.gridHeight!)\r\n\t\t}\r\n\t\tstyle.set('margin', `${gutter}px`)\r\n\t\tif (props.gridBgColor != null) {\r\n\t\t\tstyle.set('background', props.gridBgColor!)\r\n\t\t}\r\n\r\n\t\treturn style\r\n\t})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tconst onFileClick = (index : number) => {\r\n\t\tconst file = customFiles.value[index]\r\n\t\temits('click', { file })\r\n\t}\r\n\tconst onProofTap = (index : number) => {\r\n\t\tonFileClick(index);\r\n\t\tif (props.disablePreview) return\r\n\t\tuni.previewImage({\r\n\t\t\turls: customFiles.value.filter((file) : boolean => file.percent != -1).map((file) : string => file.url),\r\n\t\t\tcurrent: index\r\n\t\t});\r\n\t}\r\n\tconst onDelete = (index : number) => {\r\n\t\tif (isDisabled.value || isReadonly.value) return;\r\n\t\tconst delFile = customFiles.value[index]\r\n\t\tcustomFiles.value = customFiles.value.filter((file, i) : boolean => index != i)\r\n\t\temits('remove', { index, file: delFile })\r\n\t}\r\n\r\n\tlet last : number// = 0\r\n\tconst upload = (files : UploadFile[]) => {\r\n\t\tif (!props.autoUpload || props.action == null || props.action!.length < 5) return\r\n\t\tif (props.action == 'uniCloud') {\r\n\t\t\tlet uploadImgs : Promise<UniCloudUploadFileResult>[] = [];\r\n\t\t\tfiles.forEach((file, index) => {\r\n\t\t\t\t// props.beforeRead(file).then((res)=>{})\r\n\r\n\t\t\t\tconst promise = new Promise<UniCloudUploadFileResult>((resolve, reject) => {\r\n\t\t\t\t\tconst dotIndex = file.name!.lastIndexOf('.'); // 找到最后一个点的位置\r\n\t\t\t\t\tconst baseName = file.name!.substring(0, dotIndex);\r\n\t\t\t\t\tconst extension = file.name!.substring(dotIndex);\r\n\t\t\t\t\tconst timestamp = Date.now();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tuniCloud.uploadFile({\r\n\t\t\t\t\t\tfilePath: file.url,\r\n\t\t\t\t\t\tcloudPath: `${baseName}_${timestamp}${extension}`,\r\n\t\t\t\t\t\t// cloudPath: file.name!.substring(file.name!.lastIndexOf('.')),\r\n\t\t\t\t\t\tonUploadProgress: (res) => {\r\n\t\t\t\t\t\t\tfile.status = 'loading'\r\n\t\t\t\t\t\t\tfile.percent = Math.floor(res.loaded / res.total * 100)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tfile.path = res.fileID;\r\n\t\t\t\t\t\tfile.status = 'done'\r\n\t\t\t\t\t\t// 获取临时URL\r\n\t\t\t\t\t\tuniCloud.getTempFileURL({\r\n\t\t\t\t\t\t\tfileList: [res.fileID]\r\n\t\t\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\t\tif (result.fileList.length > 0) {\r\n\t\t\t\t\t\t\t\tfile.url = result.fileList[0].tempFileURL;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\tuni.__log__('error','at uni_modules/lime-upload/components/l-upload/l-upload.uvue:296','获取临时URL失败', error);\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// resolve(res)\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tfile.status = 'failed'\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tuploadImgs.push(promise as Promise<UniCloudUploadFileResult>)\r\n\t\t\t})\r\n\r\n\t\t\tPromise.all(uploadImgs).then(res => {\r\n\t\t\t\temits('success', res)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\temits('fail', err)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlet uploadImgs : Promise<UploadFileSuccess>[] = [];\r\n\t\t\tfiles.forEach((file, index) => {\r\n\t\t\t\tconst promise = new Promise<UploadFileSuccess>((resolve, reject) => {\r\n\t\t\t\t\tconst task = uni.uploadFile({\r\n\t\t\t\t\t\turl: props.action!,\r\n\t\t\t\t\t\tfilePath: file.url,\r\n\t\t\t\t\t\tname: file.name,\r\n\t\t\t\t\t\tformData: props.formData,\r\n\t\t\t\t\t\theader: props.headers,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tfile.status = 'done'\r\n\t\t\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\t\t\tif (typeof res.data == 'string') {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tconst data = JSON.parse<UTSJSONObject>(res.data);\r\n\t\t\t\t\t\t\t\t\t\tconst url = data?.getString('url');\r\n\t\t\t\t\t\t\t\t\t\tif (url != null) {\r\n\t\t\t\t\t\t\t\t\t\t\tfile.path = url\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tfile.status = 'failed'\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttask.onProgressUpdate((res) => {\r\n\t\t\t\t\t\tfile.status = 'loading'\r\n\t\t\t\t\t\tfile.percent = res.progress\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\tuploadImgs.push(promise as Promise<UploadFileSuccess>)\r\n\t\t\t})\r\n\t\t\tPromise.all(uploadImgs).then(res => {\r\n\t\t\t\temits('success', res)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\temits('fail', err)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst customLimit = computed(() : number => props.max == 0 ? 20 : props.max - customFiles.value.length)\r\n\tconst onAddTap = () => {\r\n\t\tif (isDisabled.value || isReadonly.value) return;\r\n\t\tchooseFiles({\r\n\t\t\tmediaType: props.mediaType,\r\n\t\t\tcount: customLimit.value,\r\n\t\t\tsourceType: props.sourceType,\r\n\t\t\tsizeType: props.sizeType,\r\n\t\t\tsizeLimit: props.sizeLimit\r\n\t\t} as ChooseFileOptions).then((files) => {\r\n\t\t\tlast = customFiles.value.length\r\n\t\t\tcustomFiles.value = customFiles.value.concat(files)\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst _files = customFiles.value.filter((it, i) : boolean => i > last - 1)\r\n\t\t\tupload(_files)\r\n\t\t\temits('add', _files)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\r\n\tconst stop = watch(customFiles, (v : UploadFile[]) => {\r\n\t\temits('update:modelValue', v)\r\n\t})\r\n\r\n\tconst stopValue = watch(() : (UTSJSONObject[] | null) => props.modelValue, (v : UTSJSONObject[] | null) => {\r\n\t\tif (v != null && v.length != customFiles.value.length) {\r\n\t\t\tcustomFiles.value = v.map(transformFiles)\r\n\t\t}\r\n\t})\r\n\r\n\tdefineExpose({\r\n\t\tremove: onDelete\r\n\t})\r\n\r\n\r\n\tconst resizeObserver = new UniResizeObserver((entries : Array<UniResizeObserverEntry>) => {\r\n\t\tlistWidth.value = entries[0].target.getBoundingClientRect().width\r\n\t})\r\n\r\n\tonMounted(() => {\r\n\t\tnextTick(() => {\r\n\t\t\tlistWidth.value = uploadRef.value?.getBoundingClientRect().width ?? 0;\r\n\t\t\tresizeObserver.observe(uploadRef.value!)\r\n\t\t})\r\n\t})\r\n\r\n\r\n\tonUnmounted(() => {\r\n\t\tstop()\r\n\r\n\t\tresizeObserver.disconnect()\r\n\r\n\t})\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","<template>\r\n\t<picker-view \r\n\t\tclass=\"l-picker-item__group\"\r\n\t\t:style=\"{opacity: options.length > 0 ? 1 : 0}\"\r\n\t\t:indicator-style=\"indicatorStyles\" \r\n\t\t:value=\"innerIndex\" \r\n\t\t@change=\"handlePick\"\r\n\t\tindicator-class=\"l-picker-item__indicator\">\r\n\t\t<picker-view-column class=\"l-picker-item__wrapper\">\r\n\r\n\r\n\r\n\r\n\t\t\t<text class=\"l-picker-item__group-item\" v-for=\"(item, i) in options\"\r\n\t\t\t\t:style=\"[itemStyles, curIndex == i ? itemActiveStyles: {}]\"\r\n\t\t\t\t:class=\"{'l-picker-item__group-item--active': curIndex == i}\" :key=\"item.value\">{{item.label}}</text>\r\n\r\n\t\t</picker-view-column>\r\n\t</picker-view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * PickerItem 选择器子项组件\r\n\t * @description 用于构建多列选择器的单个列项，通常作为 Picker 组件的子组件使用\r\n\t * <br>插件类型：LPickerItemComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-picker\r\n\t * \r\n\t * @property {PickerColumnItem[]} options 当前列的选项列表（必填）\r\n\t * @property {PickerValue} value 当前选中值\r\n\t * @property {number} column 列索引标识（从0开始计数）\r\n\t * @property {string | number} name 列名称标识符\r\n\t */\r\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\r\n\timport { clamp } from '@/uni_modules/lime-shared/clamp'\r\n\timport { PickerItemProps, ManageChildInList, OnPick, UpdateItems } from './type';\r\n\timport { PickerColumnItem, PickerValue } from '../l-picker/type';\r\n\tconst instance = getCurrentInstance()!;\r\n\tconst props = withDefaults(defineProps<PickerItemProps>(), {\r\n\t\toptions: [] as PickerColumnItem[],\r\n\t\tcolumn: -1,\r\n\t\tresetIndex: false\r\n\t})\r\n\tconst picker = inject<LPickerComponentPublicInstance | null>('limePicker', null);\r\n\tconst pickerItemInstanceArray = inject<LPickerItemComponentPublicInstance[] | null>('limePickerItems', null);\r\n\tconst manageChildInList = inject<ManageChildInList | null>('limePickerManageChildInList', null);\r\n\tmanageChildInList?.(instance.proxy! as LPickerItemComponentPublicInstance, true)\r\n\tconst onPick = inject<OnPick | null>('limePickerOnPick', null);\r\n\tconst updateItems = inject<UpdateItems | null>('limePickerUpdateItems', null);\r\n\t// web 如果初始是0 当数据加载后 无法指向0\r\n\r\n\r\n\r\n\r\n\tconst curIndex = ref(0)\r\n\r\n\tconst curValue = ref<PickerValue | null>(props.value);\r\n\tconst column = computed(() : number => props.column != -1 ? props.column : pickerItemInstanceArray?.indexOf(instance.proxy! as LPickerItemComponentPublicInstance) ?? props.column);\r\n\r\n\tconst elementPosition = computed(() : boolean[] => {\r\n\t\tconst totalElements = pickerItemInstanceArray?.length ?? 0;\r\n\t\treturn [column.value == 0, column.value == totalElements - 1]\r\n\t});\r\n\tconst innerIndex = computed(() : number[] => [curIndex.value])\r\n\tconst indicatorStyles = computed(() : string => {\r\n\t\tconst [isFirst, isLast] = elementPosition.value\r\n\t\tlet style = ``\r\n\t\t\r\n\t\tif(isFirst) {\r\n\t\t\tstyle+= 'border-top-left-radius:12rpx; border-bottom-left-radius:12rpx;'\r\n\t\t}\r\n\t\tif(isLast) {\r\n\t\t\tstyle+= 'border-top-right-radius:12rpx; border-bottom-right-radius:12rpx;'\r\n\t\t}\r\n\t\treturn `\r\n\t\t\t${style}\r\n\t\t\theight: ${picker?.itemHeight ?? '50px'};\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.04); ${picker?.indicatorStyle}`\r\n\t})\r\n\tconst itemStyles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\t\tif (picker?.itemColor != null) {\r\n\t\t\tstyle.set('color', picker.itemColor!)\r\n\t\t}\r\n\t\tif (picker?.itemFontSize != null) {\r\n\t\t\tstyle.set('font-size', picker.itemFontSize!)\r\n\t\t}\r\n\t\tif(picker?.itemHeight != null) {\r\n\t\t\tstyle.set('line-height', picker.itemHeight!)\r\n\t\t\tstyle.set('height', picker.itemHeight!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\tconst itemActiveStyles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\t\tif (picker?.itemActiveColor != null) {\r\n\t\t\tstyle.set('color', picker.itemActiveColor!)\r\n\t\t}\r\n\t\tif (picker?.itemActiveFontWeight != null) {\r\n\t\t\tstyle.set('font-weight', picker.itemActiveFontWeight!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\r\n\r\n\tconst getIndexByValue = (val : PickerValue | null) => {\r\n\t\tlet defaultIndex = 0;\r\n\t\tif (val != null) {\r\n\t\t\tdefaultIndex = props.options.findIndex((item) => item.value == val);\r\n\t\t}\r\n\t\treturn defaultIndex < 0 ? 0 : defaultIndex;\r\n\t};\r\n\r\n\tconst setIndex = (index : number) => {\r\n\t\tlet lastIndex = curIndex.value\r\n\t\tlet _index = clamp(index, 0,  props.options.length - 1)\r\n\t\tif(props.options.length > _index) {\r\n\t\t\tcurIndex.value = _index;\r\n\t\t\tcurValue.value = props.options[_index].value\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\r\n\t}\r\n\tconst setValue = (value : PickerValue | null) => {\r\n\t\tif (value == curValue.value) return\r\n\t\tcurValue.value = value\r\n\t\tconst index = getIndexByValue(value)\r\n\t\tsetIndex(index)\r\n\t}\r\n\tconst setOptions = () => { }\r\n\tconst setUpdateItems = () => {\r\n\t\tconst index = clamp(curIndex.value, 0,  props.options.length - 1)\r\n\t\tconst curItem = props.options.length > index ? props.options[index] : null;\r\n\t\tif (curItem == null) return\r\n\t\tupdateItems?.(curItem, index, column.value);\r\n\t}\r\n\t\r\n\tconst handlePick = (e : UniPickerViewChangeEvent) => {\r\n\t\tif(props.options.length == 0) return\r\n\t\tconst index = clamp(e.detail.value[0], 0,  props.options.length - 1);\r\n\t\tconst curItem = props.options[index];\r\n\t\tif(index == curIndex.value) return\r\n\t\tsetIndex(index)\r\n\t\tonPick?.(curItem, index, column.value);\r\n\t}\r\n\r\n\tconst stopValue = watch(() : PickerValue | null => props.value, (v : PickerValue | null) => {\r\n\t\tsetValue(v);\r\n\t\tsetUpdateItems();\r\n\t}, { immediate: true })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tonBeforeUnmount(() => {\r\n\t\tmanageChildInList?.(instance.proxy! as LPickerItemComponentPublicInstance, false)\r\n\t\t\r\n\r\n\r\n\r\n\r\n\r\n\t})\r\n\t// onMounted(()=>{\r\n\t// \tif(props.options.length > 0 && curIndex.value == -1) {\r\n\t// \t\tcurIndex.value = 0\r\n\t// \t}\r\n\t// })\r\n\tdefineExpose({\r\n\t\tsetIndex,\r\n\t\tsetValue,\r\n\t\t// setOptions,\r\n\t\t// setUpdateItems,\r\n\t\tgetIndexByValue\r\n\t})\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","// @ts-nocheck\r\n/**\n * 在数组的指定位置插入或更新值。\n * 如果指定的索引小于数组的长度，则更新该位置的值。\n * 如果指定的索引大于或等于数组的长度，则将值添加到数组的末尾。\n *\n * @param {number[]} arr - 要操作的数字数组。\n * @param {number} index - 要插入或更新值的索引位置。\n * @param {number} value - 要插入或更新的值。\n */\nexport function pushAt<T>(arr: T[], index: number, value: T){\r\n\t// #ifdef APP-ANDROID\n\tif (index < arr.length) {\n\t\tarr[index] = value;\n\t} else {\n\t\tarr.push(value);\n\t}\r\n  // #endif\r\n  // #ifndef APP-ANDROID\r\n  \tarr[index] = value;\r\n  // #endif\n};","<template>\r\n\t<view class=\"l-picker\" :style=\"[styles]\" ref=\"pickerRef\">\r\n\t\t<view class=\"l-picker__toolbar\" :key=\"ohosShow\" v-if=\"cancelBtn != null || title != null || confirmBtn != null\">\r\n\t\t\t<text class=\"l-picker__cancel\" :key=\"ohosShow\" :style=\"cancelStyle??''\" v-if=\"cancelBtn != null\"\r\n\t\t\t\t@click=\"onCancel\">{{cancelBtn}}</text>\r\n\t\t\t<text class=\"l-picker__title\" :key=\"ohosShow\" :style=\"titleStyle??''\">{{title}}</text>\r\n\t\t\t<text class=\"l-picker__confirm\" :key=\"ohosShow\" :style=\"confirmStyle??''\" v-if=\"confirmBtn != null\"\r\n\t\t\t\t@click=\"onConfirm\">{{confirmBtn}}</text>\r\n\t\t</view>\r\n\t\t<slot name=\"header\"></slot>\r\n\t\t<view class=\"l-picker__main\" :style=\"[groupHeight != null ? { height:  groupHeight}: {}]\">\r\n\t\t\t<slot>\r\n\t\t\t\t<l-picker-item v-for=\"(options, i) in props.columns\" :options=\"options\" :key=\"i\" :column=\"i\"\r\n\t\t\t\t\t:value=\"pickerValue.length > i ? pickerValue[i]: null\"></l-picker-item>\r\n\t\t\t</slot>\r\n\t\t\t<view class=\"l-picker__empty\" v-if=\"isEmpty\">\r\n\t\t\t\t<slot name=\"empty\"></slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<slot name=\"footer\" />\r\n\t\t<view class=\"l-picker__loading\" ref=\"loadingRef\" v-if=\"loading\"\r\n\t\t\t:style=\"[loadingMaskColor != null ? {background: loadingMaskColor}: {}]\">\r\n\r\n\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Picker 选择器组件\r\n\t * @description 多列数据选择器，支持级联数据展示和自定义样式配置\r\n\t * <br>插件类型：LPickerComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-picker\r\n\t * \r\n\t * @property {string} cancelBtn 取消按钮文字\r\n\t * @property {string | UTSJSONObject} cancelStyle 取消按钮样式\r\n\t * @property {string} confirmBtn 确定按钮文字\r\n\t * @property {string | UTSJSONObject} confirmStyle 确定按钮样式\r\n\t * @property {string} title 标题文字\r\n\t * @property {string | UTSJSONObject} titleStyle 标题样式\r\n\t * @property {UTSJSONObject} keys 字段别名配置（例：{value: 'id', label: 'name'}）\r\n\t * @property {PickerColumn[]} columns 选择器列数据（必填）\r\n\t * @property {PickerValue[]} modelValue 选中值（支持v-model）\r\n\t * @property {PickerValue[]} defaultValue 默认选中值\r\n\t * @property {PickerValue[]} value 选中值（兼容旧版）\r\n\t * @property {boolean} loading 是否显示加载状态\r\n\t * @property {string} loadingColor 加载图标颜色\r\n\t * @property {string} loadingMaskColor 加载遮罩颜色\r\n\t * @property {string} loadingSize 加载图标尺寸\r\n\t * @property {string} itemHeight 选项行高度\r\n\t * @property {string} itemColor 选项文字颜色\r\n\t * @property {string} itemFontSize 选项字体大小\r\n\t * @property {string} itemActiveColor 选中项颜色\r\n\t * @property {string} indicatorStyle 指示器样式\r\n\t * @property {string} bgColor 背景颜色\r\n\t * @property {string} groupHeight 选项组高度\r\n\t * @property {string} radius 圆角半径\r\n\t * @property {boolean} resetIndex 是否重置选中索引\r\n\t * \r\n\t * @event {Function} confirm 点击确定时触发（事件参数：PickerConfirmEvent）\r\n\t * @event {Function} cancel 点击取消时触发\r\n\t * @event {Function} change 值变化时触发（事件参数：PickerPickEvent）\r\n\t * @event {Function} column-change 列数据变化时触发（事件参数：PickerChangeInfo）\r\n\t */\r\n\timport { PickerProps, PickerColumn, PickerValue, PickerColumnItem, PickerConfirmEvent, PickerPickEvent } from './type';\r\n\timport { pushAt } from './utils';\r\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\r\n\r\n\timport { useLoading } from '@/uni_modules/lime-loading'\r\n\r\n\tconst emit = defineEmits(['change', 'cancel', 'pick', 'confirm', 'update:modelValue', 'update:value']);\r\n\tconst props = withDefaults(defineProps<PickerProps>(), {\r\n\t\tcolumns: [] as PickerColumn[],\r\n\t\tloading: false,\r\n\t\tresetIndex: false,\r\n\t\tloadingSize: '64rpx'\r\n\t})\r\n\tconst pickerItemInstanceArray = reactive<LPickerItemComponentPublicInstance[]>([]);\r\n\tconst ohosShow = ref(0)\r\n\tconst modelValue = ref<PickerValue[]>(props.value ?? props.modelValue ?? props.defaultValue ?? [])\r\n\tconst pickerValue = computed({\r\n\t\tset(value : PickerValue[]) {\r\n\t\t\tif (value.join('') == modelValue.value.join('')) return\r\n\t\t\tmodelValue.value = value;\r\n\t\t\temit('update:modelValue', value)\r\n\t\t\temit('change', value)\r\n\t\t},\r\n\t\tget() : PickerValue[] {\r\n\t\t\treturn props.value ?? props.modelValue ?? modelValue.value\r\n\t\t}\r\n\t} as WritableComputedOptions<PickerValue[]>)\r\n\r\n\tconst isEmpty = computed(() : boolean => {\r\n\t\treturn props.columns.length == 0 && pickerItemInstanceArray.every(child => child.options.length == 0)\r\n\t})\r\n\tconst styles = computed(() : Map<string, any> => {\r\n\t\tconst style = new Map<string, any>()\r\n\t\tif (props.bgColor != null) {\r\n\t\t\tstyle.set('background', props.bgColor!)\r\n\t\t}\r\n\t\tif (props.radius != null) {\r\n\t\t\tstyle.set('border-top-left-radius', props.radius!)\r\n\t\t\tstyle.set('border-top-right-radius', props.radius!)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\r\n\tconst curIndexArray = ref<number[]>([]);\r\n\tconst curValueArray = ref([...pickerValue.value]);\r\n\tconst curItemArray : PickerColumnItem[] = []\r\n\tconst realColumns = computed(() : PickerColumn[] => {\r\n\t\tconst pickerColumns = pickerItemInstanceArray.map((child) : PickerColumn => child.options)\r\n\t\tif (pickerColumns.length > 0) {\r\n\t\t\treturn pickerColumns\r\n\t\t}\r\n\t\treturn props.columns\r\n\t})\r\n\r\n\tconst manageChildInList = (child : LPickerItemComponentPublicInstance, shouldAdd : boolean) => {\r\n\t\tconst index = pickerItemInstanceArray.indexOf(child);\r\n\t\tif (shouldAdd) {\r\n\t\t\tif (index != -1) return\r\n\t\t\tpickerItemInstanceArray.push(child)\r\n\t\t} else {\r\n\t\t\tif (index == -1) return\r\n\t\t\tpickerItemInstanceArray.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateItems = (item : PickerColumnItem, index : number, column : number) => {\r\n\t\tpushAt(curIndexArray.value, column, index)\r\n\t\tpushAt(curValueArray.value, column, item.value)\r\n\t\tpushAt(curItemArray, column, item)\r\n\t};\r\n\t\r\n\tconst updatePickerItems = () => {\r\n\t\tconst _indexs : number[] = []\r\n\t\tconst _values : any[] = []\r\n\t\tpickerItemInstanceArray.forEach((child, column) => {\r\n\t\t\tif (child.options.length == 0) return\r\n\t\t\tconst value = curValueArray.value.length > column ? curValueArray.value[column] : null;\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t// const index = value == null ? 0 : child.getIndexByValue(value)\r\n\t\t\t// child.setIndex(index)\r\n\t\t\tconst index : number = (value == null ? 0 : child.$callMethod('getIndexByValue', value)) as number\r\n\t\t\tchild.$callMethod('setIndex', index)\r\n\r\n\t\t\tconst item = child.options[index]\r\n\t\t\t_indexs.push(index)\r\n\t\t\t_values.push(item.value)\r\n\r\n\t\t\tpushAt(curItemArray, column, item)\r\n\t\t\t// pushAt(curIndexArray.value, column, index)\r\n\t\t\t// pushAt(curValueArray.value, column, item.value)\r\n\t\t\t// // 不能改变单向数据流, 只有值不存在时候才处理\r\n\t\t\t// if(pickerValue.value.length == 0) {\r\n\t\t\t// \tpickerValue.value = [...curValueArray.value]\r\n\t\t\t// }\r\n\t\t\t// if(pickerValue.value.join('') == curValueArray.value.join('')) return\r\n\t\t\t// pickerValue.value = [...curValueArray.value]\r\n\t\t})\r\n\t\tif (curIndexArray.value.join('') == _indexs.join('')) return\r\n\t\tcurIndexArray.value = _indexs\r\n\t\tcurValueArray.value = _values\r\n\t\t// if(pickerValue.value.length == 0) {\r\n\t\tpickerValue.value = [...curValueArray.value]\r\n\t\t// }\r\n\t}\r\n\r\n\tconst onPick = (item : PickerColumnItem, index : number, column : number) => {\r\n\t\tif (curIndexArray.value[column] == index) return\r\n\t\tpushAt(curIndexArray.value, column, index)\r\n\t\tpushAt(curValueArray.value, column, item.value)\r\n\t\tpushAt(curItemArray, column, item)\r\n\t\tconst obj : PickerPickEvent = {\r\n\t\t\tvalues: curValueArray.value,\r\n\t\t\tcolumn,\r\n\t\t\tindex\r\n\t\t}\r\n\t\tpickerValue.value = [...curValueArray.value]\r\n\t\temit('pick', obj)\r\n\t};\r\n\r\n\tconst onCancel = (e : UniPointerEvent) => {\r\n\t\tupdatePickerItems()\r\n\t\temit('cancel', e)\r\n\t}\r\n\tconst onConfirm = (e : UniPointerEvent) => {\r\n\t\tconst values = [...curValueArray.value];\r\n\t\tconst indexs = [...curIndexArray.value];\r\n\t\tconst items = curItemArray.map((item) : PickerColumnItem => toRaw(item))\r\n\t\tif (pickerValue.value.join('') != values.join('')) {\r\n\t\t\tpickerValue.value = values;\r\n\t\t}\r\n\t\tconst obj : PickerConfirmEvent = {\r\n\t\t\tvalues,\r\n\t\t\tindexs,\r\n\t\t\titems\r\n\t\t}\r\n\t\temit('confirm', obj)\r\n\t}\r\n\tconst stopPickerValue = watch(pickerValue, () => {\r\n\t\tif (pickerValue.value.join('') == curValueArray.value.join('')) return\r\n\t\tcurValueArray.value = pickerValue.value.map((item : PickerValue) => item);\r\n\t\tupdatePickerItems()\r\n\t})\r\n\r\n\tconst stopColumns = watch(realColumns, () => {\r\n\t\tupdatePickerItems()\r\n\t\t// nextTick(() => {\r\n\t\t// \tsetTimeout(()=>{\r\n\t\t// \t\tupdatePickerItems()\r\n\t\t// \t},2000)\r\n\t\t\t\r\n\t\t// })\r\n\t})\r\n\t\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\tonMounted(() => {\r\n\t\tnextTick(() => {\r\n\t\t\t\r\n\t\t\tif (pickerValue.value.join('') != curValueArray.value.join('') && pickerValue.value.length > 0) {\r\n\t\t\t\tcurValueArray.value = [...pickerValue.value]\r\n\t\t\t\tupdatePickerItems()\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n\tconst loadingRef = ref<UniElement | null>(null);\r\n\t// const {play, clear, failed} = useLoading(loadingRef, 'circular', props.loadingColor?? '#3283ff', unitConvert(props.loadingSize))\r\n\tconst loadingAni = useLoading(loadingRef)\r\n\tloadingAni.type = 'circular'\r\n\tloadingAni.color = props.loadingColor ?? '#3283ff'\r\n\tloadingAni.ratio = unitConvert(props.loadingSize)\r\n\twatchEffect(() => {\r\n\t\tif (props.loading) {\r\n\t\t\tloadingAni.play()\r\n\t\t} else {\r\n\t\t\tloadingAni.clear()\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tonBeforeUnmount(() => {\r\n\t\tstopPickerValue()\r\n\t\tstopColumns()\r\n\t})\r\n\r\n\tprovide('limePicker', props)\r\n\tprovide('limePickerOnPick', onPick)\r\n\tprovide('limePickerUpdateItems', updateItems)\r\n\tprovide('limePickerItems', pickerItemInstanceArray)\r\n\tprovide('limePickerManageChildInList', manageChildInList)\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index.scss';\r\n</style>","// @ts-nocheck\r\n// 是否支持被动事件监听\r\nexport const supportsPassive = true;\r\n\r\n// #ifdef  uniVersion < 4.25\n// 请求动画帧\r\nexport function raf(fn: TimerCallback): number {\r\n   return setTimeout(fn, 1000 / 60); \r\n}\r\n\r\n// 取消动画帧\r\nexport function cancelRaf(id: number) {\r\n  clearTimeout(id);\r\n}\r\n\r\n\r\n// 双倍动画帧\r\nexport function doubleRaf(fn: TimerCallback): void {\r\n  raf(():number => raf(fn)); // 在下一帧回调中再次请求动画帧，实现双倍动画帧效果\r\n}\n// #endif\r\n\r\n\r\n// #ifdef  uniVersion >= 4.25\n// 请求动画帧\r\nexport function raf(fn: UniAnimationFrameCallback): number\r\nexport function raf(fn: UniAnimationFrameCallbackWithNoArgument): number\r\nexport function raf(fn: any): number {\r\n\tif(typeof fn == 'UniAnimationFrameCallback') {\r\n\t\treturn requestAnimationFrame(fn as UniAnimationFrameCallback); \r\n\t} else {\r\n\t\treturn requestAnimationFrame(fn as UniAnimationFrameCallbackWithNoArgument); \r\n\t}\r\n}\r\n\r\n// 取消动画帧\r\nexport function cancelRaf(id: number) {\r\n  cancelAnimationFrame(id);\r\n}\r\n\r\n// 双倍动画帧\r\nexport function doubleRaf(fn: UniAnimationFrameCallback): void \r\nexport function doubleRaf(fn: UniAnimationFrameCallbackWithNoArgument): void \r\nexport function doubleRaf(fn: any): void {\r\n  raf(():number => raf(fn)); // 在下一帧回调中再次请求动画帧，实现双倍动画帧效果\r\n}\n// #endif\r\n\r\n","// @ts-nocheck\r\nimport { raf } from '@/uni_modules/lime-shared/raf';\r\n// #ifndef UNI-APP-X\r\nimport { watchEffect, ref, nextTick } from '@/uni_modules/lime-shared/vue'\r\n// #endif\r\n\r\nexport type TransitionEmitStatus = \"before-enter\" | \"enter\" | \"after-enter\" | \"before-leave\" | \"leave\" | \"after-leave\"\r\nexport type TransitionStatus = '' | 'enter' | 'leave';\r\nexport type UseTransitionOptions = {\r\n\telement ?: Ref<UniElement | null>,\r\n\tenterClass ?: string,\r\n\tenterActiveClass ?: string,\r\n\tenterToClass ?: string,\r\n\tleaveClass ?: string,\r\n\tleaveActiveClass ?: string,\r\n\tleaveToClass ?: string,\r\n\tappear ?: boolean,\r\n\tdefaultName ?: string,\r\n\tname ?: () => string,\r\n\tvisible ?: () => boolean,\r\n\temits ?: (name : TransitionEmitStatus) => void,\r\n\tonNextTick ?: (name : TransitionEmitStatus) => Promise<void>,\r\n\tduration ?: number\r\n}\r\n\r\ntype ClassNameMap = Map<string, string>;\r\n\r\nexport type UseTransitionReturn = {\r\n\tstate : Ref<boolean>,\r\n\tdisplay : Ref<boolean>,\r\n\tinited : Ref<boolean>,\r\n\tclasses : Ref<string>,\r\n\tname : Ref<string>,\r\n\tfinished : () => void,\r\n\ttoggle : (v : boolean) => void,\r\n}\r\n\r\nexport function useTransition(options : UseTransitionOptions) : UseTransitionReturn {\r\n\tconst state = ref(false);\r\n\tconst display = ref(false);\r\n\tconst inited = ref(false);\r\n\tconst classes = ref('');\r\n\tconst name = ref(options.defaultName ?? 'fade');\r\n\r\n\tconst enterClass = options.enterClass ?? '';\r\n\tconst enterActiveClass = options.enterActiveClass ?? '';\r\n\tconst enterToClass = options.enterToClass ?? '';\r\n\tconst leaveActiveClass = options.leaveActiveClass ?? '';\r\n\tconst leaveToClass = options.leaveToClass ?? '';\r\n\tconst leaveClass = options.leaveClass ?? '';\r\n\r\n\tconst appear = options.appear ?? false\r\n\tconst duration = options.duration ?? 300;\r\n\r\n\tlet status : TransitionStatus = '';\r\n\tlet isTransitionEnd = false;\r\n\tlet isTransitioning = false;\r\n\tlet timeoutId = -1\r\n\r\n\tconst emitEvent = (event : TransitionEmitStatus) => {\r\n\t\toptions.emits?.(event);\r\n\t};\r\n\r\n\t// 结束\r\n\tconst finished = () => {\r\n\t\tif (isTransitionEnd) return;\r\n\t\tisTransitionEnd = true;\r\n\t\temitEvent(`after-${status}`)\r\n\t\tif (display.value && !state.value) {\r\n\t\t\tdisplay.value = false\r\n\t\t}\r\n\t}\r\n\r\n\tconst sleep = () : Promise<void> => {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tnextTick(() => {\r\n\t\t\t\traf(() => {\r\n\t\t\t\t\t// #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\n\t\t\t\t\tif (options.element?.value != null) {\r\n\t\t\t\t\t\toptions.element?.value?.getBoundingClientRectAsync()?.then(res => {\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef APP-ANDROID || APP-IOS || APP-HARMONY\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tconst getClassNames = (name : string) : ClassNameMap => {\r\n\t\treturn new Map<string, string>([\r\n\t\t\t['enter', `l-${name}-enter l-${name}-enter-active ${enterClass} ${enterActiveClass}`],\r\n\t\t\t['enter-to', `l-${name}-enter-to l-${name}-enter-active ${enterToClass} ${enterActiveClass}`],\r\n\t\t\t['leave', `l-${name}-leave l-${name}-leave-active ${leaveClass} ${leaveActiveClass}`],\r\n\t\t\t['leave-to', `l-${name}-leave-to l-${name}-leave-active ${leaveToClass} ${leaveActiveClass}`]\r\n\t\t])\r\n\t};\r\n\r\n\tconst transitionQueue = ref<TransitionStatus[]>([]);\r\n\r\n\tconst performTransition = async (newStatus : TransitionStatus, eventName : TransitionStatus) => {\r\n\t\tif (status == newStatus) return\r\n\t\ttransitionQueue.value.push(newStatus);\r\n\t\tif (isTransitioning) return;\r\n\t\tisTransitioning = true;\r\n\t\t// 防止因结束 又切换为开始导致闪烁\r\n\t\tisTransitionEnd = true;\r\n\t\twhile (transitionQueue.value.length > 0) {\r\n\t\t\tconst currentStatus = transitionQueue.value.shift()!;\r\n\t\t\tstatus = currentStatus;\r\n\t\t\temitEvent(`before-${eventName}`);\r\n\r\n\t\t\tawait sleep();\r\n\t\t\tawait sleep();\r\n\t\t\tif (status != currentStatus) continue;\r\n\r\n\t\t\tconst classNames = getClassNames(name.value);\r\n\t\t\tinited.value = true;\r\n\t\t\tdisplay.value = true;\r\n\t\t\tclasses.value = classNames.get(eventName)!;\r\n\t\t\temitEvent(eventName);\r\n\r\n\t\t\tconst executeAfterTick = options.onNextTick?.(eventName);\r\n\t\t\tif (executeAfterTick != null) {\r\n\t\t\t\tawait executeAfterTick;\r\n\t\t\t}\r\n\r\n\t\t\tawait sleep();\r\n\t\t\t// #ifdef MP\r\n\t\t\tawait sleep();\r\n\t\t\tawait sleep();\r\n\t\t\t// #endif\r\n\t\t\tif (status != currentStatus) continue;\r\n\t\t\tclasses.value = classNames.get(`${eventName}-to`)!;\r\n\t\t\t// isTransitionEnd = false;\r\n\t\t\t// 防止最后无法关闭\r\n\t\t\tif (status == 'leave') {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tfinished()\r\n\t\t\t\t}, duration)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t// 不延迟 会导致快速切换时 因display none 闪烁\r\n\t\tclearTimeout(timeoutId)\r\n\t\ttimeoutId = setTimeout(() => {\r\n\t\t\tif (transitionQueue.value.length == 0 && status == newStatus) {\r\n\t\t\t\tisTransitionEnd = false;\r\n\t\t\t}\r\n\t\t}, duration * 0.8)\r\n\r\n\t\tisTransitioning = false;\r\n\t}\r\n\t// 定义进入过渡的函数\r\n\tconst enter = () => {\r\n\t\tperformTransition('enter', 'enter');\r\n\t}\r\n\r\n\r\n\tconst leave = () => {\r\n\t\tperformTransition('leave', 'leave');\r\n\t}\r\n\r\n\tlet init = false;\r\n\twatchEffect(() => {\r\n\t\tif (options.visible == null) return\r\n\t\tstate.value = options.visible!();\r\n\t\tif (!appear && !init) {\r\n\t\t\tinit = true\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (state.value) {\r\n\t\t\tenter()\r\n\t\t} else {\r\n\t\t\tleave()\r\n\t\t}\r\n\t})\r\n\twatchEffect(() => {\r\n\t\tif (options.name == null) return\r\n\t\tname.value = options.name!()\r\n\t})\r\n\r\n\tconst toggle = (v : boolean) => {\r\n\t\tstate.value = v\r\n\t\tif (v) {\r\n\t\t\tenter()\r\n\t\t} else {\r\n\t\t\tleave()\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tstate,\r\n\t\tinited,\r\n\t\tdisplay,\r\n\t\tclasses,\r\n\t\tname,\r\n\t\tfinished,\r\n\t\ttoggle\r\n\t} as UseTransitionReturn\r\n}","<template>\r\n\t<view v-if=\"inited\"\r\n\t\tclass=\"l-overlay\" \r\n\t\tref=\"overlayRef\"\r\n\t\t:class=\"[lClass, classes]\"\r\n\t\t:style=\"[styles, lStyle]\"\r\n\t\t@click.stop=\"onClick\" \r\n\t\t@touchmove.stop=\"noop\" \r\n\t\t@transitionend=\"finished\" \r\n\t\t:aria-role=\"ariaRole\" \r\n\t\t:aria-label=\"ariaLabel\">\r\n\t\t<slot></slot>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\" setup>\r\n\timport { useTransition, UseTransitionOptions, TransitionEmitStatus } from '@/uni_modules/lime-transition';\r\n\timport { OverlayProps } from './type';\r\n\tdefineOptions({\r\n\t\tname:'l-overlay'\t\r\n\t})\r\n\t\r\n\tconst props = withDefaults(defineProps<OverlayProps>(), {\r\n\t\tariaLabel: '关闭',\r\n\t\tariaRole: 'button',\r\n\t\tpreventScrollThrough: true,\r\n\t\tzIndex: 998,\r\n\t\tvisible: false,\r\n\t\tduration: 300,\r\n\t})\r\n\t\r\n\tconst emit = defineEmits(['click', 'before-enter', 'enter', 'after-enter', 'before-leave', 'leave', 'after-leave'])\r\n\t\r\n\tconst {inited, display, classes, finished} = useTransition({\r\n\t\tdefaultName: 'fade',\r\n\t\tappear: props.visible,\r\n\t\temits: (name:TransitionEmitStatus) => { emit(name) },\r\n\t\tvisible: (): boolean => props.visible,\r\n\t\tduration: props.duration,\r\n\t} as UseTransitionOptions)\r\n\t\r\n\tconst styles = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>();\r\n\t\tif (props.bgColor != null) {\r\n\t\t\tstyle.set(\"background\", props.bgColor!)\r\n\t\t}\r\n\t\tif (props.zIndex > 0) {\r\n\t\t\tstyle.set(\"z-index\", props.zIndex)\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst noop = () => {}\r\n\tconst onClick = (event: UniPointerEvent) =>{\r\n\t\t// event.stopPropagation()\r\n\t\temit('click', !props.visible)\r\n\t}\r\n\r\n\tconst overlayRef = ref<UniElement|null>(null)\r\n\t\r\n\twatchEffect(()=>{\r\n\t\toverlayRef.value?.style.setProperty('transition-duration', `${props.duration}ms`)\r\n\t\tif(!display.value){\r\n\t\t\toverlayRef.value?.style.setProperty('display', \"none\")\r\n\t\t} else {\r\n\t\t\toverlayRef.value?.style.setProperty('display', \"flex\")\r\n\t\t}\r\n\t})\r\n\r\n\t\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>","import { addUnit } from '@/uni_modules/lime-shared/addUnit'\r\nexport function convertRadius(radius : any) : string[] {\r\n\tif (Array.isArray(radius)) {\r\n\t\tconst values = radius.map((item) : string|null => addUnit(item))\r\n\t\tif (values.length == 1) {\r\n\t\t\treturn [values[0]!, values[0]!, values[0]!, values[0]!]\r\n\t\t}\r\n\t\tif (values.length == 2) {\r\n\t\t\treturn [values[0]!, values[1]!, values[0]!, values[1]!]\r\n\t\t}\r\n\t\tif (values.length == 3) {\r\n\t\t\treturn [values[0]!, values[1]!, values[2]!, values[1]!]\r\n\t\t}\r\n\t\tif (values.length == 4) {\r\n\t\t\treturn [values[0]!, values[1]!, values[2]!, values[3]!]\r\n\t\t}\r\n\t\treturn ['0', '0', '0', '0']\r\n\t}\r\n\tconst value = addUnit(radius) ?? '0'\r\n\treturn [value, value, value, value]\r\n}","<template>\r\n\t<l-overlay\r\n\t\t:visible=\"innerValue\" \r\n\t\t:zIndex=\"overlayZIndex\"\r\n\t\t:appear=\"true\"\r\n\t\t:preventScrollThrough=\"preventScrollThrough\"\r\n\t\t:l-style=\"overlayStyle\"\r\n\t\t@click=\"handleOverlayClick\"\r\n\t\tv-if=\"destroyOnClose ? display && overlay : overlay\">\r\n\t</l-overlay>\r\n\t<view class=\"l-popup\" \r\n\t\tref=\"popupRef\"\r\n\t\tv-if=\"destroyOnClose ? display : inited\"\r\n\t\t:class=\"rootClass\" \r\n\t\t:style=\"[styles, lStyle]\"\r\n\t\t@transitionend=\"finished\">\r\n\t\t<slot></slot>\r\n\t\t<view class=\"l-popup__close\" v-if=\"closeable\" @click=\"handleClose\">\r\n\t\t\t<slot name=\"close-btn\">\r\n\t\t\t\t<l-icon class=\"l-popup__close-icon\" :name=\"closeIcon\" size=\"27px\" :color=\"iconColor\" />\r\n\t\t\t</slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Popup 弹出层组件\r\n\t * @description 提供多种位置的弹窗展示能力，支持自定义内容和动画效果\r\n\t * <br>插件类型：LPopupComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-popup\r\n\t * \r\n\t * @property {boolean} closeable 显示关闭按钮（默认：false）\r\n\t * @property {boolean} closeOnClickOverlay 点击遮罩关闭（默认：true）\r\n\t * @property {boolean} destroyOnClose 关闭时销毁内容（默认：false）\r\n\t * @property {string} overlayStyle 遮罩层样式（支持CSS字符串）\r\n\t * @property {'top' | 'left' | 'right' | 'bottom' | 'center' | ''} position 弹出位置\r\n\t * @value top    从顶部滑入\r\n\t * @value bottom 从底部滑入\r\n\t * @value left   从左侧滑入  \r\n\t * @value right  从右侧滑入\r\n\t * @value center 居中显示（默认）\r\n\t * @property {boolean} preventScrollThrough 阻止滚动穿透（默认：true）\r\n\t * @property {boolean} overlay 显示遮罩层（默认：true）\r\n\t * @property {string} transitionName 自定义动画名称（配合transition使用）\r\n\t * @property {string|number|Array} radius 圆角 可以是字符，数值，数组\r\n\t * @property {boolean} visible 控制显示/隐藏（支持v-model）\r\n\t * @property {number} zIndex 组件层级（默认：999）\r\n\t * @property {number} duration 动画时长（单位ms，默认：300）\r\n\t * @property {string} bgColor 内容区域背景色（默认：#ffffff）\r\n\t * @property {string} closeIcon 关闭图标名称/路径（默认：'close'）\r\n\t * @property {string} iconColor 关闭图标颜色（默认：#333）\r\n\t * @property {string} lStyle 自定义内容区样式（支持CSS字符串）\r\n\t * @property {boolean} safeAreaInsetBottom 适配底部安全区域（默认：true）\r\n\t * @property {boolean} safeAreaInsetTop 适配顶部安全区域（默认：true）\r\n\t * @event {Function} close 关闭时触发（返回触发来源：'close-btn' | 'overlay'）\r\n\t * @event {Function} change 切换时触发\r\n\t * @event {Function} click-overlay 点击遮罩触发\r\n\t * @event {Function} click-close 点击关闭触发\r\n\t * @event {Function} open 打开触发\r\n\t * @event {Function} opened 打开完成触发\r\n\t * @event {Function} closed 关闭完成触发\r\n\t * @event {Function} before-enter\r\n\t * @event {Function} enter \r\n\t * @event {Function} after-enter\r\n\t * @event {Function} before-leave\r\n\t * @event {Function} leave\r\n\t * @event {Function} after-leave\r\n\t */\r\n\timport { useTransition, UseTransitionOptions, TransitionEmitStatus } from '@/uni_modules/lime-transition';\r\n\timport { convertRadius } from './utils'\r\n\timport { PopupProps } from './type';\r\n\t\r\n\tconst emit = defineEmits(['change', 'click-overlay', 'click-close', 'open', 'opened','close','closed', 'before-enter', 'enter', 'after-enter', 'before-leave', 'leave', 'after-leave'])\r\n\tconst props = withDefaults(defineProps<PopupProps>(),{\r\n\t\tcloseable: false,\r\n\t\toverlay: true,\r\n\t\tcloseOnClickOverlay: true,\r\n\t\tpreventScrollThrough: true,\r\n\t\tdestroyOnClose: false,\r\n\t\tsafeAreaInsetBottom: true,\r\n\t\tsafeAreaInsetTop: false,\r\n\t\tposition: 'center',\r\n\t\tzIndex: 999,\r\n\t\tduration: 300,\r\n\t\tcloseIcon: 'close'\r\n\t})\r\n\t\r\n\tconst modelValue = defineModel({type: Boolean});\r\n\tconst innerValue = computed({\r\n\t\tset(value: boolean) {\r\n\t\t\tmodelValue.value = value;\r\n\t\t\temit('change', value)\r\n\t\t},\r\n\t\tget():boolean {\r\n\r\n\r\n\r\n\r\n\t\t\treturn props.visible || modelValue.value\r\n\r\n\t\t}\r\n\t} as WritableComputedOptions<boolean>)\r\n\tconst status = ref<TransitionEmitStatus>('before-enter')\r\n\tconst {inited, display, classes, finished} = useTransition({\r\n\t\tdefaultName: props.transitionName ?? 'popup-fade',\r\n\t\tappear: innerValue.value,\r\n\t\temits: (name:TransitionEmitStatus) => { \r\n\t\t\tstatus.value = name\r\n\t\t\tif(name == 'before-enter') {\r\n\t\t\t\temit('open')\r\n\t\t\t} else if(name == 'after-enter') {\r\n\t\t\t\temit('opened')\r\n\t\t\t} else if(name == 'before-leave') {\r\n\t\t\t\temit('close')\r\n\t\t\t} else if(name == 'after-leave') {\r\n\t\t\t\temit('closed')\r\n\t\t\t}\r\n\t\t\temit(name) \r\n\t\t},\r\n\t\tvisible: (): boolean => innerValue.value,\r\n\t\tduration: props.duration,\r\n\t} as UseTransitionOptions)\r\n\t\r\n\tconst overlayZIndex = computed(():number => props.zIndex > 0 ? props.zIndex - 1: 998);\r\n\t\r\n\tconst rootClass = computed(():string=>{\r\n\t\tconst safe = props.safeAreaInsetTop && props.position == 'top' \r\n\t\t\t?  'l-popup--safe-top' \r\n\t\t\t:  props.safeAreaInsetBottom && props.position == 'bottom' \r\n\t\t\t\t? 'l-popup--safe-bottom'\r\n\t\t\t\t: ''\r\n\t\t\t\r\n\t\treturn `l-popup--${props.position} ${safe} ${classes.value}`\r\n\t})\r\n\t\r\n\tconst {safeAreaInsets} = uni.getWindowInfo()\r\n\t\r\n\tconst styles = computed<Map<string,any>>(():Map<string,any> => {\r\n\t\tconst style = new Map<string,any>();\r\n\r\n\t\tstyle.set('transition-duration', (['after-leave', 'before-enter'].includes(status.value) ? 0 : props.duration) + 'ms')\r\n\r\n\r\n\r\n\r\n\t\tif (props.bgColor != null) {\r\n\t\t\tstyle.set(\"background\", props.bgColor!)\r\n\t\t}\r\n\t\tif (props.zIndex > 0) {\r\n\t\t\tstyle.set(\"z-index\", props.zIndex)\r\n\t\t}\r\n\t\t\r\n\t\tif(props.safeAreaInsetBottom && props.position == 'bottom') {\r\n\t\t\tstyle.set('padding-bottom', safeAreaInsets.bottom + 'px')\r\n\t\t}\r\n\t\tif(props.safeAreaInsetTop && props.position == 'top') {\r\n\t\t\tstyle.set('padding-top', safeAreaInsets.top + 'px')\r\n\t\t}\r\n\t\t\r\n\t\tif(props.radius != null) {\r\n\t\t\tconst values = convertRadius(props.radius!)\r\n\t\t\tstyle.set('border-top-left-radius', values[0])\r\n\t\t\tstyle.set('border-top-right-radius', values[1])\r\n\t\t\tstyle.set('border-bottom-right-radius', values[2])\r\n\t\t\tstyle.set('border-bottom-left-radius', values[3])\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\r\n\r\n\r\n\t\t\r\n\t\treturn style\r\n\t})\r\n\tconst handleOverlayClick = () => {\r\n\t\tif(props.closeOnClickOverlay) {\r\n\t\t\tinnerValue.value = false;\r\n\t\t\temit('click-overlay')\r\n\t\t}\r\n\t}\r\n\tconst handleClose = () => {\r\n\t\tinnerValue.value = false;\r\n\t\temit('click-close')\r\n\t}\r\n\t\r\n\r\n\tconst popupRef = ref<UniElement|null>(null)\r\n\t\r\n\twatchEffect(()=>{\r\n\t\tif(!display.value) {\r\n\t\t\tpopupRef.value?.style.setProperty('display', 'none')\r\n\t\t} else {\r\n\t\t\tpopupRef.value?.style.setProperty('display', 'flex')\r\n\t\t}\r\n\t})\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import \"./index-u\";\r\n</style>","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"item\" @click=\"showQuestionsPicker\">\r\n\t\t\t\t<fui-input text-align=\"right\" label=\"问题类型\" :labelSize=\"28\" textAlign=\"left\"\r\n\t\t\t\t\tplaceholderStyle=\"font-size: 28rpx;\" :disabled=\"true\" :required=\"true\" :placeholder = \"questionType\">\r\n\t\t\t\t\t<text>\r\n\t\t\t\t\t\t<fui-icon name=\"arrowright\" :size=\"45\"></fui-icon>\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</fui-input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item underline\">\r\n\t\t\t\t<fui-input text-align=\"right\" label=\"设备型号\" :labelSize=\"28\" textAlign=\"left\"\r\n\t\t\t\t\tplaceholderStyle=\"font-size: 28rpx;\" :disabled=\"true\" placeholder=\"请选择设备型号(选填)\">\r\n\t\t\t\t\t<text>\r\n\t\t\t\t\t\t<fui-icon name=\"arrowright\" :size=\"45\"></fui-icon>\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</fui-input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\">\r\n\t\t\t\t<fui-input text-align=\"right\" label=\"联系方式\" :labelSize=\"28\" textAlign=\"left\"\r\n\t\t\t\t\tplaceholderStyle=\"font-size: 28rpx;\" :disabled=\"false\" :required=\"true\"\r\n\t\t\t\t\tplaceholder=\"请输入联系方式\"></fui-input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\">\r\n\t\t\t\t<view class=\"item-label\">\r\n\r\n\t\t\t\t\t<image style=\"width:20rpx;height:20rpx;margin-right:10rpx\" src=\"/static/required_ios.png\" />\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t<text>问题描述</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<l-textarea placeholder=\"请输入内容\" :maxlength=\"200\" :indicator=\"true\" :autosize=\"true\" :autofocus=\"true\"\r\n\t\t\t\t\t:clearable=\"true\" layout=\"vertical\"></l-textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\">\r\n\t\t\t\t<view class=\"item-label\">\r\n\t\t\t\t\t<text>图片</text>\r\n\t\t\t\t\t<text class=\"little-title\">(问题截图,最多三张)</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<l-upload :max=\"3\" :multiple=\"true\" v-model=\"files as UploadFile[]\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn-box\">\r\n\t\t\t<fui-button color=\"#fff\" text=\"去充值\" background=\"#1296db\" height=\"80rpx\" @onclick=\"submit\"></fui-button>\r\n\t\t</view>\r\n\t\t<l-popup v-model=\"showPicker\" position=\"bottom\">\r\n\t\t\t\t<l-picker cancel-btn=\"取消\" confirm-btn=\"确定\" :columns=\"pickerOptions\" @cancel=\"oncancel\" @confirm=\"onConfirm\">\r\n\t\t\t</l-picker>\r\n\t\t</l-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport { UploadFile } from '@/uni_modules/lime-upload';\r\n\timport { PickerColumn ,PickerConfirmEvent} from '@/uni_modules/lime-picker';\r\n\tconst questionType = ref<string>('请选择问题类型')\r\n\tconst files = ref<UploadFile[]>([{\r\n\t\turl: 'https://img-cdn-tx.dcloud.net.cn/stream/plugin_screens/lime-barcode_0.png',\r\n\t\tname: 'uploaded4.png',\r\n\t\ttype: 'image',\r\n\t}])\r\n\r\n\tconst pickerOptions = ref<PickerColumn[]>([])\r\n\tconst showPicker = ref<boolean>(false)\r\n\r\n\tconst showQuestionsPicker = () => {\r\n\t\tuni.__log__('log','at pages/mine/feeback/feeback.uvue:72','aaaa')\r\n\t\tshowPicker.value = true\r\n\t\tpickerOptions.value = [\r\n\t\t\t[\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: '产品',\r\n\t\t\t\t\tvalue: '产品',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: '服务',\r\n\t\t\t\t\tvalue: '服务',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: '其他',\r\n\t\t\t\t\tvalue: '其他',\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t]  as PickerColumn[]\r\n\t\t\r\n\t}\r\n\r\n\tconst onConfirm = (context : PickerConfirmEvent) => {\r\n\t\tshowPicker.value = false\r\n\t\tquestionType.value = context.values[0].toString()\r\n\t}\r\n\r\n\tconst oncancel = () => {\r\n\t\tshowPicker.value = false\r\n\t}\r\n\r\n\tconst submit = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '提交成功',\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #F5f5f5;\r\n\t\tpadding: 20rpx;\r\n\r\n\t\t.content {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tpadding: 20rpx;\r\n\r\n\r\n\t\t\t.underline{\r\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t.item-label {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\r\n\t\t\t\t.little-title {\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn-box {\r\n\t\t\tmargin-top: 50rpx\r\n\t\t}\r\n\t\t.l-picker{\r\n\t\t\twidth:100%\r\n\t\t}\r\n\t}\r\n</style>","export default \"__VITE_ASSET__cba1648e__\"","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"items underline\">\n\t\t\t\t<view class=\"offline\">\n\t\t\t\t\t<text>离线提醒</text>\n\t\t\t\t\t<fui-switch :checked= \"checked\" @change=\"changeChecked\" @update:checked=\"isChecked\"></fui-switch>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tips\">设备离线8小时后,推送消息到APP</text>\n\t\t\t</view>\n\t\t\t<view class=\"items\">\n\t\t\t\t<fui-input label=\"自动播放\" :labelSize=\"28\" textAlign=\"right\" :borderBottom=\"false\"\n\t\t\t\t\tplaceholderStyle=\"font-size: 28rpx;\" :disabled=\"true\" :placeholder = \"playTypeItem\" @click=\"playType\">\n\t\t\t\t\t<text>\n\t\t\t\t\t\t<fui-icon name=\"arrowright\" :size=\"48\"></fui-icon>\n\t\t\t\t\t</text>\n\t\t\t\t</fui-input>\n\t\t\t\t<text class=\"tips\">摄像机视频是否自动播放</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<view v-for=\"(item,index) in permissionList\" :key=\"index\">\n\t\t\t\t<fui-input :label=\"item.name\" :labelSize=\"28\" textAlign=\"right\" :borderBottom=\"true\"\n\t\t\t\t\t:placeholderStyle=\"item.status == '未授权' ? 'font-size: 28rpx;color:red;' : 'font-size: 28rpx;color:green;'\" :disabled=\"true\" :placeholder = \"item.status\" @click=\"getSystemAuth(item)\">\n\t\t\t\t\t<text>\n\t\t\t\t\t\t<fui-icon name=\"arrowright\" :size=\"48\"></fui-icon>\n\t\t\t\t\t</text>\n\t\t\t\t</fui-input>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<l-popup v-model=\"showPicker\" position=\"bottom\">\n\t\t\t<l-picker cancel-btn=\"取消\" confirm-btn=\"确定\" :columns=\"pickerOptions\" @cancel=\"oncancel\" @confirm=\"onConfirm\">\n\t\t\t</l-picker>\n\t\t</l-popup>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\timport { PickerColumn ,PickerConfirmEvent} from '@/uni_modules/lime-picker';\n\tconst checked = ref<boolean>(true)\n\tconst showPicker = ref<boolean>(false)\n\tconst pickerOptions = ref<PickerColumn[]>([])\n\tconst playTypeItem = ref<string>('WIFI下自动播放')\n\tconst systemNotifyState = ref<string>('')\n\n\t//授权类型\n\ttype AuthType = {\n\t\tcode:string\n\t\tstate: string\n\t}\n\n\tconst AuthState = ref<AuthType[]>([\n\t\t{\n\t\t\tcode:'authorized',\n\t\t\tstate: '已授权',\n\t\t},\n\t\t{\n\t\t\tcode:'not determined',\n\t\t\tstate: '未授权',\n\t\t},\n\t\t{\n\t\t\tcode:'denied',\n\t\t\tstate: '未授权',\n\t\t},\n\t])\n\n\t// 权限项类型\n\ttype PermissionItem = {\n\t\tname: string\n\t\tcode: string\n\t\tstatus: string\n\t}\n\n\t// 权限列表数据\n\tconst permissionList = ref<PermissionItem[]>([\n\t\t{ name: '位置信息', code: 'locationAuthorized', status: 'notDetermined' },\n\t\t{ name: '相册', code: 'albumAuthorized', status: 'notDetermined' },\n\t\t{ name: '麦克风', code: 'microphoneAuthorized', status: 'notDetermined' },\n\t\t{ name: '蓝牙', code: 'bluetoothAuthorized', status: 'notDetermined' },\n\t\t{ name: '系统通知', code: 'notificationAuthorized', status: 'notDetermined' },\n\t\t{ name: '相机', code: 'cameraAuthorized', status: 'notDetermined' },\n\t])\n\n\tconst getSystemAuth = (item:PermissionItem) => {\n\t\tconst res = uni.getAppAuthorizeSetting();\n\t\tconst code = item.code\n\t\tif(code == 'bluetoothAuthorized'){\n\t\t\tconst resu = uni.getSystemSetting();\n\t\t\tuni.__log__('log','at pages/mine/systemSetting/systemSetting.uvue:91',resu)\n\t\t\tif(resu.bluetoothEnabled == false){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请先手动打开蓝牙',\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tpermissionList.value.map(item => {\n\t\t\t\t\tif(item.code == 'bluetoothAuthorized'){\n\t\t\t\t\t\titem.status = '已授权'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}else{\n\t\t\tconst status = res[code]\n\t\t\tif(status == 'denied' || status == \"not determined\"){\n\t\t\t\tuni.openAppAuthorizeSetting({\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.__log__('log','at pages/mine/systemSetting/systemSetting.uvue:108',res)\n\t\t\t\t\t\t// item.status = '已授权' \n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\n\tconst changeChecked = () => {\n\t\tuni.__log__('log','at pages/mine/systemSetting/systemSetting.uvue:119',checked.value)\n\t}\n\n\tconst isChecked = () => {\n\t\tchecked.value = !checked.value\n\t}\n\n\tconst getSystemNotify = () => {\n\t\tconst res = uni.getAppAuthorizeSetting();\n\t\tuni.__log__('log','at pages/mine/systemSetting/systemSetting.uvue:128',res.notificationAuthorized)\n\t\tif(res.notificationAuthorized == 'denied' || res.notificationAuthorized == \"not determined\"){\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先授权通知权限',\n\t\t\t})\n\t\t\tuni.openAppAuthorizeSetting({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.__log__('log','at pages/mine/systemSetting/systemSetting.uvue:135',res)\n\t\t\t\t\tsystemNotifyState.value = '已授权'\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tconst playType = () => {\n\t\tpickerOptions.value = [\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: 'WIFI下自动播放',\n\t\t\t\t\tvalue: 'WIFI下自动播放',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '总是播放',\n\t\t\t\t\tvalue: '总是播放',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '不播放',\n\t\t\t\t\tvalue: '不播放',\n\t\t\t\t}\n\t\t\t]\n\t\t]  as PickerColumn[]\n\t\tshowPicker.value = true\n\t}\n\n\tconst onConfirm = (context : PickerConfirmEvent) => {\n\t\tshowPicker.value = false\n\t\tplayTypeItem.value = context.values[0].toString()\n\t}\n\n\tconst oncancel = () => {\n\t\tshowPicker.value = false\n\t}\n\n\tonPageShow(() => {\n    const res = uni.getAppAuthorizeSetting();\n    const resu = uni.getSystemSetting();\n    \n    permissionList.value = permissionList.value.map(item => {\n        const newItem = {...item} as PermissionItem;\n        if (item.code == 'bluetoothAuthorized' && resu.bluetoothEnabled == true) {\n            newItem.status = '已授权';\n        } else {\n            AuthState.value.forEach((auth) => {\n                if (auth.code === res[item.code]) {\n                    newItem.status = auth.state;\n                }\n            });\n        }\n        \n        return newItem;\n    });\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t.items{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\t.fui-input__wrap{\n\t\t\t\t\tpadding: 20rpx 0 !important;\n\t\t\t\t}\n\t\t\t\t.offline{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tpadding-bottom: 10rpx;\n\t\t\t\t}\n\t\t\t\t.tips{\n\t\t\t\t\t\tcolor:#999;\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\t.underline{\n\t\t\t\tborder-bottom: 1rpx solid #f5f5f5;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.l-picker{\n\t\t\twidth:100%\n\t\t}\n\t}\t\n</style>\n","export default \"__VITE_ASSET__90f22435__\"","<template>\n\t<view \n\t\tref=\"gridRef\"\n\t\tclass=\"l-grid-item\" \n\t\t@click=\"onClick\"\n\t\t:class=\"[classes, lClass]\" \n\t\t:hover-stay-time=\"200\"\n\t\t:hover-class=\"hover ? 'l-grid-item--hover': ''\"\n\t\t:style=\"[styles, lStyle]\">\n\t\t<slot>\n\t\t\t<l-badge\n\t\t\t\tv-if=\"(dot || badge != null) && (icon != null || image != null || $slots['icon'] != null)\" \n\t\t\t\t:content=\"badge\"\n\t\t\t\t:dot=\"dot\">\n\t\t\t\t<slot name=\"icon\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"l-grid-item__icon\" \n\t\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\t\tv-if=\"icon != null\" >\n\t\t\t\t\t\t<l-icon\n\t\t\t\t\t\t\t:l-class=\"lClassIcon\"\n\t\t\t\t\t\t\t:prefix=\"prefix\"\n\t\t\t\t\t\t\t:name=\"icon\" \n\t\t\t\t\t\t\t:color=\"iconColor\" \n\t\t\t\t\t\t\t:size=\"iconSize\">\n\t\t\t\t\t\t</l-icon>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image\n\t\t\t\t\t\tclass=\"l-grid-item__image\"\n\t\t\t\t\t\t:class=\"imageClasses\"\n\t\t\t\t\t\t:style=\"[imageStyle, innerImageStyle]\"\n\t\t\t\t\t\tv-else-if=\"image != null\"\n\t\t\t\t\t\t:src=\"image\" \n\t\t\t\t\t\tmode=\"aspectFill\">\n\t\t\t\t\t</image>\n\t\t\t\t</slot>\n\t\t\t</l-badge>\n\t\t\t<slot name=\"icon\"  v-else-if=\"icon != null || image != null || $slots['icon'] != null\">\n\t\t\t\t<view class=\"l-grid-item__icon\" \n\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\tv-if=\"icon != null\" >\n\t\t\t\t\t<l-icon\n\t\t\t\t\t\t:l-class=\"lClassIcon\"\n\t\t\t\t\t\t:prefix=\"prefix\"\n\t\t\t\t\t\t:name=\"icon\" \n\t\t\t\t\t\t:color=\"iconColor\" \n\t\t\t\t\t\t:size=\"iconSize\">\n\t\t\t\t\t</l-icon>\n\t\t\t\t</view>\n\t\t\t\t<image\n\t\t\t\t\tclass=\"l-grid-item__image\"\n\t\t\t\t\t:class=\"imageClasses\" \n\t\t\t\t\t:style=\"[imageStyle, innerImageStyle]\"\n\t\t\t\t\tv-else-if=\"image != null\"\n\t\t\t\t\t:src=\"image\" \n\t\t\t\t\tmode=\"aspectFill\">\n\t\t\t\t</image>\n\t\t\t</slot>\n\t\t\t\n\t\t\t<view class=\"l-grid-item__content\">\n\t\t\t\t<slot name=\"text\">\n\t\t\t\t\t<text class=\"l-grid-item__title\" :style=\"[lTitleStyle]\" :class=\"titleClasses\" >{{text}}</text>\n\t\t\t\t</slot>\n\t\t\t\t<slot name=\"description\">\n\t\t\t\t\t<text class=\"l-grid-item__description\" :style=\"[lDescriptionStyle]\">{{description}}</text>\n\t\t\t\t</slot>\n\t\t\t</view>\n\t\t</slot>\n\t\t<slot name=\"extra\"></slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * GridItem 网格项组件\n\t * @description 用于构建功能入口或导航项的布局元素\n\t * <br> 插件类型：LGridItemComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-grid\n\t * \n\t * @property {string} text 主文本内容（支持插槽自定义）\n\t * @property {string} description 辅助描述文本（支持插槽自定义）\n\t * @property {string} url 点击跳转链接\n\t * @property {'switchTab'|'reLaunch'|'redirectTo'|'navigateTo'} openType 跳转方式\n\t * @value navigateTo\n\t * @value switchTab 切换Tab页\n\t * @value reLaunch 重新加载页面\n\t * @value redirectTo 页面重定向\n\t * @value navigateTo 保留当前页跳转\n\t * @property {string} icon 图标名称/图片地址（支持base64）\n\t * @property {string} prefix 图标类名前缀（默认'lime-icon'）\n\t * @property {string} image 图片地址（优先级高于icon）\n\t * @property {string} imageWidth 图片宽度（支持CSS单位）\n\t * @property {string} imageHeight 图片高度（支持CSS单位）\n\t * @property {string} bgColor 背景颜色（支持十六进制/rgba）\n\t * @property {string} padding 内边距（CSS简写格式）\n\t * @property {'vertical'|'horizontal'} layout 内容排列方向\n\t * @value vertical\n\t * @value horizontal\n\t * @property {boolean} dot 是否显示右上角小红点\n\t * @property {string} borderColor 边框颜色（需设置父级border）\n\t * @property {string|object} lStyle 自定义根节点样式\n\t * @property {string|object} lImageStyle 自定义图片节点样式\n\t * @property {string|object} lTitleStyle 自定义标题节点样式\n\t * @property {string|object} lDescriptionStyle 自定义简介节点样式\n\t * @property {string} lClass 自定义根节点类名\n\t * \n\t * @event {Function} click 点击事件\n\t */\n\timport { GridItemProps } from './type';\n\timport { GridProvide } from '../l-grid/type';\n\t\n\tconst emits = defineEmits(['click'])\n\tconst props = withDefaults(defineProps<GridItemProps>(), {\n\t\topenType: 'navigateTo',\n\t\tlayout: 'vertical',\n\t\tdot: false,\n\n\t\ticonColor: 'rgba(0,0,0,0.88)',\n\t\ticonSize: '48rpx',\n\n\t})\n\tconst name = 'l-grid-item';\n\tconst parent = inject<GridProvide|null>('limeGrid', null)\n\tconst instance = getCurrentInstance();\n\tconst index = computed(():number => parent?.children.value.indexOf(instance!.uid) ?? -1);\n\tconst column = computed(():number => parent?.props.column ?? 0)\n\tconst gutter = computed(():number => parent?.props.gutter ?? 0)\n\tconst width = computed(():number => parent?.width.value ?? 0)\n\t// const gridWidth = computed(():string|null => parent?.props.gridWidth)\n\tconst hover = computed(():boolean => parent?.props.hover ?? false)\n\tconst classes = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}--${props.layout}`, true);\n\t\tcls.set(`${name}--${parent?.props.align ?? 'center'}`, true);\n\t\tcls.set(`${name}--bordered`, parent?.props.border ?? false);\n\t\t\n\t\treturn cls\n\t})\n\t\n\tconst size = computed(():string=>{\n\t\tif (column.value > 4 || column.value == 0) return 'small';\n\t\treturn column.value < 4 ? 'large' : 'middle';\n\t})\n\t\n\tconst imageClasses = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}__image--${size.value}`, true);\n\t\t\n\t\treturn cls\n\t})\n\tconst titleClasses = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>()\n\t\tcls.set(`${name}__title--${size.value}`, true);\n\t\t\n\t\treturn cls\n\t})\n\t\n\tconst innerImageStyle = ref<string|UTSJSONObject>('')\n\t\n\tconst styles = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\t\tconst gridWidth = parent?.props.gridWidth\n\n\t\tif(gridWidth != null || width.value > 0 && column.value > 0) {\n\t\t\tconst _width = (width.value - (column.value - 1) * gutter.value) / column.value;\n\t\t\tstyle.set(`width`, gridWidth ?? `${_width}px`);\n\t\t\t// style.set(`width`, `auto`);\n\t\t}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\tif(index.value % (column.value) != column.value - 1) {\n\t\t\tstyle.set('margin-right', `${gutter.value}px`)\n\t\t}\n\n\t\tif (index.value >= column.value) {\n\t\t\tstyle.set(`margin-top`, `${gutter.value}px`);\n\t\t}\n\t\t\n\t\tif(props.borderColor != null) {\n\n\t\t\tstyle.set('border-color', props.borderColor!)\n\n\n\n\n\t\t}\n\t\tconst bgColor = props.bgColor ?? parent?.props.bgColor\n\t\tif(bgColor != null) {\n\t\t\tstyle.set('background', bgColor)\n\t\t}\n\t\tconst padding = props.padding ?? parent?.props.padding\n\t\tif(padding != null) {\n\t\t\tstyle.set('padding', padding)\n\t\t}\n\t\t\n\t\treturn style\n\t})\n\t\n\t\n\tconst imageStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\n\t\tif(props.imageWidth != null) {\n\t\t\tstyle.set(`width`, props.imageWidth!);\n\t\t}\n\t\tif(props.imageHeight != null) {\n\t\t\tstyle.set(`height`, props.imageHeight!);\n\t\t}\n\n\t\t\n\t\treturn style\n\t})\n\t\n\t\n\tconst onClick = (e: UniPointerEvent) => {\n\t\temits('click', e)\n\t\tif(props.url == null) return\n\t\tswitch(props.openType) {\n\t\t\tcase 'switchTab':\n\t\t\t\tuni.switchTab({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tcase 'reLaunch':\n\t\t\t\tuni.reLaunch({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tcase 'redirectTo':\n\t\t\t\tuni.redirectTo({url: props.url!})\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tuni.navigateTo({url: props.url!})\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t// 安卓如果默认设置了圆角，再设置不会被覆盖，要延时一下\n\twatchEffect(()=>{\n\t\tnextTick(()=>{\n\t\t\tinnerImageStyle.value = props.lImageStyle??''\n\t\t})\n\t})\n\t\n\tonBeforeMount(() => {\n\t\tif(instance != null && parent != null) {\n\t\t\tparent.children.value.push(instance.uid)\n\t\t}\n\t})\n\tonUnmounted(() => {\n\t\tif(instance != null && parent != null) {\n\t\t\tparent.children.value = parent.children.value.filter((it):boolean => it != instance.uid)\n\t\t}\n\t})\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","<template>\n\t<view class=\"l-grid\" ref=\"resizeRef\" :class=\"clsses\">\n\t\t<slot></slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Grid 栅格布局组件\n\t * @description 用于实现瀑布流、等分等网格布局场景\n\t * <br> 插件类型：LGridComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-grid\n\t * \n\t * @property {'left'|'center'} align 内容对齐方式\n\t * @value left 左对齐\n\t * @value center 居中对齐\n\t * @property {boolean} border 是否显示边框\n\t * @property {number} column 列数（0表示使用固定尺寸布局）\n\t * @property {number} gutter 网格间隔（单位px/rpx）\n\t * @property {boolean} hover 是否启用点击反馈效果\n\t * @property {boolean} inset 卡片式圆角风格\n\t * @property {string} [gridWidth] 固定尺寸布局时的网格宽度（支持CSS单位）\n\t * @property {string} [padding] 内边距（支持CSS简写格式）\n\t * @property {string} [bgColor] 背景颜色（卡片式布局生效）\n\t * @property {boolean} wrap 超出是否换行\n\t */\n\timport { GridProps , GridProvide} from './type';\n\t\n\tconst props = withDefaults(defineProps<GridProps>(), {\n\t\talign: 'center',\n\t\tborder: false,\n\t\tcolumn: 4,\n\t\tgutter: 0,\n\t\thover: false,\n\t\tinset: false,\n\t\twrap: true,\n\t\t// gridWidth: null\n\t})\n\t\n\tconst clsses = computed(():Map<string, any>=>{\n\t\tconst cls = new Map<string, any>();\n\t\t\n\t\tcls.set(`l-grid--wrap`, props.wrap)\n\t\tcls.set(`l-grid--inset`, props.inset)\n\t\tcls.set(`l-grid--bordered`, props.border && props.gutter == 0)\n\t\t\n\t\treturn cls\n\t})\n\tconst resizeRef = ref<UniElement|null>(null)\n\tconst width = ref<number>(0)\n\tconst children = ref<number[]>([])\n\n\tconst resizeObserver = new UniResizeObserver((entries : Array<UniResizeObserverEntry>) => {\n\t\tconst rect = entries[0].target.getBoundingClientRect();\n\t\twidth.value = rect.width;\n\t}) \n\t\n\tconst stopWatch = watch(():UniElement|null => resizeRef.value, (el:UniElement|null) => {\n\t\tif(el== null) return\n\t\tresizeObserver.observe(el)\n\n\t\tsetTimeout(()=>{\n\t\t\tconst rect = el.getBoundingClientRect();\n\t\t\twidth.value = rect.width;\n\t\t},50)\n\n\t})\n\t\n\tonUnmounted(()=>{\n\t\tstopWatch()\n\t\tresizeObserver.disconnect()\n\t})\n\n\tprovide('limeGrid', {\n\t\tchildren,\n\t\tprops,\n\t\twidth\n\t} as GridProvide)\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","<template>\n\t<view class=\"container\">\n        <TopNavBar title=\"设备详情\" :showBack=\"true\" rightText=\"setup\" @rightEvent=\"deviceSetting\" @back=\"goBack\" />\n        <view class=\"content\">\n            <video class=\"video\" id=\"myVideo\" title=\"deviceTitle\" :src=\"videoSrc\" ref=\"videoRef\" :controls=\"true\" :show-play-btn=\"true\"\n\t\t\t\t:show-center-play-btn=\"true\" :enable-progress-gesture=\"true\" :show-fullscreen-btn=\"true\"\n\t\t\t\t:show-mute-btn=\"true\" ></video>\n        </view>\n        <view class=\"control-big\">\n            <view class=\"big-item\">\n                <image class=\"big-item-icon\" src=\"/static/device/zxj.png\" />\n            </view>\n            <view class=\"big-item\">\n                <image class=\"big-item-icon\" src=\"/static/device/vedio.png\" />\n            </view>\n            <view class=\"big-item\">\n                <image class=\"big-item-icon\" src=\"/static/device/volume_1.png\" />\n            </view>\n            <view class=\"big-item\">\n                <image class=\"big-item-icon\" src=\"/static/device/voice_1.png\" />\n            </view>\n        </view>\n\n        <view class=\"control-more\">\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/hd.png\" />\n                <text class=\"small-item-text\">画质</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/zhence.png\" />\n                <text class=\"small-item-text\">智能侦测</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/night.png\" />\n                <text class=\"small-item-text\">夜视模式</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/jtfz.png\" />\n                <text class=\"small-item-text\">镜头翻转</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/cloud.png\" />\n                <text class=\"small-item-text\">云台</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/winfo.png\" />\n                <text class=\"small-item-text\">巡航</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/jd.png\" />\n                <text class=\"small-item-text\">警笛</text>\n            </view>\n            <view class=\"small-item\">\n                <image class=\"small-item-icon\" src=\"/static/device/redblue_1.png\" />\n                <text class=\"small-item-text\">红蓝灯</text>\n            </view>\n            <view class=\"small-item\" @click=\"replay\">\n                <image class=\"small-item-icon\" src=\"/static/device/replay.png\" />\n                <text class=\"small-item-text\">回放</text>\n            </view>\n            <view class=\"small-item\" @click=\"share\">\n                <image class=\"small-item-icon\" src=\"/static/device/share.png\" />\n                <text class=\"small-item-text\">分享</text>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script setup lang=\"uts\">\n    import { ref } from 'vue'\n\timport TopNavBar from '@/components/TopNavBar'\n\tconst videoSrc = ref('https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4')\n\n\n    const goBack = () =>{\n        uni.navigateBack({\n            delta: 1,\n        })\n    }\n\n    const deviceSetting = () =>{\n        uni.navigateTo({\n            url: '/pages/index/deviceSetting',\n        })\n    }\n\n    const replay = () => {\n        uni.navigateTo({\n            url: '/pages/index/deviceReplay',\n        })\n    }\n\n    const share = () => {\n        uni.navigateTo({\n            url: '/pages/index/deviceShare/deviceShare',\n        })\n    }\n\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n        height: 100%;\n        background-color: #f5f5f5;\n        .video{\n            width:100%;\n        }\n        .control-big{\n            padding:50rpx 20rpx;\n            display:flex;\n            flex-direction:row;\n            justify-content:space-between;\n            align-items: center;\n            .big-item{\n                background-color: #fff;\n                border-radius: 20rpx;\n                padding:40rpx;\n                .big-item-icon{\n                    width:70rpx;\n                    height:70rpx;\n                }\n            }\n        }\n        .control-more{\n\t\t\tmargin: 20rpx;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: wrap;\n            justify-content: flex-start;\n            background-color: #fff;\n            border-radius: 20rpx;\n            padding: 20rpx 0;\n\t\t\t\n\t\t\t.small-item{\n                width: 20%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                margin: 20rpx 0; \n\t\t\t\t\n\t\t\t\t.small-item-icon{\n\t\t\t\t\twidth: 45rpx;\n\t\t\t\t\theight: 45rpx;\n                    margin-bottom:10rpx;\n\t\t\t\t}\n\t\t\t\t.small-item-text{\n                    font-size: 24rpx;\n                    color: #333;\n                }\n\t\t\t}\n\t\t}\n    }\t\n</style>\n","export default \"__VITE_ASSET__01363ba5__\"","export default \"__VITE_ASSET__f985562d__\"","export default \"__VITE_ASSET__162580a1__\"","export default \"__VITE_ASSET__a60ee6e1__\"","export default \"__VITE_ASSET__1e31167f__\"","export default \"__VITE_ASSET__a7c45618__\"","export default \"__VITE_ASSET__7e730adf__\"","export default \"__VITE_ASSET__5063ec7c__\"","export default \"__VITE_ASSET__4e5366e8__\"","export default \"__VITE_ASSET__af992f02__\"","export default \"__VITE_ASSET__35914b35__\"","export default \"__VITE_ASSET__307d5fe7__\"","export default \"__VITE_ASSET__44a241d4__\"","export default \"__VITE_ASSET__15c2fef7__\"","<template>\n\t<view class=\"l-input\" \n\t\t:style=\"[styles, lStyle]\"\n\t\tref=\"rootRef\"\n\t\t:class=\"[\n\t\t\t'l-input--' + layout,\n\t\t\tclassic ? 'l-input--classic-' + status : '',\n\t\t\t{'l-input--classic': classic},\n\t\t\t{'l-input--classic-disabled':  classic && disabled},\n\t\t\t{'l-input--classic-focused':  classic && !disabled && innerFocused},\n\t\t\t{'l-input--border': bordered && !classic}]\">\n\t\t<view class=\"l-input__wrap--prefix\" v-if=\"label != null || $slots['label'] != null || $slots['prefix-icon'] != null || prefixIcon != null\">\n\n\n\n\n\n\n\n\n\t\t\t<slot name=\"prefix-icon\">\n\t\t\t\t<l-icon class=\"l-input__icon--prefix\" :name=\"prefixIcon\" v-if=\"prefixIcon != null\" :color=\"prefixIconColor\" :size=\"prefixIconSize\"></l-icon>\n\t\t\t</slot>\n\n\t\t\t<text class=\"l-input__label\" \n\t\t\t\t:style=\"[lableStyle]\"\n\t\t\t\t:class=\"{ 'l-input__label--gap': prefixIcon != null || $slots['prefix-icon'] != null}\"\n\t\t\t\tv-if=\"label != null || $slots['label'] != null \">\n\t\t\t\t<slot name=\"label\">{{label}}</slot>\n\t\t\t</text>\n\t\t</view>\n\t\t<view class=\"l-input__wrap\">\n\t\t\t<view class=\"l-input__content\">\n\t\t\t\t<input\n\t\t\t\t\tclass=\"l-input__control\"\n\t\t\t\t\t:style=\"[inputStyle]\"\n\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t'l-input--' + align,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'l-input__control--disabled': isDisabled,\n\t\t\t\t\t\t\t'l-input__control--read-only': isReadonly,\n\t\t\t\t\t\t}\n\t\t\t\t\t]\"\n\t\t\t\t\t:maxlength=\"maxlength\"\n\t\t\t\t\t:disabled=\"isDisabled || isReadonly\"\n\t\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t\t:placeholder-style=\"placeholderStyle\"\n\t\t\t\t\t:placeholder-class=\"placeholderStyle == '' ?  (isDisabled || isReadonly ? 'l-input__placeholder--disabled' : 'l-input__placeholder') : ''\"\n\t\t\t\t\t:value=\"innerValue\"\n\t\t\t\t\t:type=\"type == 'password' ? 'text' : type\"\n\t\t\t\t\t:password=\"type == 'password'\"\n\t\t\t\t\t:focus=\"focus\"\n\t\t\t\t\t:confirm-type=\"confirmType\"\n\t\t\t\t\t:confirm-hold=\"confirmHold\"\n\t\t\t\t\t:cursor=\"cursor\"\n\t\t\t\t\t:cursor-color=\"cursorColor\"\n\t\t\t\t\t:cursor-spacing=\"cursorSpacing\"\n\t\t\t\t\t:adjust-position=\"adjustPosition\"\n\t\t\t\t\t:auto-focus=\"autoFocus\"\n\t\t\t\t\t:always-embed=\"alwaysEmbed\"\n\t\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t\t:hold-keyboard=\"holdKeyboard\"\n\t\t\t\t\t:safe-password-cert-path=\"safePasswordCertPath\"\n\t\t\t\t\t:safe-password-length=\"safePasswordLength\"\n\t\t\t\t\t:safe-password-time-stamp=\"safePasswordTimeStamp\"\n\t\t\t\t\t:safe-password-nonce=\"safePasswordNonce\"\n\t\t\t\t\t:safe-password-salt=\"safePasswordSalt\"\n\t\t\t\t\t:safe-password-custom-hash=\"safePasswordCustomHash\"\n\t\t\t\t\t:aria-label=\"label\"\n\t\t\t\t\t:aria-roledescription=\"label\"\n\t\t\t\t\t@input=\"onInput\"\n\t\t\t\t\t@focus=\"onFocus\"\n\t\t\t\t\t@blur=\"onBlur\"\n\t\t\t\t\t@confirm=\"onConfirm\"\n\t\t\t\t\t@keyboardheightchange=\"onKeyboardHeightChange\"\n\t\t\t\t\t@nicknamereview=\"onNickNameReview\" />\n\n\n\n\n\n\n\t\t\t\t<view v-if=\"clearable\" v-show=\"showClearIcon\" @click=\"clearInput\">\n\t\t\t\t\t<l-icon class=\"l-input__wrap--clearable-icon\" name=\"close-circle-filled\" :size=\"clearIconSize\" ></l-icon>\n\t\t\t\t</view>\n\t\t\t\t<!-- <l-icon class=\"l-input__wrap--clearable-icon\" name=\"close-circle-filled\" size=\"44rpx\" @click=\"clearInput\"  v-if=\"clearable\" v-show=\"showClearIcon\"></l-icon> -->\n\n\t\t\t\t<view class=\"l-input__wrap--suffix\" @click=\"onSuffixClick\" v-if=\"suffix != null || $slots['suffix'] != null\">\n\t\t\t\t\t<slot name=\"suffix\">\n\t\t\t\t\t\t<text class=\"l-input__wrap--suffix-text\">{{suffix}}</text>\n\t\t\t\t\t</slot>\n\t\t\t\t</view>\n\n\n\n\n\n\n\n\n\t\t\t\t<slot name=\"suffix-icon\">\n\t\t\t\t\t<l-icon class=\"l-input__wrap--suffix-icon\" :name=\"suffixIcon\" :size=\"suffixIconSize\" :color=\"suffixIconColor\" v-if=\"suffixIcon != null\"></l-icon>\n\t\t\t\t</slot>\n\n\t\t\t</view>\n\t\t\t<text class=\"l-input__tips\" :style=\"[tipsStyle]\" :class=\"['l-input__tips--' + status]\" v-if=\"tips != null && tips!.length > 0 || $slots['tips'] != null\">\n\t\t\t\t<slot name=\"tips\">{{tips}}</slot>\n\t\t\t</text>\n\t\t</view>\n\t\t\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Input 输入框组件\n\t * @description 增强版输入组件，支持安全加密输入、多类型验证和智能交互\n\t * <br> 插件类型：LInputComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-input\n\t * \n\t * @property {boolean} adjustPosition 键盘弹起时页面自动上推\n\t * @property {'left'|'center'|'right'} align 文本对齐方式\n\t * @value left   \n\t * @value center  \n\t * @value right    \n\t * @property {boolean} alwaysEmbed iOS强制同层渲染（仅iOS生效）\n\t * @property {boolean} autoFocus 自动聚焦（即将废弃，建议使用focus）\n\t * @property {boolean} bordered 边框模式\n\t * @property {'always'|'focus'} clearTrigger 清空按钮显示规则\n\t * @value always\n\t * @value focus     \n\t * @property {boolean} clearable 显示清空按钮\n\t * @property {boolean} confirmHold 点击确认按钮保持键盘\n\t * @property {'send'|'search'|'next'|'go'|'done'} confirmType 确认按钮类型\n\t * @value send    显示\"发送\"\n\t * @value search  显示\"搜索\"\n\t * @value next    显示\"下一个\"\n\t * @value go      显示\"前往\"\n\t * @value done    显示\"完成\"\n\t * @property {number} cursor 初始光标位置（需配合selectionStart/End）\n\t * @property {string} cursorColor 光标颜色\n\t * @property {number} cursorSpacing 光标与键盘间距（单位px）\n\t * @property {boolean} disabled 禁用状态\n\t * @property {boolean} focus 强制聚焦\n\t * @property {boolean} focused 是否显示获焦样式，用于结合自定义键盘使用时显示高亮效果\n\t * @property {boolean} classic 是否使用经典边框样式\n\t * @property {boolean} holdKeyboard 聚焦时保持键盘不收起\n\t * @property {string} label 左侧标签文本\n\t * @property {'horizontal'|'vertical'} layout 标签布局\n\t * @value horizontal \n\t * @value vertical\n\t * @property {number} maxcharacter 最大字符长度（中文算2字符）\n\t * @property {number} maxlength 最大输入长度（中文算1字符）\n\t * @property {string} placeholder 占位文本\n\t * @property {string} placeholderStyle 占位符内联样式\n\t * @property {string} placeholderClass 占位符CSS类名\n\t * @property {boolean} readonly 只读模式\n\t * @property {string} safePasswordCertPath 安全证书路径（仅App）\n\t * @property {string} safePasswordCustomHash 自定义哈希算法（仅App）\n\t * @property {number} safePasswordLength 安全密码长度（仅App）\n\t * @property {string} safePasswordNonce 加密随机数（仅App）\n\t * @property {string} safePasswordSalt 加密盐值（仅App）\n\t * @property {number} safePasswordTimeStamp 加密时间戳（仅App）\n\t * @property {'default'|'success'|'warning'|'error'} status 校验状态\n\t * @value default\n\t * @value success\n\t * @value warning\n\t * @value error\n\t * @property {string} prefixIcon 前缀图标（支持图片路径/字体图标）\n\t * @property {string} prefixIconSize 前缀图标尺寸（带单位）\n\t * @property {string} prefixIconColor 前缀图标颜色\n\t * @property {string} suffix 后缀文本内容\n\t * @property {string} suffixIcon 后缀图标（支持图片路径/字体图标）\n\t * @property {string} suffixIconSize 后缀图标尺寸（带单位）\n\t * @property {string} clearIconSize 删除图标尺寸\n\t * @property {string} suffixIconColor 后缀图标颜色\n\t * @property {string} tips 底部提示文本（根据status变色）\n\t * @property {'text'|'number'|'idcard'|'digit'|'safe-password'|'password'|'nickname'} type 输入类型\n\t * @value text           普通文本\n\t * @value number         数字键盘（非强制）\n\t * @value idcard         身份证键盘（带X）\n\t * @value digit          强制数字键盘\n\t * @value safe-password  安全加密输入\n\t * @value password       密码输入\n\t * @value nickname       昵称输入（过滤特殊字符）\n\t * @property {string} value 输入值（支持v-model）\n\t * @property {string} modelValue 输入值（支持v-model）\n\t * @property {string} lStyle 根节点自定义样式\n\t * @property {string} lableStyle 标签样式\n\t * @property {string} tipsStyle 提示文本样式\n\t * @property {string} inputStyle 输入域样式\n\t * @property {string} borderColor 边框颜色（bordered时生效）\n\t * @property {string} focusedBorderColor 聚焦时边框颜色（bordered时生效）\n\t * @event {Function} change 输入时触发\n\t * @event {Function} focus 聚焦时触发\n\t * @event {Function} blur 失焦时触发\n\t * @event {Function} confirm 点击完成按钮触发\n\t * @event {Function} clear 点击清空按钮触发\n\t * @event {Function} click-icon 点击触发\n\t */\n\timport { InputProps } from './type';\n\timport { characterLimit, type CharacterLengthResult } from '@/uni_modules/lime-shared/characterLimit';\n\n\timport { useDrawBorder, DrawBorderOptions } from '@/uni_modules/lime-style/hairline'\n\n\t\n\tdefineOptions({\n\t\tbehaviors: ['wx://form-field']\n\t})\n\tconst emit = defineEmits(['change', 'update:modelValue' ,'focus', 'blur', 'confirm', 'clear', 'keyboardheightchange', 'nicknamereview' ,'click-icon'])\n\tconst props = withDefaults(defineProps<InputProps>(),{\n\t\tadjustPosition: true,\n\t\talign: 'left',\n\t\talwaysEmbed: false,\n\t\tautoFocus: false,\n\t\tbordered: true,\n\t\tclearTrigger: 'focus',\n\t\tclearable: false,\n\t\tconfirmHold: false,\n\t\tconfirmType: 'done',\n\t\tcursor: 0,\n\t\tcursorColor: '',\n\t\tcursorSpacing: 0,\n\t\tdisabled: false,\n\t\tfocus: false,\n\t\tholdKeyboard: false,\n\t\tlayout: 'horizontal',\n\t\tmaxlength: -1,\n\t\tplaceholder: '',\n\t\tplaceholderStyle: '',\n\t\treadonly: false,\n\t\tsafePasswordCertPath: '',\n\t\tsafePasswordCustomHash: '',\n\t\t// safePasswordLength: 0,\n\t\tsafePasswordNonce: '',\n\t\tsafePasswordSalt: '',\n\t\t// safePasswordTimeStamp: 0,\n\t\tselectionEnd: -1,\n\t\tselectionStart: -1,\n\t\tstatus: 'default',\n\t\t// suffixIcon: '',\n\t\ttype: 'text',\n\n\t\t// prefixIconSize: '44rpx',\n\t\t// suffixIconSize: '44rpx',\n\t\t// clearIconSize: '44rpx',\n\n\t\tclassic: false,\n\t\tfocused: false\n\t})\n\t\n\tconst formItemBlur = inject<(() => void)|null>('formItemBlur', null);\n\tconst formDisabled = inject<Ref<boolean|null>|null>('formDisabled', null)\n\tconst formReadonly = inject<Ref<boolean|null>|null>('formReadonly', null)\n\t\n\tconst calculateValue = (value: string|number):CharacterLengthResult => {\n\t\t// const _value =  typeof value == 'string' && props.type == 'number' ? parseFloat(value) : value\n\t\tconst { maxlength, maxcharacter } = props;\n\t\tif(maxcharacter != null && maxcharacter > 0) {\n\t\t\treturn characterLimit('maxcharacter', `${value}`, maxcharacter)\n\t\t} \n\t\t// else if(maxlength > 0) {\n\t\t// \treturn characterLimit('maxlength', value, maxlength)\n\t\t// }\n\t\treturn {\n\t\t\tcharacters: `${value}`,\n\t\t\tlength: `${value}`.length\n\t\t} as CharacterLengthResult\n\t}\n\tlet _innerValue = ref<string|number>('');\n\tconst innerFocused = ref(props.focus || props.focused);\n\t// const modelValue = defineModel({type: [String, Number], default: ''})\n\tconst innerValue = computed({\n\t\tset(value: string|number) {\n\t\t\t// modelValue.value = value;\n\t\t\t_innerValue.value = value;\n\t\t\temit('change', value)\n\t\t\temit('update:modelValue', value)\n\t\t},\n\t\tget():string|number {\n\t\t\tconst _value = props.value ?? props.modelValue\n\t\t\tif(_innerValue.value != _value && props.type != 'number') {\n\t\t\t\tconst { characters } = calculateValue(`${_value ?? _innerValue.value}`);\n\t\t\t\treturn characters\n\t\t\t}\n\t\t\treturn _value ?? _innerValue.value\n\t\t}\n\t} as WritableComputedOptions<string>)\n\t\n\tconst isDisabled = computed(():boolean => props.disabled || (formDisabled?.value ?? false))\n\tconst isReadonly = computed(():boolean => props.readonly || (formReadonly?.value ?? false))\n\t\n\tconst styles = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>()\n\n\n\n\n\n\n\n\n\t\treturn style\n\t})\n\tconst showClearIcon = computed(():boolean => {\n\t\tconst { clearTrigger, disabled, readonly } = props;\n\t\tif(disabled || readonly) {\n\t\t\treturn false\n\t\t}\n\t\treturn `${innerValue.value}`.length > 0 || clearTrigger == 'always' \n\t})\n\tconst onInput = (e: UniInputEvent) => {\n\t\tconst { value, cursor, keyCode } = e.detail;\n\t\tif(props.type == 'number') {\n\t\t\tconst _v:number = parseFloat(`${value}`)\n\t\t\t// @ts-ignore\n\t\t\tinnerValue.value = isNaN(_v) ? '' : _v;\n\t\t} else {\n\t\t\tconst { characters } = calculateValue(value);\n\t\t\tinnerValue.value = characters;\n\t\t}\n\t}\n\tconst onFocus = (event: UniInputFocusEvent) => {\n\t\tinnerFocused.value = true;\n\t\temit('focus', event)\n\t}\n\tconst onBlur = (event: UniInputBlurEvent) => {\n\t\tinnerFocused.value = false;\n\t\temit('blur', event)\n\t\tformItemBlur?.()\n\t}\n\tconst onConfirm = (event: UniInputConfirmEvent) => {\n\t\temit('confirm', event)\n\t}\n\tconst onKeyboardHeightChange = (event: UniInputKeyboardHeightChangeEvent) => {\n\t\temit('keyboardheightchange', event)\n\t}\n\tconst onNickNameReview = (event: any) => {\n\t\temit('nicknamereview', event)\n\t}\n\tconst clearInput = () => {\n\t\tinnerValue.value = '';\n\t\temit('clear')\n\t}\n\tconst onSuffixClick = () => {\n\t\temit('click-icon', { trigger: 'suffix' })\n\t}\n\tconst onSuffixIconClick = () => {\n\t\temit('click-icon', { trigger: 'suffix-icon' })\n\t}\n\twatchEffect(()=> {\n\t\tinnerFocused.value = props.focus || props.focused;\n\t})\n\n\tconst rootRef = ref<UniElement|null>(null);\n\tconst { clearBorder, color, renderBorder } = useDrawBorder(rootRef, \n\t\t{  \n\t\t\tdirection: 'bottom',\n\t\t\twatchSize: true,\n\t\t\tstartOffset: 16,\n\t\t\timmediate: false,\n\t\t\tcolor: props.borderColor \n\t\t} as DrawBorderOptions)\n\t\t\n\tonMounted(()=>{\n\t\twatchEffect(()=>{\n\t\t\t\n\t\t\tif(!props.classic) {\n\t\t\t\tif(props.borderColor != null && !innerFocused.value) {\n\t\t\t\t\trootRef.value?.style.setProperty('border-color', props.borderColor)\n\t\t\t\t}\n\t\t\t\tif(props.focusedBorderColor != null && innerFocused.value) {\n\t\t\t\t\trootRef.value?.style.setProperty('border-color', props.focusedBorderColor)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!props.bordered || props.classic) {\n\t\t\t\tclearBorder()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(props.borderColor != null) {\n\t\t\t\tcolor.value = props.borderColor!\n\t\t\t}\n\t\t\trenderBorder()\n\t\t})\n\t})\n\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n","// @ts-nocheck\r\n// #ifndef UNI-APP-X\r\ntype UTSJSONObject = Record<stirng, any>\r\n// #endif\r\n\r\nexport const parseToObject = (obj : any | null) : UTSJSONObject | null => {\r\n\tif (obj == null) return null\r\n\tif (typeof obj == 'string') {\r\n\t\treturn {\r\n\t\t\tcontent: obj as string\r\n\t\t}\r\n\t} else if (typeof obj == 'object') {\r\n\t\t// #ifndef UNI-APP-X\r\n\t\treturn obj as UTSJSONObject\r\n\t\t// #endif\r\n\t\t// #ifdef UNI-APP-X\r\n\t\t// #ifndef APP-ANDROID\r\n\t\treturn UTSJSONObject.assign({}, obj as UTSJSONObject)\r\n\t\t// #endif\r\n\t\t// #ifdef APP-ANDROID \r\n\t\treturn obj as UTSJSONObject\r\n\t\t// #endif\r\n\t\t// #endif\r\n\t}\r\n\treturn null\r\n}","<template>\r\n\t<l-popup \r\n\t\t:visible=\"innerValue\"\r\n\t\t:overlay=\"innerOptions.overlay ?? overlay\"\r\n\t\tbg-color=\"transparent\"\r\n\t\t:closeOnClickOverlay=\"innerOptions.closeOnClickOverlay ?? closeOnClickOverlay\"\r\n\t\t:preventScrollThrough=\"innerOptions.preventScrollThrough ?? preventScrollThrough\"\r\n\t\t:zIndex=\"zIndex ?? innerOptions.zIndex\"\r\n\t\t@change=\"overlayClick\"\r\n\t\tposition=\"center\">\r\n\t\t<view class=\"l-dialog\">\r\n\t\t\t<slot name=\"top\"></slot>\r\n\t\t\t<view class=\"l-dialog__close\" v-if=\"closeBtnProps\" @click=\"onClose('close')\">\r\n\t\t\t\t<l-icon class=\"l-dialog__close-icon\" name=\"close\" size=\"44rpx\"></l-icon>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"l-dialog__content\">\r\n\t\t\t\t<slot name=\"title\">\r\n\t\t\t\t\t<text v-if=\"innerTitle != null\" class=\"l-dialog__header\">{{title ?? innerOptions.title}}</text>\r\n\t\t\t\t</slot>\r\n\t\t\t\t<view class=\"l-dialog__body\" :class=\"{'l-dialog__body--gap': innerTitle != null || $slots['title'] != null}\">\r\n\t\t\t\t\t<slot>\r\n\t\t\t\t\t\t<text class=\"l-dialog__body-text\">{{innerOptions.content ?? content}}</text>\r\n\t\t\t\t\t</slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<slot name=\"middle\"></slot>\r\n\t\t\t<view class=\"l-dialog__footer\" :class=\"[\r\n\t\t\t\t'l-dialog__footer--' + innerButtonLayout, {\r\n\t\t\t\t'l-dialog__footer--column': innerButtonLayout == 'vertical',\r\n\t\t\t\t'l-dialog__footer--full': buttonVariant,\r\n\t\t\t}]\">\r\n\t\t\t\t<slot name=\"actions\">\r\n\t\t\t\t\t<template v-if=\"innerActions != null\">\r\n\t\t\t\t\t\t<l-button \r\n\t\t\t\t\t\t\tclass=\"l-dialog__button\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'l-dialog__button--' + innerButtonLayout,{\r\n\t\t\t\t\t\t\t\t\t'l-dialog__button--text': buttonVariant,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tv-for=\"(action, index) in innerActions!\" :key=\"index\"\r\n\t\t\t\t\t\t\t:style=\"[\r\n\t\t\t\t\t\t\t\tbuttonStyle,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'margin-left': innerButtonLayout == 'horizontal' && !buttonVariant && index > 0? '20rpx': '0',\r\n\t\t\t\t\t\t\t\t\t'margin-bottom': innerButtonLayout == 'vertical' && !buttonVariant && index > 0 ?'20rpx': '0',\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t:block=\"action.getBoolean('block') ?? false\"\r\n\t\t\t\t\t\t\t:disabled=\"action.getBoolean('disabled') ?? false\"\r\n\t\t\t\t\t\t\t:data-extra=\"index\"\r\n\t\t\t\t\t\t\t:content=\"action.getString('content') ?? ''\"\r\n\t\t\t\t\t\t\t:icon=\"action.getString('icon') ?? ''\"\r\n\t\t\t\t\t\t\t:loading=\"action.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t\t:type=\"action.getString('type') ?? 'primary'\"\r\n\t\t\t\t\t\t\t:ghost=\"action.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t\t:shape=\"action.getString('shape') ?? 'rectangle'\"\r\n\t\t\t\t\t\t\t:size=\"action.getString('size') ?? 'medium'\"\r\n\t\t\t\t\t\t\t:variant=\"action.getString('variant')\"\r\n\t\t\t\t\t\t\t:open-type=\"action.getString('openType') ?? ''\"\r\n\t\t\t\t\t\t\t:color=\"action.getString('color')\"\r\n\t\t\t\t\t\t\t:textColor=\"action.getString('textColor')\"\r\n\t\t\t\t\t\t\t:fontSize=\"action.getString('fontSize')\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t:hover-stop-propagation=\"action.getBoolean('hoverStopPropagation') ?? false\"\r\n\t\t\t\t\t\t\t:hover-start-time=\"action.getNumber('hoverStartTime') ?? 20\"\r\n\t\t\t\t\t\t\t:hover-stay-time=\"action.getNumber('hoverStayTime') ?? 70\"\r\n\t\t\t\t\t\t\t:lang=\"action.getString('lang') ?? 'en'\"\r\n\t\t\t\t\t\t\t:session-from=\"action.getString('sessionFrom') ?? ''\"\r\n\t\t\t\t\t\t\t:send-message-title=\"action.getString('sendMessageTitle') ?? ''\"\r\n\t\t\t\t\t\t\t:send-message-path=\"action.getString('sendMessagePath') ?? ''\"\r\n\t\t\t\t\t\t\t:send-message-img=\"action.getString('sendMessageImg') ?? ''\"\r\n\t\t\t\t\t\t\t:app-parameter=\"action.getString('appParameter') ?? ''\"\r\n\t\t\t\t\t\t\t:show-message-card=\"action.getBoolean('showMessageCard') ?? false\"\r\n\t\t\t\t\t\t\t@click=\"onTplButtonTap('action', index)\"\r\n\t\t\t\t\t\t\t@getuserinfo=\"getuserinfo\"\r\n\t\t\t\t\t\t\t@contact=\"contact\" \r\n\t\t\t\t\t\t\t@getphonenumber=\"getphonenumber\"\r\n\t\t\t\t\t\t\t@error=\"error\" \r\n\t\t\t\t\t\t\t@opensetting=\"opensetting\" \r\n\t\t\t\t\t\t\t@launchapp=\"launchapp\" \r\n\t\t\t\t\t\t\t@agreeprivacyauthorization=\"agreeprivacyauthorization\">\r\n\t\t\t\t\t\t\t{{action['content']}}\r\n\t\t\t\t\t\t</l-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</slot>\r\n\t\t\t\t<slot name=\"cancel-btn\">\r\n\t\t\t\t\t<l-button \r\n\t\t\t\t\t\tclass=\"l-dialog__button\"\r\n\t\t\t\t\t\t:style=\"[buttonStyle]\"\r\n\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t'l-dialog__button--' + innerButtonLayout,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'l-dialog__button--text': buttonVariant\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\tv-if=\"cancelBtnProps != null\"\r\n\t\t\t\t\t\t:block=\"cancelBtnProps?.getBoolean('block') ?? false\"\r\n\t\t\t\t\t\t:disabled=\"cancelBtnProps?.getBoolean('disabled') ?? false\"\r\n\t\t\t\t\t\t:content=\"cancelBtnProps?.getString('content') ?? ''\"\r\n\t\t\t\t\t\t:icon=\"cancelBtnProps?.getString('icon') ?? ''\"\r\n\t\t\t\t\t\t:loading=\"cancelBtnProps?.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t:type=\"cancelBtnProps?.getString('type') ?? 'primary'\"\r\n\t\t\t\t\t\t:ghost=\"cancelBtnProps?.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t:shape=\"cancelBtnProps?.getString('shape') ?? 'rectangle'\"\r\n\t\t\t\t\t\t:size=\"cancelBtnProps?.getString('size') ?? 'medium'\"\r\n\t\t\t\t\t\t:variant=\"cancelBtnProps?.getString('variant') ?? 'light'\"\r\n\t\t\t\t\t\t:open-type=\"cancelBtnProps?.getString('openType')\"\r\n\t\t\t\t\t\t:color=\"cancelBtnProps?.getString('color')\"\r\n\t\t\t\t\t\t:textColor=\"cancelBtnProps?.getString('textColor')\"\r\n\t\t\t\t\t\t:fontSize=\"cancelBtnProps?.getString('fontSize')\"\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t:hover-stop-propagation=\"cancelBtnProps?.getBoolean('hoverStopPropagation') ?? false\"\r\n\t\t\t\t\t\t:hover-start-time=\"cancelBtnProps?.getNumber('hoverStartTime') ?? 20\"\r\n\t\t\t\t\t\t:hover-stay-time=\"cancelBtnProps?.getNumber('hoverStayTime') ?? 70\"\r\n\t\t\t\t\t\t:lang=\"cancelBtnProps?.getString('lang') ?? 'en'\"\r\n\t\t\t\t\t\t:session-from=\"cancelBtnProps?.getString('sessionFrom') ?? ''\"\r\n\t\t\t\t\t\t:send-message-title=\"cancelBtnProps?.getString('sendMessageTitle') ?? ''\"\r\n\t\t\t\t\t\t:send-message-path=\"cancelBtnProps?.getString('sendMessagePath') ?? ''\"\r\n\t\t\t\t\t\t:send-message-img=\"cancelBtnProps?.getString('sendMessageImg') ?? ''\"\r\n\t\t\t\t\t\t:app-parameter=\"cancelBtnProps?.getString('appParameter') ?? ''\"\r\n\t\t\t\t\t\t:show-message-card=\"cancelBtnProps?.getBoolean('showMessageCard') ?? false\"\r\n\t\t\t\t\t\t@click=\"onTplButtonTap('cancel', null)\"\r\n\t\t\t\t\t\t@getuserinfo=\"getuserinfo\"\r\n\t\t\t\t\t\t@contact=\"contact\" \r\n\t\t\t\t\t\t@getphonenumber=\"getphonenumber\"\r\n\t\t\t\t\t\t@error=\"error\" \r\n\t\t\t\t\t\t@opensetting=\"opensetting\" \r\n\t\t\t\t\t\t@launchapp=\"launchapp\" \r\n\t\t\t\t\t\t@agreeprivacyauthorization=\"agreeprivacyauthorization\"\r\n\t\t\t\t\t\t>{{cancelBtnProps?.getString('content')}}</l-button> \r\n\t\t\t\t</slot>\r\n\t\t\t\t<slot name=\"confirm-btn\">\r\n\t\t\t\t\t<l-button \r\n\t\t\t\t\t\tclass=\"l-dialog__button\"\r\n\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t'l-dialog__button--' + innerButtonLayout,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'l-dialog__button--text': buttonVariant\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t:style=\"[\r\n\t\t\t\t\t\t\tbuttonStyle,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'margin-left': (cancelBtnProps != null) && innerButtonLayout == 'horizontal' && !buttonVariant ? '24rpx': '0',\r\n\t\t\t\t\t\t\t\t'margin-bottom': (cancelBtnProps != null) && innerButtonLayout == 'vertical' && !buttonVariant ? '24rpx': '0',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\tdata-type=\"confirm\" \r\n\t\t\t\t\t\tv-if=\"confirmBtnProps != null\"\r\n\t\t\t\t\t\t:block=\"confirmBtnProps?.getBoolean('block') ?? false\"\r\n\t\t\t\t\t\t:disabled=\"confirmBtnProps?.getBoolean('disabled') ?? false\"\r\n\t\t\t\t\t\t:content=\"confirmBtnProps?.getString('content') ?? ''\"\r\n\t\t\t\t\t\t:icon=\"confirmBtnProps?.getString('icon') ?? ''\"\r\n\t\t\t\t\t\t:loading=\"confirmBtnProps?.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t:type=\"confirmBtnProps?.getString('type') ?? 'primary'\"\r\n\t\t\t\t\t\t:ghost=\"confirmBtnProps?.getBoolean('loading') ?? false\"\r\n\t\t\t\t\t\t:shape=\"confirmBtnProps?.getString('shape') ?? 'rectangle'\"\r\n\t\t\t\t\t\t:size=\"confirmBtnProps?.getString('size') ?? 'medium'\"\r\n\t\t\t\t\t\t:variant=\"confirmBtnProps?.getString('variant') ?? 'solid'\"\r\n\t\t\t\t\t\t:open-type=\"confirmBtnProps?.getString('openType')\"\r\n\t\t\t\t\t\t:color=\"confirmBtnProps?.getString('color')\"\r\n\t\t\t\t\t\t:textColor=\"confirmBtnProps?.getString('textColor')\"\r\n\t\t\t\t\t\t:fontSize=\"confirmBtnProps?.getString('fontSize')\"\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t:hover-stop-propagation=\"confirmBtnProps?.getBoolean('hoverStopPropagation') ?? false\"\r\n\t\t\t\t\t\t:hover-start-time=\"confirmBtnProps?.getNumber('hoverStartTime') ?? 20\"\r\n\t\t\t\t\t\t:hover-stay-time=\"confirmBtnProps?.getNumber('hoverStayTime') ?? 70\"\r\n\t\t\t\t\t\t:lang=\"confirmBtnProps?.getString('lang') ?? 'en'\"\r\n\t\t\t\t\t\t:session-from=\"confirmBtnProps?.getString('sessionFrom') ?? ''\"\r\n\t\t\t\t\t\t:send-message-title=\"confirmBtnProps?.getString('sendMessageTitle') ?? ''\"\r\n\t\t\t\t\t\t:send-message-path=\"confirmBtnProps?.getString('sendMessagePath') ?? ''\"\r\n\t\t\t\t\t\t:send-message-img=\"confirmBtnProps?.getString('sendMessageImg') ?? ''\"\r\n\t\t\t\t\t\t:app-parameter=\"confirmBtnProps?.getString('appParameter') ?? ''\"\r\n\t\t\t\t\t\t:show-message-card=\"confirmBtnProps?.getBoolean('showMessageCard') ?? false\"\r\n\t\t\t\t\t\t@click=\"onTplButtonTap('confirm', null)\"\r\n\t\t\t\t\t\t@getuserinfo=\"getuserinfo\"\r\n\t\t\t\t\t\t@contact=\"contact\" \r\n\t\t\t\t\t\t@getphonenumber=\"getphonenumber\"\r\n\t\t\t\t\t\t@error=\"error\" \r\n\t\t\t\t\t\t@opensetting=\"opensetting\" \r\n\t\t\t\t\t\t@launchapp=\"launchapp\" \r\n\t\t\t\t\t\t@agreeprivacyauthorization=\"agreeprivacyauthorization\"\r\n\t\t\t\t\t\t>{{confirmBtnProps?.getString('content')}}</l-button> \r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</l-popup>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * Dialog 弹窗组件\r\n\t * @description 用于显示模态对话框的通用组件\r\n\t * <br> 插件类型：LDialogComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-dialog\r\n\t * \r\n\t * @property {UTSJSONObject[]} actions 操作按钮列表（最多显示6个）\r\n\t * @property {'horizontal'|'vertical'} buttonLayout [buttonLayout=horizontal] 按钮排列方式\r\n\t * @value horizontal 水平排列\r\n\t * @value vertical 垂直排列\r\n\t * @property {string|Object} cancelBtn 取消按钮配置（null隐藏/string文本/Object按钮属性）\r\n\t * @property {boolean} closeBtn 是否显示关闭按钮\r\n\t * @property {boolean} closeOnClickOverlay 点击蒙层关闭\r\n\t * @property {string|Object} confirmBtn 确认按钮配置（null隐藏/string文本/Object按钮属性）\r\n\t * @property {string} content 弹窗内容（支持HTML）\r\n\t * @property {string}  overlayStyle 遮罩层样式（支持CSS字符串）\r\n\t * @property {boolean} preventScrollThrough 防止滚动穿透\r\n\t * @property {boolean} overlay 是否显示遮罩\r\n\t * @property {string} title 弹窗标题\r\n\t * @property {boolean} visible 控制显示状态\r\n\t * @property {number} zIndex 层级设置\r\n\t * @property {string} lStyle 自定义根节点样式\r\n\t * @event {Function} action 操作按钮点击时触发\r\n\t * @param {number} index 点击的按钮索引\r\n\t * @event {Function} confirm 确认按钮点击时触发\r\n\t * @event {Function} cancel 取消/关闭按钮点击时触发\r\n\t * @event {Function} click 通用点击事件（透传底层点击）\r\n\t * @event {Function} agreeprivacyauthorization 用户同意隐私协议时触发（需配置隐私协议）\r\n\t * @event {Function} chooseavatar 用户选择头像时触发（需启用头像选择功能）\r\n\t * @event {Function} getuserinfo 用户授权信息回调\r\n\t * @event {Function} contact 客服消息回调\r\n\t * @event {Function} getphonenumber 获取用户手机号回调\r\n\t * @event {Function} error 发生错误时触发\r\n\t * @param {Object} detail 错误详细信息\r\n\t * @event {Function} opensetting 用户打开系统设置时触发\r\n\t * @event {Function} launchapp 从小程序唤醒App时触发\r\n\t */\r\n\t\r\n\timport { DialogProps, DialogOptions, DialogExpose, BeforeClose } from './type';\r\n\timport { parseToObject } from './utils';\r\n\timport { isPromise } from '@/uni_modules/lime-shared/isPromise'\r\n\t\r\n\tconst emit = defineEmits(['action', 'confirm', 'cancel', 'click','agreeprivacyauthorization', 'chooseavatar', 'getuserinfo','contact', 'getphonenumber', 'error', 'opensetting', 'launchapp'])\r\n\tconst props = withDefaults(defineProps<DialogProps>(),{\r\n\t\tbuttonLayout: 'horizontal',\r\n\t\tcloseOnClickOverlay: true,\r\n\t\tpreventScrollThrough: true,\r\n\t\toverlay: true\r\n\t})\r\n\tconst dialogCallbacks = reactive({\r\n\t\tbeforeClose: null,\r\n\t\tonAction: null,\r\n\t\tonConfirm: null,\r\n\t\tonCancel: null,\r\n\t} as DialogExpose)\r\n\tconst innerOptions = reactive<DialogOptions>({\r\n\t\tactions: props.actions,\r\n\t\tbuttonLayout: props.buttonLayout,\r\n\t\tcancelBtn: props.cancelBtn,\r\n\t\tcloseBtn: props.closeBtn,\r\n\t\tcloseOnClickOverlay: props.closeOnClickOverlay,\r\n\t\tconfirmBtn: props.confirmBtn,\r\n\t\tcontent: props.content,\r\n\t\toverlayStyle: props.overlayStyle,\r\n\t\tpreventScrollThrough: props.preventScrollThrough,\r\n\t\toverlay: props.overlay,\r\n\t\ttitle: props.title,\r\n\t\tvisible: props.visible,\r\n\t\tzIndex: props.zIndex,\r\n\t})\r\n\t\r\n\t\r\n\tconst modelValue = defineModel({type: Boolean, default: false});\r\n\tconst innerValue = computed({\r\n\t\tset(value: boolean) {\r\n\t\t\tmodelValue.value = value;\r\n\t\t\tif(!value) {\r\n\t\t\t\tdialogCallbacks.beforeClose = null;\r\n\t\t\t\tdialogCallbacks.onConfirm = null;\r\n\t\t\t\tdialogCallbacks.onCancel = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tget(): boolean {\r\n\t\t\treturn (props.visible ?? false) || modelValue.value\r\n\t\t},\r\n\t} as WritableComputedOptions<boolean>);\r\n\t\r\n\tconst closeBtnProps = computed((): boolean=>{\r\n\t\treturn innerOptions.closeBtn ?? props.closeBtn ??  false\r\n\t})\r\n\tconst cancelBtnProps = computed(():UTSJSONObject | null => {\r\n\t\treturn parseToObject(props.cancelBtn ?? innerOptions.cancelBtn)\r\n\t})\r\n\tconst confirmBtnProps = computed(():UTSJSONObject | null => {\r\n\t\treturn parseToObject(props.confirmBtn ?? innerOptions.confirmBtn)\r\n\t})\r\n\t\r\n\tconst innerTitle = computed(():string|null => props.title ?? innerOptions.title)\r\n\tconst innerButtonLayout = computed(():string => innerOptions.buttonLayout ?? props.buttonLayout)\r\n\tconst innerActions = computed(():UTSJSONObject[]|null => {\r\n\t\treturn props.actions ?? innerOptions.actions\r\n\t})\r\n\tconst buttonVariant = computed(():boolean=> {\r\n\t\tconst res1 = [confirmBtnProps.value, cancelBtnProps.value].some((item):boolean => {\r\n\t\t\treturn item?.['variant'] == 'text'\r\n\t\t})\r\n\t\tconst res2 = innerActions.value?.some((item):boolean => {\r\n\t\t\treturn item['variant'] == 'text'\r\n\t\t})\r\n\t\t\r\n\t\treturn res1 || (res2 ?? false)\r\n\t})\r\n\t\r\n\tconst buttonStyle = computed(():Map<string, any> => {\r\n\t\tconst style = new Map<string, any>();\r\n\t\tif(innerButtonLayout.value == 'horizontal') {\r\n\t\t\tstyle.set('flex-grow', 1)\r\n\t\t\t// style.set('flex', 1)\r\n\t\t} else {\r\n\t\t\tstyle.set('flex-grow', 0)\r\n\t\t}\r\n\t\tstyle.set('padding', 0);\r\n\t\tif(buttonVariant.value) {\r\n\t\t\t//$border-color-2\r\n\t\t\tstyle.set('border-top', `1px solid #e7e7e7`)\r\n\t\t\tstyle.set('border-radius', '0')\r\n\t\t\tstyle.set('border-left', `1px solid #e7e7e7`)\r\n\t\t}\r\n\t\treturn style\r\n\t})\r\n\t\r\n\tconst onClose = (type: string) => {\r\n\t\tif(dialogCallbacks.beforeClose != null) {\r\n\t\t\tdialogCallbacks.beforeClose!(type).then((res)=>{\r\n\t\t\t\tinnerValue.value = false;\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tinnerValue.value = false\r\n\t}\r\n\tconst onTplButtonTap = (type: string, extra:number|null) => {\r\n\t\tif(type == 'confirm') {\r\n\t\t\temit('confirm')\r\n\t\t\tif(dialogCallbacks.onConfirm!= null) {\r\n\t\t\t\tdialogCallbacks.onConfirm!(null)\r\n\t\t\t\tonClose('confirm')\r\n\t\t\t}\r\n\t\t} else if(type == 'cancel') {\r\n\t\t\temit('cancel')\r\n\t\t\tif(dialogCallbacks.onCancel!= null) {\r\n\t\t\t\tdialogCallbacks.onCancel!(true)\r\n\t\t\t\tonClose('cancel')\r\n\t\t\t}\r\n\t\t} else if(type == 'action' && extra != null) {\r\n\t\t\temit('action', extra)\r\n\t\t\tif(dialogCallbacks.onAction != null) {\r\n\t\t\t\t// dialogCallbacks.onAction!(extra)\r\n\t\t\t\tdialogCallbacks.onAction!(extra)\r\n\t\t\t\tonClose('action')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst getuserinfo = (e: UniEvent) => {\r\n\t\temit('getuserinfo', e);\r\n\t}\r\n\tconst contact = (e: UniEvent) => {\r\n\t\temit('contact', e);\r\n\t}\r\n\tconst getphonenumber = (e: UniEvent) => {\r\n\t\temit('getphonenumber', e);\r\n\t}\r\n\tconst error = (e: UniEvent) => {\r\n\t\temit('error', e);\r\n\t}\r\n\tconst opensetting = (e: UniEvent) => {\r\n\t\temit('opensetting', e);\r\n\t}\r\n\tconst launchapp = (e: UniEvent) => {\r\n\t\temit('launchapp', e);\r\n\t}\r\n\tconst chooseavatar = (e: UniEvent) => {\r\n\t\temit('chooseavatar', e);\r\n\t}\r\n\tconst agreeprivacyauthorization = (e: UniEvent) => {\r\n\t\temit('agreeprivacyauthorization', e);\r\n\t}\r\n\t\r\n\tconst overlayClick = () => {\r\n\t\tif(props.closeOnClickOverlay) {\r\n\t\t\tonClose('cancel')\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst _updateOptions = (options: UTSJSONObject) => {\r\n\t\tinnerOptions.actions = options.getArray<UTSJSONObject>('actions') ?? props.actions\r\n\t\tinnerOptions.buttonLayout = options.getString('buttonLayout') ?? props.buttonLayout\r\n\t\tconst maxLengthSuggestion = innerOptions.buttonLayout == 'vertical' ? 7 : 3;\r\n\t\tif(innerOptions.actions != null && (innerOptions.actions!.length == 0 || innerOptions.actions!.length > maxLengthSuggestion)) {\r\n\t\t\tuni.__log__('warn','at uni_modules/lime-dialog/components/l-dialog/l-dialog.uvue:390',`action 数量建议控制在1至${maxLengthSuggestion}个`);\r\n\t\t}\r\n\t\tinnerOptions.cancelBtn =  options['cancelBtn'] ?? props.cancelBtn\r\n\t\tinnerOptions.closeBtn = options.getBoolean('closeBtn') ?? props.closeBtn\r\n\t\tinnerOptions.closeOnClickOverlay =  options.getBoolean('closeOnClickOverlay') ?? props.closeOnClickOverlay\r\n\t\tinnerOptions.confirmBtn = options.get('confirmBtn') ?? props.confirmBtn\r\n\t\tinnerOptions.content = options.getString('content') ?? props.content\r\n\t\tinnerOptions.overlayStyle = options.getString('overlayStyle') ?? props.overlayStyle\r\n\t\tinnerOptions.preventScrollThrough =  options.getBoolean('preventScrollThrough') ?? props.preventScrollThrough\r\n\t\tinnerOptions.overlay = options.getBoolean('overlay') ?? props.overlay\r\n\t\tinnerOptions.title = options.getString('title') ?? props.title\r\n\t\t// innerOptions.visible = options..visible\r\n\t\tinnerOptions.zIndex = options.getNumber('zIndex') ?? props.zIndex\r\n\t}\r\n\t// const _alert = (options: UTSJSONObject) => {}\r\n\t// const _confirm = (options: UTSJSONObject) => {}\r\n\tconst _show = (options: UTSJSONObject):Promise<number|null> => {\r\n\t\t_updateOptions(options)\r\n\t\tinnerValue.value = true;\r\n\t\ttry {\r\n\t\t\tconst beforeClose = options['beforeClose']\r\n\t\t\tif(typeof beforeClose == 'function') {\r\n\t\t\t\tdialogCallbacks.beforeClose = beforeClose as BeforeClose\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch(err) {\r\n\t\t\tuni.__log__('warn','at uni_modules/lime-dialog/components/l-dialog/l-dialog.uvue:416',err)\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tdialogCallbacks.onConfirm = resolve;\r\n\t\t\tdialogCallbacks.onAction = resolve;\r\n\t\t\tdialogCallbacks.onCancel = reject;\r\n\t\t})\r\n\t}\r\n\tconst _close = () => {\r\n\t\tinnerValue.value = false\r\n\t}\r\n\t// const _action = (options: UTSJSONObject) => {}\r\n\t\r\n\t\r\n\tdefineExpose({\r\n\t\t// dialogCallbacks,\r\n\t\t// alert: _alert,\r\n\t\tclose: _close,\r\n\t\t// action: _action,\r\n\t\t// confirm: _confirm,\r\n\t\tshow: _show,\r\n\t})\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import './index';\r\n</style>\r\n","<template>\n\t<view class=\"container\">\n\t\t<TopNavBar :showBack=\"true\" title=\"设备设置\" @back=\"goBack\" />\n\t\t<view class=\"device-box\">\n\t\t\t<image class=\"device-img\" src=\"@/static/vedio.png\" mode=\"aspectFill\" />\n\t\t\t<view class=\"device-info\">\n\t\t\t\t<view class=\"device-name-box\">\n\t\t\t\t\t<text>设备名称</text>\n\t\t\t\t\t<l-icon name=\"round-filled\" color=\"#e8782eff\" size=\"18\" />\n\t\t\t\t\t<l-icon style=\"margin-left: 50rpx;\" name=\"edit\" color=\"#333\" size=\"18\" @click=\"editName\" />\n\t\t\t\t</view>\n\t\t\t\t<view>\n\t\t\t\t\t<view class=\"model-uid\">\n\t\t\t\t\t\t<text>型号</text>\n\t\t\t\t\t\t<text class=\"model-uid-text\">YY-1234567</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"model-uid\">\n\t\t\t\t\t\t<text>UID</text>\n\t\t\t\t\t\t<view class=\"model-uid\">\n\t\t\t\t\t\t\t<text class=\"model-uid-text\">YY-1234567</text>\n\t\t\t\t\t\t\t<l-icon name=\"file-copy\" color=\"#999\" size=\"16\" @click=\"copyUid\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"network\">网络 中国电信</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"device-list-box\">\n\t\t\t<view class=\"item\" @click=\"goDeviceSettingInfo\">\n\t\t\t\t<text>设备设置</text>\n\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t</view>\n\t\t\t<view class=\"traffic\" @click=\"goTrafficRecharge\">\n\t\t\t\t<view class=\"item\">\n\t\t\t\t\t<text>流量充值</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"date\">\n\t\t\t\t\t<text class=\"word\">已用80G(80%)</text>\n\t\t\t\t\t<text class=\"word\">2025-8-10到期</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"item\" @click=\"goIntelligentWatch\">\n\t\t\t\t<text>智能侦测</text>\n\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t</view>\n\t\t\t<view class=\"item\" @click=\"goTfCardSetting\">\n\t\t\t\t<text>TF卡设置</text>\n\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t</view>\n\t\t\t<view class=\"item\" @click=\"goCloudStorageSetting\">\n\t\t\t\t<text>云存储设置</text>\n\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t</view>\n\t\t\t<view class=\"item nounderline\">\n\t\t\t\t<text>存储管理</text>\n\t\t\t\t<fui-icon name=\"arrowright\" color=\"#111\" size=\"40\" />\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"btn-box\">\n\t\t\t<fui-button text=\"删除设备\" height=\"80rpx\" background=\"#fff\" color=\"red\" @click=\"deleteDevice\" />\n\t\t</view>\n\t\t<l-dialog  \n\t\t\tv-model=\"showEditName\"\n\t\t\ttitle=\"修改设备名称\"\n\t\t\t:cancel-btn=\"{ content: '取消', variant: 'text', size: 'large', type: 'default'}\"\n\t\t\t:confirm-btn=\"{ content: '确认', variant: 'text', size: 'large'}\"\n\t\t\t@confirm=\"changeName\"\n\t\t\t@cancel=\"showEditName = false\">\n\t\t\t<l-input placeholder=\"请输入设备新名称\" v-model=\"newName\" l-style=\"background: #f3f3f3; margin-top:16px; padding-top:12px;padding:12px\"></l-input>\n\t\t</l-dialog>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\timport TopNavBar from '@/components/TopNavBar'\n\tconst showEditName = ref(false)\n\tconst newName = ref('')\n\n\tconst goBack = () =>{\n\t\tuni.navigateBack({\n\t\t\tdelta: 1,\n\t\t})\n\t}\n\n\tconst editName = () => {\n\t\tshowEditName.value = true\n\t}\n\n\tconst changeName = () => {\n\t\tuni.showToast({\n\t\t\ttitle: newName.value,\n\t\t})\n\t\tshowEditName.value = false\n\t}\n\n\tconst onClose = () => {\n\t\tshowEditName.value = false\n\t}\n\n\tconst copyUid = () => {\n\t\tuni.setClipboardData({\n\t\t\tdata: '123456',\n\t\t\tsuccess: function () {\n\t\t\t\tuni.showToast({\n\t\t\t\t\t'title': '复制成功'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tconst goDeviceSettingInfo = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceSettingInfo/deviceSettingInfo',\n\t\t})\n\t}\n\n\tconst goTrafficRecharge = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceRechargeData',\n\t\t})\n\t}\n\n\tconst goIntelligentWatch = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/intelligentWatch',\n\t\t})\n\t}\n\n\tconst goTfCardSetting = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/TFCardSetting',\n\t\t})\n\t}\n\n\tconst goCloudStorageSetting = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/cloudStorageSetting',\n\t\t})\n\t}\n\n\tconst deleteDevice = () => {\n\t\tuni.showModal({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确认删除设备吗？',\n\t\t\tcancelText: '取消',\n\t\t\tconfirmText: '删除',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tuni.__log__('log','at pages/index/deviceSetting.uvue:151','用户点击了确定')\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 0 20rpx;\n\t\t.device-box{\n\t\t\tmargin-top: 20rpx;\n\t\t\tpadding:20rpx;\n\t\t\tbackground-color:#fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: flex-start;\n\t\t\t.device-img{\n\t\t\t\twidth: 200rpx;\n\t\t\t\theight: 200rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tmargin-right: 20rpx;\n\t\t\t}\n\t\t\t.device-info{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: flex-start;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\t.device-name-box{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t.model-uid{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tpadding: 5rpx 0;\n\t\t\t\t\t.model-uid-text{\n\t\t\t\t\t\tmargin-left: 30rpx;\n\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.network{\n\t\t\t\t\tcolor: #999;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.device-list-box{\n\t\t\tmargin-top: 20rpx;\n\t\t\tpadding: 20rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.item{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 30rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t}\n\t\t\t.traffic{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t.item{\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t}\n\t\t\t\t.date{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t.word{\n\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.nounderline{\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\t\t}\n\n\t\t.btn-box{\n\t\t\tmargin-top: 80rpx;\n\t\t}\n\t}\t\n</style>\n","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"video-container\">\r\n\t\t\t<video id=\"myVideo\" :src=\"videoSrc\" :controls=\"true\" class=\"video-player\" @timeupdate=\"onTimeUpdate\"\r\n\t\t\t\t@play=\"onPlay\" @pause=\"onPause\" @seeked=\"onSeeked\" :autoplay=\"true\" @loadedmetadata=\"onVideoLoaded\"></video>\r\n\t\t</view>\r\n\t\t<view class=\"time-ruler-container\">\r\n\t\t\t<scroll-view class=\"time-ruler-scroll\" scroll-x :scroll-left=\"timeScrollLeft\" scroll-with-animation\r\n\t\t\t\t@scroll=\"onTimeScroll\">\r\n\t\t\t\t<view class=\"time-ruler\" :style=\"{ width: rulerWidth + 'px' }\" @touchstart=\"onTouchStart\"\r\n\t\t\t\t\t@touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n\t\t\t\t\t<view v-for=\"(mark, index) in timeMarks\" :key=\"'mark-' + index\" :class=\"['time-mark', mark.type]\"\r\n\t\t\t\t\t\t:style=\"{ left: mark.position + 'px' }\" @click=\"seekToPosition(mark.time)\">\r\n\t\t\t\t\t\t<text v-if=\"mark.type === 'major'\" class=\"mark-label\"></text>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-for=\"(event, index) in filteredEvents\" :key=\"'event-'+index\" \r\n\t\t\t\t\t\tclass=\"event-marker\"\r\n\t\t\t\t\t\t:style=\"{ left: getEventPosition(event) + 'px' }\"\r\n\t\t\t\t\t\t@click.stop=\"seekToEvent(event)\">\r\n\t\t\t\t\t\t<view :class=\"['event-dot', event.type]\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"playhead\" :style=\"{ left: playheadPosition + 'px'}\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<view class=\"date-list\">\r\n\t\t\t<view v-for=\"(date, index) in dateList\" :key=\"index\"\r\n\t\t\t\t:class=\"['date-item', activeDate === date ? 'active' : '']\" @click=\"selectDate(date)\">\r\n\t\t\t\t{{ date }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"filter-bar\">\r\n\t\t\t<view v-for=\"filter in filters\" :key=\"filter.value\"\r\n\t\t\t\t:class=\"['filter-item', activeFilter === filter.value ? 'active' : '']\"\r\n\t\t\t\t@click=\"selectFilter(filter.value as string)\">\r\n\t\t\t\t{{ filter.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref, computed, onMounted, getCurrentInstance } from 'vue'\r\n\r\n\tclass EventType {\r\n\t\tdate : string;\r\n\t\ttime : string;\r\n\t\ttype : string;\r\n\r\n\t\tconstructor(date : string, time : string, type : string) {\r\n\t\t\tthis.date = date;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\t// 计算时间刻度\r\n\ttype TimeMark = {\r\n\t\ttime : number\r\n\t\tposition : number\r\n\t\ttype : string\r\n\t}\r\n\t// 响应式状态\r\n\tconst currentDate = ref('2024-10-21')\r\n\tconst currentTime = ref('00:00:00')\r\n\tconst activeDate = ref('10-21')\r\n\tconst activeFilter = ref('all')\r\n\tconst videoSrc = ref('https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst isSeeking = ref(false)\r\n\tconst timeScrollLeft = ref(0)\r\n\tconst playheadPosition = ref(0)\r\n\tconst videoDuration = ref(0)\r\n\tconst lastSyncTime = ref(0)\r\n\tconst isDragging = ref(false)\r\n\tconst startX = ref(0)\r\n\tconst startScrollLeft = ref(0)\r\n\tconst lastDragTime = ref(0)\r\n\tconst manualScrollPosition = ref(0)\r\n\tconst draggedTimeInSeconds = ref(0)\r\n\r\n\r\n\t// 常量配置\r\n\tconst dateList = ['10-21', '10-22', '10-23', '10-24', '10-25', '10-26']\r\n\tconst filters = [\r\n\t\t{ label: '只看报警', value: 'alarm' },\r\n\t\t{ label: '移动侦测', value: 'motion' },\r\n\t\t{ label: '人形侦测', value: 'human' },\r\n\t\t{ label: '全部', value: 'all' }\r\n\t]\r\n\r\n\t// 模拟事件数据\r\n\tconst events = ref<EventType[]>([\r\n\t\t{ date: '10-21', time: '00:00:10', type: 'alarm' },\r\n\t\t{ date: '10-21', time: '00:00:30', type: 'motion' },\r\n\t\t{ date: '10-21', time: '00:01:45', type: 'human' },\r\n\t\t{ date: '10-21', time: '00:01:20', type: 'alarm' }\r\n\t])\r\n\r\n\t// 计算属性\r\n\tconst rulerWidth = computed(() => {\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\treturn systemInfo.windowWidth\r\n\t})\r\n\r\n\r\n\t// 时间字符串转秒数\r\n\tconst convertTimeToSeconds = (timeStr : string) => {\r\n\t\tconst parts = timeStr.split(':')\r\n\t\tconst h = parseInt(parts[0])\r\n\t\tconst m = parseInt(parts[1])\r\n\t\tconst s = parts.length > 2 ? parseInt(parts[2]) : 0\r\n\t\treturn h * 3600 + m * 60 + s\r\n\t}\r\n\r\n\tconst timeMarks = computed<TimeMark[]>(() => {\r\n\t\tconst marks = [] as TimeMark[]\r\n\t\tconst duration = videoDuration.value\r\n\t\tif (duration == 0) return marks\r\n\r\n\t\tlet majorInterval : number\r\n\t\tif (duration <= 60) { \r\n\t\t\tmajorInterval = 10\r\n\t\t} else if (duration <= 300) {\r\n\t\t\tmajorInterval = 30\r\n\t\t} else if (duration <= 1800) {\r\n\t\t\tmajorInterval = 60\r\n\t\t} else if (duration <= 3600) {\r\n\t\t\tmajorInterval = 300\r\n\t\t} else if (duration <= 7200) { \r\n\t\t\tmajorInterval = 600\r\n\t\t} else {\r\n\t\t\tmajorInterval = 1800\r\n\t\t}\r\n\r\n\t\tconst minorInterval = majorInterval / 10\r\n\r\n\t\tconst pixelsPerSecond = rulerWidth.value / duration\r\n\r\n\t\tfor (let time = 0; time <= duration; time += minorInterval) {\r\n\t\t\tconst isMajor = (time % majorInterval) == 0\r\n\t\t\tmarks.push({\r\n\t\t\t\ttime,\r\n\t\t\t\tposition: time * pixelsPerSecond + 3,\r\n\t\t\t\ttype: isMajor ? 'major' : 'minor'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn marks\r\n\t})\r\n\r\n\tconst onVideoLoaded = (e: UTSJSONObject) => {\r\n\t\tvideoDuration.value = e['duration'] as number\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:155','视频加载完成，时长:', videoDuration.value)\r\n\t}\r\n\r\n\r\n\t// 格式化刻度时间\r\n\tconst formatMarkTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\r\n\t\tif (hrs > 0) {\r\n\t\t\treturn `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t\t}\r\n\t\treturn `${mins}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\tconst filteredEvents = computed<EventType[]>(() => {\r\n\t\tif (activeFilter.value === 'all') return events.value\r\n\t\treturn events.value.filter((e) => e.type === activeFilter.value)\r\n\t})\r\n\r\n\t// 初始化视频上下文\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:180','视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tuni.__log__('error','at pages/index/deviceReplay.uvue:182','创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\t// 加载视频数据\r\n\tconst loadVideoData = (date : String) => {\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:187','加载日期数据:', date)\r\n\t}\r\n\r\n\r\n\t// 选择日期\r\n\tconst selectDate = (date : string) => {\r\n\t\tactiveDate.value = date\r\n\t\tcurrentDate.value = `2024-${date}`\r\n\t\tloadVideoData(date)\r\n\t}\r\n\r\n\t// 格式化时间显示\r\n\tconst formatTime = (seconds : number) => {\r\n\t\tconst hrs = Math.floor(seconds / 3600)\r\n\t\tconst mins = Math.floor((seconds % 3600) / 60)\r\n\t\tconst secs = Math.floor(seconds % 60)\r\n\t\treturn `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n\t}\r\n\r\n\r\n\t// 更新播放头位置\r\n\tconst updatePlayheadPosition = (currentTimeInSeconds : number) => {\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value\r\n\t\tplayheadPosition.value = currentTimeInSeconds * pixelsPerSecond\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\t\tconst halfWidth = scrollViewWidth / 2\r\n\t\tconst targetScrollLeft = playheadPosition.value - halfWidth\r\n\r\n\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, targetScrollLeft))\r\n\t}\r\n\r\n\t// 视频时间更新 \r\n\tconst onTimeUpdate = (e : UniVideoTimeUpdateEvent) => {\r\n\t\tif (isSeeking.value || isDragging.value) return\r\n\r\n\t\tconst currentTimeInSeconds = e.detail.currentTime\r\n\t\tcurrentTime.value = formatTime(currentTimeInSeconds)\r\n\t\tvideoDuration.value = e.detail.duration;\r\n\t\t// 节流处理\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastSyncTime.value < 200) return\r\n\t\tlastSyncTime.value = now\r\n\r\n\t\tupdatePlayheadPosition(currentTimeInSeconds - 1)\r\n\t}\r\n\r\n\tconst seekToSeconds = (timeInSeconds: number) => {\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:236','尝试跳转到:', timeInSeconds, '秒')\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.pause()\r\n\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tvideoContext.value?.play()\r\n\t\t\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:242','跳转完成，应开始播放')\r\n\t\t\t}, 100)\r\n\t\t}\r\n\t}\r\n\r\n\t// 获取事件位置\r\n\tconst getEventPosition = (event: EventType) => {\r\n\t\tconst seconds = convertTimeToSeconds(event.time)\r\n\t\tconst duration = videoDuration.value != 0 ? videoDuration.value : 300 // 默认5分钟\r\n\t\tconst pixelsPerSecond = rulerWidth.value / duration\r\n\t\treturn seconds * pixelsPerSecond\r\n\t}\r\n\r\n\t// 跳转到事件时间点\r\n\tconst seekToEvent = (event: EventType) => {\r\n\t\tconst seconds = convertTimeToSeconds(event.time)\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:258','点击事件时间点：', seconds, '秒', '当前视频时长:', videoDuration.value)\r\n\t\t\r\n\t\tif (videoContext.value == null) {\r\n\t\t\tuni.__log__('error','at pages/index/deviceReplay.uvue:261','视频上下文未初始化')\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tisSeeking.value = true\r\n\t\tcurrentTime.value = formatTime(seconds)\r\n\t\tplayheadPosition.value = getEventPosition(event)\r\n\t\t\r\n\t\t// 先暂停再跳转\r\n\t\tvideoContext.value.pause()\r\n\t\tvideoContext.value.seek(seconds)\r\n\t\t\r\n\t\t// 小延迟后播放确保跳转完成\r\n\t\tsetTimeout(() => {\r\n\t\t\tvideoContext.value?.play()\r\n\t\t\tisSeeking.value = false\r\n\t\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:277','应已跳转到指定位置并开始播放')\r\n\t\t}, 150)\r\n\t}\r\n\r\n\r\n\t// 跳转到指定时间\r\n\tconst seekToTime = (hour : number, minute : number) => {\r\n\t\tconst timeInSeconds = hour * 3600 + minute * 60\r\n\t\tseekToSeconds(timeInSeconds)\r\n\t}\r\n\t// 跳转到指定位置(秒)\r\n\tconst seekToPosition = (seconds : number) => {\r\n\t\tseekToSeconds(seconds)\r\n\t}\r\n\r\n\t// 跳转完成\r\n\tconst onSeeked = () => {\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 时间轴触摸开始\r\n\tconst onTouchStart = (e : TouchEvent) => {\r\n\t\tisDragging.value = true\r\n\t\tstartX.value = e.touches[0].pageX\r\n\t\tstartScrollLeft.value = startX.value\r\n\t\tlastDragTime.value = Date.now()\r\n\r\n\t\tisSeeking.value = true\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tvideoContext.value.pause()\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸移动\r\n\tconst onTouchMove = (e : TouchEvent) => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\tconst deltaX = e.touches[0].pageX - startX.value\r\n\t\tconst newScrollLeft = startScrollLeft.value - deltaX\r\n\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\r\n\t\tconst maxScrollLeft = rulerWidth.value - scrollViewWidth\r\n\t\ttimeScrollLeft.value = Math.max(0, Math.min(maxScrollLeft, newScrollLeft))\r\n\r\n\t\t// 计算当前时间位置（基于触摸点位置）\r\n\t\tconst touchX = e.touches[0].pageX\r\n\t\tconst rulerStartX = touchX - startX.value + startScrollLeft.value\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value\r\n\t\tconst timeInSeconds = rulerStartX / pixelsPerSecond\r\n\r\n\t\t// 更新显示\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\tplayheadPosition.value = timeInSeconds * pixelsPerSecond\r\n\t\tmanualScrollPosition.value = timeInSeconds * pixelsPerSecond\r\n\r\n\t\t// 实时跳转视频(节流处理)\r\n\t\tconst now = Date.now()\r\n\t\tif (now - lastDragTime.value > 100) {\r\n\t\t\tif (videoContext.value != null) {\r\n\t\t\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:338','尝试跳转视频到:', timeInSeconds, '秒');\r\n\t\t\t\tdraggedTimeInSeconds.value = timeInSeconds\r\n\t\t\t\tvideoContext.value.seek(timeInSeconds)\r\n\t\t\t}\r\n\t\t\tlastDragTime.value = now\r\n\t\t}\r\n\t}\r\n\r\n\t// 时间轴触摸结束\r\n\tconst onTouchEnd = () => {\r\n\t\tif (!isDragging.value) return\r\n\r\n\t\t// 计算最终时间位置\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst scrollViewWidth = systemInfo.windowWidth\r\n\t\tconst pixelsPerSecond = rulerWidth.value / videoDuration.value;\r\n\t\tconst timeInSeconds = (timeScrollLeft.value + scrollViewWidth / 2) / pixelsPerSecond;\r\n\r\n\t\tif (videoContext.value != null) {\r\n\t\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:357','尝试跳转视频到最终时间:', draggedTimeInSeconds.value, '秒');\r\n\t\t\tvideoContext.value.seek(draggedTimeInSeconds.value)\r\n\t\t\tvideoContext.value.play()\r\n\t\t}\r\n\r\n\t\tplayheadPosition.value = timeInSeconds * pixelsPerSecond\r\n\t\tcurrentTime.value = formatTime(timeInSeconds)\r\n\t\t// manualScrollPosition.value = timeInSeconds * 2\r\n\r\n\t\tisDragging.value = false\r\n\t\tisSeeking.value = false\r\n\t}\r\n\r\n\t// 定义滚动事件detail类型\r\n\ttype TimeScrollDetail = {\r\n\t\tscrollLeft : number\r\n\t}\r\n\t// 定义滚动事件类型\r\n\ttype TimeScrollEvent = {\r\n\t\tdetail : TimeScrollDetail\r\n\t}\r\n\t// 时间轴滚动事件\r\n\tconst onTimeScroll = (e : TimeScrollEvent) => {\r\n\t\tif (!isDragging.value) {\r\n\t\t\ttimeScrollLeft.value = e.detail.scrollLeft\r\n\t\t}\r\n\t}\r\n\r\n\t// 选择筛选条件\r\n\tconst selectFilter = (filter : string) => {\r\n\t\tactiveFilter.value = filter\r\n\t}\r\n\r\n\t// 检查指定时间是否有事件\r\n\tconst hasEvent = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst events = filteredEvents.value\r\n\t\tfor (let i = 0; i < events.length; i++) {\r\n\t\t\tconst event = events[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\t// 获取事件类型\r\n\tconst getEventType = (hour : number, minute : number) => {\r\n\t\tconst timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n\t\tconst eventsList = events.value\r\n\t\tfor (let i = 0; i < eventsList.length; i++) {\r\n\t\t\tconst event = eventsList[i]\r\n\t\t\tif (event.date === activeDate.value && event.time.startsWith(timeStr)) {\r\n\t\t\t\treturn event.type\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\r\n\t// 格式化小时显示\r\n\tconst formatHour = (hour : number) => {\r\n\t\treturn `${hour.toString().padStart(2, '0')}:00`\r\n\t}\r\n\r\n\t// 播放/暂停事件\r\n\tconst onPlay = () => {\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:423','视频开始播放')\r\n\r\n\t}\r\n\r\n\tconst onPause = () => {\r\n\t\tuni.__log__('log','at pages/index/deviceReplay.uvue:428','视频暂停')\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t\tif (videoContext.value == null) {\r\n\t\t\tuni.__log__('error','at pages/index/deviceReplay.uvue:435','视频上下文初始化失败，请检查');\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\r\n\t.date-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.date-item {\r\n\t\tpadding: 8px 16px;\r\n\t\tmargin: 0 5px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 14px;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.date-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.video-container {\r\n\t\twidth: 100%;\r\n\t\theight: 250px;\r\n\t\tbackground-color: #000;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.video-player {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.time-ruler-container {\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px 0;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: relative;\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\t.time-ruler-scroll {\r\n\t\twidth: 100%;\r\n\t\theight: 70px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.playhead {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 2px;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #007aff;\r\n\t\tz-index: 10;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.filter-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tflex-direction: row;\r\n\t\tpadding: 12px 5px;\r\n\t\tbackground-color: #fff;\r\n\t\tz-index: 20;\r\n\t}\r\n\r\n\t.filter-item {\r\n\t\tpadding: 8px 12px;\r\n\t\tborder-radius: 16px;\r\n\t\tbackground-color: #555;\r\n\t\tcolor: white;\r\n\t\tfont-size: 12px;\r\n\t\ttransition: all 0.2s;\r\n\t\tflex: 1;\r\n\t\tmargin: 0 5px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.filter-item.active {\r\n\t\tbackground-color: #007aff;\r\n\t\tfont-weight: bold;\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.time-ruler {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.time-mark {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\ttransform: translateX(-50%);\r\n\t\tpointer-events: auto;\r\n\t}\r\n\r\n\t.time-mark.major {\r\n\t\theight: 20px;\r\n\t\tbackground-color: #333;\r\n\t\twidth: 2px;\r\n\t}\r\n\r\n\t.time-mark.minor {\r\n\t\theight: 10px;\r\n\t\tbackground-color: #999;\r\n\t\twidth: 1px;\r\n\t}\r\n\r\n\r\n\r\n\t.event-marker {\r\n\t\tposition: absolute;\r\n\t\tbottom: 25px;\r\n\t\ttransform: translateX(-50%);\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\t.event-dot {\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.event-dot.alarm {\r\n\t\tbackground-color: #ff3b30;\r\n\t}\r\n\r\n\t.event-dot.motion {\r\n\t\tbackground-color: #ff9500;\r\n\t}\r\n\r\n\t.event-dot.human {\r\n\t\tbackground-color: #34c759;\r\n\t}\r\n</style>","<template>\r\n\t<text\r\n\t\t:class=\"[dot?'fui-badge__dot':'fui-badge__wrap',background!=''?'':('fui-badge__bg-'+type),absolute?'fui-badge__absolute':'',scaleRatio!=1 ?'fui-badge__trans-origin':'',background=='' && type=='white'?'fui-badge__text-color':'']\"\r\n\t\t:style=\"{top:absolute?top:'auto',right:absolute?right:'auto',transform:`scale(${scaleRatio})`,marginTop:`${marginTop}rpx`,marginLeft:`${marginLeft}rpx`,marginRight:`${marginRight}rpx`,width:width,color:color,background:background}\"\r\n\t\t@tap=\"handleClick\" v-if=\"showValue!='' || dot\">{{dot?'':showValue}}</text>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * Badge 徽章\r\n\t * @description Badge 徽章，可自定义颜色。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {Number} value {Number | String} badge显示文本\r\n\t * @property {Number} max {Number} 最大值，当值超过max时使用+号代替，仅为数字时有效，-1表示不限制\r\n\t * @property {String} type {String}\t类型，有效值：primary，success，warning，danger，purple，white\r\n\t * @property {String} background {String} 背景色，如果设置背景色则type失效\r\n\t * @property {String} color\t{String} 字体颜色\r\n\t * @property {Boolean} dot {Boolean} 是否显示为圆点\r\n\t * @property {Number} marginTop {Number} margin-top值，单位rpx\r\n\t * @property {Number} marginLeft {Number} margin-left值，单位rpx\r\n\t * @property {Number} marginRight {Number} margin-right值，单位rpx\r\n\t * @property {Boolean} absolute {Boolean} 是否绝对定位\r\n\t * @property {String} top {String} top值，需带单位，absolute为true时生效\r\n\t * @property {String} right {String} right值，需带单位，absolute为true时生效\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @event {Function} onclick 点击badge时触发，无返回值，() => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-badge\",\r\n\t\temits: ['onclick'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Object, String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmax: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'primary'\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#FFFFFF'\r\n\t\t\t},\r\n\t\t\tdot: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginLeft: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tmarginRight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tabsolute: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttop: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-8rpx'\r\n\t\t\t},\r\n\t\t\tright: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '-18rpx'\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twidth: '0',\r\n\t\t\t\tshowValue: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue() {\r\n\t\t\t\tthis.getWidth()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getWidth()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trpx2px(rpx : number) : number {\r\n\t\t\t\tlet px : number;\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\tconst sys : GetSystemInfoResult = uni.getSystemInfoSync()\r\n\t\t\t\tpx = sys.windowWidth / 750 * rpx\r\n\r\n\t\t\t\treturn px;\r\n\t\t\t},\r\n\t\t\t_getTextWidth(text : string) : string {\r\n\t\t\t\tlet sum = 0;\r\n\t\t\t\tfor (let i = 0, len = text.length; i < len; i++) {\r\n\t\t\t\t\tconst code = text.charCodeAt(i) as number\r\n\t\t\t\t\tif (code <= 255)\r\n\t\t\t\t\t\tsum = sum + 1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tsum = sum + 2;\r\n\t\t\t\t}\r\n\t\t\t\tconst rpx = (text.length > 1 ? 32 : 24) as number;\r\n\t\t\t\tconst px = this.rpx2px(rpx);\r\n\t\t\t\tconst strCode = text.charCodeAt(0) as number;\r\n\t\t\t\tlet multiplier = 12;\r\n\t\t\t\tif (strCode >= 65 && strCode <= 90) {\r\n\t\t\t\t\tmultiplier = 15;\r\n\t\t\t\t}\r\n\t\t\t\treturn `${(sum / 2 * multiplier) + px}px`;\r\n\t\t\t},\r\n\t\t\tgetWidth() {\r\n\t\t\t\tlet max = this.max;\r\n\t\t\t\tlet value : string;\r\n\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\tvalue = this.value as string;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.value == 'number') {\r\n\t\t\t\t\t\tconst val_num = this.value as number;\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = val_num.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = val_num > max ? `${max}+` : val_num.toString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (max == -1) {\r\n\t\t\t\t\t\t\tvalue = this.value.toString()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = parseFloat(this.value.toString()) > max ? `${max}+` : `${this.value}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.showValue = value;\r\n\t\t\t\tthis.width = this.dot ? '8px' : this._getTextWidth(value)\r\n\t\t\t},\r\n\t\t\thandleClick() {\r\n\t\t\t\tthis.$emit('onclick');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-color-success: #09BE4F !default;\r\n\t$fui-color-warning: #FFB703 !default;\r\n\t$fui-color-danger: #FF2B2B !default;\r\n\t$fui-color-purple: #6831FF !default;\r\n\t$fui-color-white: #FFFFFF !default;\r\n\r\n\t.fui-badge__wrap {\r\n\t\theight: 36rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 36rpx;\r\n\t\tborder-radius: 100px;\r\n\t\tmin-width: 36rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__dot {\r\n\t\theight: 8px !important;\r\n\t\twidth: 8px !important;\r\n\t\tborder-radius: 100px;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fui-badge__bg-primary {\r\n\t\tbackground-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-success {\r\n\t\tbackground-color: $fui-color-success !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-warning {\r\n\t\tbackground-color: $fui-color-warning !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-danger {\r\n\t\tbackground-color: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-purple {\r\n\t\tbackground-color: $fui-color-purple !important;\r\n\t}\r\n\r\n\t.fui-badge__bg-white {\r\n\t\tbackground-color: $fui-color-white !important;\r\n\t}\r\n\r\n\t.fui-badge__text-color {\r\n\t\tcolor: $fui-color-danger !important;\r\n\t}\r\n\r\n\t.fui-badge__trans-origin {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-badge__absolute {\r\n\t\tposition: absolute;\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<TopNavBar title=\"设备设置\" :show-back=\"true\" @back=\"goBack\" />\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list-item\" @click=\"goNightMode\">\n\t\t\t\t<text>夜视模式</text>\n\t\t\t\t<fui-icon name=\"arrowright\" size=\"40\" />\n\t\t\t</view>\n\t\t\t<view class=\"list-item\">\n\t\t\t\t<text>翻转设置</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"state\" @change=\"changeSwitch\"></fui-switch> \n\t\t\t</view>\n\t\t\t<view class=\"list-item\">\n\t\t\t\t<text>固件</text>\n\t\t\t\t<view class=\"firmware-box\">\n\t\t\t\t\t<fui-badge value=\"new\"type=\"danger\" :scaleRatio=\"0.8\"></fui-badge>\n\t\t\t\t\t<text class=\"firmware-version\">1.1.1</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list-item\">\n\t\t\t\t<text>Mac地址</text>\n\t\t\t\t<text class=\"firmware-version\">1.1.1</text>\n\t\t\t</view>\n\t\t\t<view class=\"list-item\" @click=\"restart\">\n\t\t\t\t<text>重启</text>\n\t\t\t\t<fui-icon name=\"arrowright\" size=\"40\" />\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport TopNavBar from '@/components/TopNavBar.uvue'\n\tconst state = ref<boolean>(false)\n\tconst goBack = () => {\n\t\tuni.navigateBack({\n\t\t\tdelta: 1,\n\t\t})\n\t}\n\n\tconst goNightMode = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceSettingInfo/deviceNight',\n\t\t})\n\t}\n\n\tconst changeSwitch = (e: boolean) => {\n\t\tuni.__log__('log','at pages/index/deviceSettingInfo/deviceSettingInfo.uvue:48',e)\n\t}\n\n\tconst restart = () => {\n\t\tuni.showModal({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确认重启设备吗？',\n\t\t\tcancelText: '取消',\n\t\t\tconfirmText: '重启',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tuni.__log__('log','at pages/index/deviceSettingInfo/deviceSettingInfo.uvue:59','用户点击了确定')\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.list-item{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding:20rpx;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t.firmware-box{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t.firmware-version{\n\t\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<TopNavBar title=\"夜视模式\" :show-back=\"true\" @back=\"goBack\" />\n\t\t<view class=\"content\">\n\t\t\t<image :src='select_img' class=\"night-img\" mode=\"aspectFit\" />\n\t\t\t<view class=\"select-mode\">\n\t\t\t\t<fui-radio-group v-model=\"val\">\n\t\t\t\t\t<fui-label v-for=\"(item,index) in radioItems\" :key=\"index\">\n\t\t\t\t\t\t<fui-list-cell>\n\t\t\t\t\t\t\t<view class=\"fui-align__center\" @click=\"change(item)\">\n\t\t\t\t\t\t\t\t<view class=\"fui-text-box\">\n\t\t\t\t\t\t\t\t\t<text>{{item.name}}</text>\n\t\t\t\t\t\t\t\t\t<fui-radio :checked=\"item.checked\" :value=\"item.value\" color=\"#FFB703\"\n\t\t\t\t\t\t\t\t\t\tborderColor=\"#B2B2B2\">\n\t\t\t\t\t\t\t\t\t</fui-radio>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"fui-desc\">{{item.desc}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</fui-list-cell>\n\t\t\t\t\t</fui-label>\n\t\t\t\t</fui-radio-group>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport {ref} from 'vue'\n\timport TopNavBar from '@/components/TopNavBar.uvue'\n\n\ttype RadioItem = {\n\t\tname : string;\n\t\tdesc : string;\n\t\timg : string;\n\t\tvalue : string;\n\t\tchecked : boolean;\n\t}\n\n\tconst val = ref('1')\n\tconst select_img = ref('../../../static/u4062.png')\n\tconst radioItems = ref<RadioItem[]>([{\n\t\t\tname: '黑白夜视',\n\t\t\tdesc: '采用红外补光，隐蔽性高，图像为黑白夜视',\n\t\t\timg:'../../../static/u4062.png',\n\t\t\tvalue: '1',\n\t\t\tchecked: true\n\t\t},\n\t\t{\n\t\t\tname: '全彩夜视',\n\t\t\tdesc: '夜晚开白光灯，可做照明使用，图像为彩色',\n\t\t\timg:'../../../static/u4063.png',\n\t\t\tvalue: '2',\n\t\t\tchecked: false\n\t\t},\n\t\t{\n\t\t\tname: '智能夜视',\n\t\t\tdesc: '默认为黑白夜视，检测到画面为动态是变为全彩夜视',\n\t\t\timg:'../../../static/u4064.png',\n\t\t\tvalue: '3',\n\t\t\tchecked: false\n\t\t},\n\t\t{\n\t\t\tname: '星光夜视',\n\t\t\tdesc: '当前环境光线充足，并且不想看到灯光亮起，则选择该项',\n\t\t\timg:'../../../static/u4062.png',\n\t\t\tvalue: '4',\n\t\t\tchecked: false\n\t\t}\n\t])\n\n\tconst goBack = () => {\n\t\tuni.navigateBack({\n\t\t\tdelta: 1,\n\t\t})\n\t}\n\n\tconst change = (value:RadioItem) => {\n\t\tval.value = value.value\n\t\tselect_img.value = value.img\n\t}\n\t\t\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding:20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.night-img{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 245rpx;\n\t\t\t}\n\t\t\t.select-mode{\n\t\t\t\t.fui-align__center{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t.fui-text-box{\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.fui-desc{\n\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>人形侦测</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"peopleWatch\" @change=\"peopleWatchFun\"></fui-switch>\n\t\t\t</view>\n\t\t\t<view class=\"list\" v-if=\"peopleWatch\" @click=\"peopeWatchChange\">\n\t\t\t\t<text>侦测灵敏度</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>{{peopleWatchLevel}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list\" v-if=\"peopleWatch\" @click=\"timeWatchChange\">\n\t\t\t\t<text>侦测时间段</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>{{timeWatchLevel}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list nounderline\" v-if=\"peopleWatch\">\n\t\t\t\t<text>侦测范围</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>全部</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>移动侦测</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"mobileWatch\" @change=\"mobileWatchFun\"></fui-switch>\n\t\t\t</view>\n\t\t\t<view class=\"list\" v-if=\"mobileWatch\" @click=\"mobileWatchChange\">\n\t\t\t\t<text>侦测灵敏度</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>{{mobileWatchLevel}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list\" v-if=\"mobileWatch\" @click=\"mTimeWatchChange\">\n\t\t\t\t<text>侦测时间段</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>{{mobileTimeWatchLevel}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list nounderline\" v-if=\"mobileWatch\">\n\t\t\t\t<text>侦测范围</text>\n\t\t\t\t<view class=\"level\">\n\t\t\t\t\t<text>全部</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" color=\"#333\" size=\"60\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>闪光灯</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"flashlight\" @change=\"flashlightFun\"></fui-switch>\n\t\t\t</view>\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>红蓝警灯</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"redBlueWatch\" @change=\"redBlueWatchFun\"></fui-switch>\n\t\t\t</view>\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>报警声</text>\n\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"policeWatch\" @change=\"policeWatchFun\"></fui-switch>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list-box\">\n\t\t\t\t<view class=\"list nounderline\">\n\t\t\t\t\t<view class=\"text-box\">\n\t\t\t\t\t\t<text>人形框定</text>\n\t\t\t\t\t\t<fui-icon name=\"help\" size=\"30\"></fui-icon>\n\t\t\t\t\t</view>\n\t\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"peopleSelectWatch\" @change=\"peopleSelectWatchFun\"></fui-switch>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tips\"></text>\n\t\t\t</view>\n\t\t\t<view class=\"list-box nounderline\">\n\t\t\t\t<view class=\"list nounderline\">\n\t\t\t\t\t<view class=\"text-box\">\n\t\t\t\t\t\t<text>人形追踪</text>\n\t\t\t\t\t\t<fui-icon name=\"help\" size=\"30\"></fui-icon>\n\t\t\t\t\t</view>\n\t\t\t\t\t<fui-switch :scaleRatio=\"0.8\" :checked=\"peopleFindWatch\" @change=\"peopleFindWatchFun\"></fui-switch>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tips\"></text>\n\t\t\t</view>\n\t\t</view>\n\t\t<l-popup v-model=\"showPicker\" position=\"bottom\">\n\t\t\t<l-picker \n\t\t\t\tcancel-btn=\"取消\" \n\t\t\t\tconfirm-btn=\"确定\" \n\t\t\t\t:columns=\"pickerOptions\"\n\t\t\t\t@cancel=\"showPicker = false\" \n\t\t\t\t@confirm=\"pickerFun\">\n\t\t\t</l-picker>\n\t\t</l-popup>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport {ref} from 'vue'\n\timport { PickerColumn,PickerConfirmEvent } from '@/uni_modules/lime-picker';\n\n\tconst peopleWatch = ref<boolean>(true)\n\tconst mobileWatch = ref<boolean>(true)\n\tconst flashlight = ref<boolean>(true)\n\tconst redBlueWatch = ref<boolean>(true)\n\tconst policeWatch = ref<boolean>(true)\n\tconst peopleSelectWatch = ref<boolean>(true)\n\tconst peopleFindWatch = ref<boolean>(true)\n\tconst showPicker = ref<boolean>(false)\n\tconst peopleWatchLevel = ref<string>('中')\n\tconst timeWatchLevel = ref<string>('全天')\n\tconst pickerOptions = ref<PickerColumn[]>([])\n\tconst PickerModeOptions = ref<PickerColumn[]>([])\n\tconst mobileWatchLevel = ref<string>('高')\n\tconst mobileTimeWatchLevel = ref<string>('全天')\n\n\tlet currentCallback: ((value: string) => void) | null = null\n\n\tconst peopeWatchOptions = [\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: '高',\n\t\t\t\tvalue: '高',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '中',\n\t\t\t\tvalue: '中',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '低',\n\t\t\t\tvalue: '低',\n\t\t\t}\n\t\t]\n\t]  as PickerColumn[]\n\n\tconst typeModeWatchOptions = [\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: '全天模式',\n\t\t\t\tvalue: '全天',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '白天模式',\n\t\t\t\tvalue: '白天模式',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '夜晚模式',\n\t\t\t\tvalue: '夜晚模式',\n\t\t\t}\n\t\t]\n\t] as PickerColumn[]\n\n\n\tconst peopleWatchFun = (e:boolean) => {\n\t\tpeopleWatch.value = e\n\t}\n\n\tconst peopeWatchChange = () => {\n\t\tpickerOptions.value = peopeWatchOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\tpeopleWatchLevel.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\tconst timeWatchChange = () => {\n\t\tpickerOptions.value = typeModeWatchOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\ttimeWatchLevel.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\tconst pickerFun = (e:PickerConfirmEvent) => {\n\t\tconst selectedValue = e.values[0].toString()\n\t\tcurrentCallback?.(selectedValue)\n\t\tshowPicker.value = false\n\t\tcurrentCallback = null\n\t}\n\n\tconst mobileWatchChange = () => {\n\t\tpickerOptions.value = peopeWatchOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\tmobileWatchLevel.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\tconst mTimeWatchChange = () => {\n\t\tpickerOptions.value = typeModeWatchOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\tmobileTimeWatchLevel.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\n\tconst mobileWatchFun = (e:boolean) => {\n\t\tmobileWatch.value = e\n\t}\n\n\tconst flashlightFun = (e:boolean) => {\n\t\tflashlight.value = e\n\t}\n\n\tconst redBlueWatchFun = (e:boolean) => {\n\t\tredBlueWatch.value = e\n\t}\n\n\tconst policeWatchFun = (e:boolean) => {\n\t\tpoliceWatch.value = e\n\t}\n\n\tconst peopleSelectWatchFun = (e:boolean) => {\n\t\tpeopleSelectWatch.value = e\n\t}\n\n\tconst peopleFindWatchFun = (e:boolean) => {\n\t\tpeopleFindWatch.value = e\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\tpadding: 20rpx;\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\tpadding: 0 20rpx;\n\t\t\tmargin-bottom: 50rpx;\n\t\t\t.list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\t.level{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.nounderline{\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\t\t\t.list-box{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t.text-box{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\t\t\t\t.tips{\n\t\t\t\t\tcolor: #999;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>\n","// @ts-nocheck\r\nimport { TimeModeValues } from './type';\r\n// 使用位运算定义模式\r\n// const MODES = {\r\n// \tYEAR: 1 << 0, // 1\r\n// \tMONTH: 1 << 1, // 2\r\n// \tDATE: 1 << 2, // 4\r\n// \tHOUR: 1 << 3, // 8\r\n// \tMINUTE: 1 << 4 // 16\r\n// \tSECOND : 1 << 4 // 32\r\n// };\r\n\r\nexport const MODE_YEAR = 1; // 0001\r\nexport const MODE_MONTH = 2; // 0010\r\nexport const MODE_DATE = 4; // 0100\r\nexport const MODE_HOUR = 8; // 1000\r\nexport const MODE_MINUTE = 16; // 10000\r\nexport const MODE_SECOND = 32; // 100000\r\n\r\nexport const MODE_MAP = new Map<string, number>([\r\n\t['年', MODE_YEAR],\r\n\t['月', MODE_MONTH],\r\n\t['日', MODE_DATE],\r\n\t['时', MODE_HOUR],\r\n\t['分', MODE_MINUTE],\r\n\t['秒', MODE_SECOND],\r\n\t['year', MODE_YEAR],\r\n\t['month', MODE_MONTH],\r\n\t['date', MODE_DATE],\r\n\t['hour', MODE_HOUR],\r\n\t['minute', MODE_MINUTE],\r\n\t['second', MODE_SECOND],\r\n])\r\n\r\nexport const FORMAT_MAP = new Map<string, string>([\r\n\t['year', 'YYYY'],\r\n\t['month', 'MM'],\r\n\t['date', 'DD'],\r\n\t['hour', 'HH'],\r\n\t['minute', 'mm'],\r\n\t['second', 'ss'],\r\n])\r\n\r\nexport const UNIT_MAP = new Map<string, string>([\r\n\t['year', '年'],\r\n\t['month', '月'],\r\n\t['date', '日'],\r\n\t['hour', '时'],\r\n\t['minute', '分'],\r\n\t['second', '秒'],\r\n])\r\n\r\n\r\n// 定义时间列名称数组\r\nexport const MODE_NAMES : TimeModeValues[] = ['year', 'month', 'date', 'hour', 'minute', 'second'];\r\nexport const DEFAULT_FORMAT = 'YYYY-MM-DD HH:mm:ss'","// @ts-nocheck\r\nimport { TimeModeValues } from './type';\r\nimport { MODE_NAMES, MODE_MAP, MODE_YEAR, MODE_MONTH, MODE_DATE, MODE_HOUR, MODE_MINUTE, MODE_SECOND } from './constant'\r\n\r\n\r\n/**\r\n * 根据给定的模式返回具有意义的时间列数组。\r\n * @param {number} mode - 表示时间模式的位掩码。\r\n * @returns {TimeModeValues[]} - 返回具有意义的时间列名称数组。\r\n */\r\nexport function getMeaningColumn(mode : any) : TimeModeValues[] {\r\n\t// 初始化结果数组\r\n\tconst res : TimeModeValues[] = [];\r\n\t\r\n\tlet _mode:number = 0;\r\n\tif(typeof mode == 'string') {\r\n\t\tMODE_MAP.forEach((value, key) => {\r\n\t\t\tif((mode as string).includes(key)) {\r\n\t\t\t\t_mode = _mode | value;\r\n\t\t\t}\r\n\t\t})\r\n\t} else if(typeof mode == 'number') {\r\n\t\t_mode = mode as number\r\n\t}\r\n\t\r\n\tif(_mode <= 0) {\r\n\t\treturn res\r\n\t}\r\n\t\r\n\r\n\t// 定义对应的位掩码数组\r\n\tconst modeBitmasks = [MODE_YEAR, MODE_MONTH, MODE_DATE, MODE_HOUR, MODE_MINUTE, MODE_SECOND];\r\n\r\n\t// 查找被设置的位掩码\r\n\tconst activeBitmasks = modeBitmasks.filter(bitmask => (_mode & bitmask) != 0);\r\n\r\n\t// 如果没有位掩码被设置，返回空数组\r\n\tif (activeBitmasks.length == 0) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\t// 初始化最长连续子序列和当前连续子序列\r\n\tlet longestSequence : number[] = [];\r\n\tlet currentSequence : number[] = [];\r\n\r\n\t// 遍历所有被设置的位掩码\r\n\tactiveBitmasks.forEach(bitmask => {\r\n\t\t// 如果当前序列为空或当前位掩码是前一个位掩码的两倍，则将其加入当前序列\r\n\t\tif (currentSequence.length == 0 || bitmask == currentSequence[currentSequence.length - 1] * 2) {\r\n\t\t\tcurrentSequence.push(bitmask);\r\n\t\t} else {\r\n\t\t\t// 如果当前序列长度大于最长序列长度，则更新最长序列\r\n\t\t\tif (currentSequence.length > longestSequence.length) {\r\n\t\t\t\tlongestSequence = currentSequence;\r\n\t\t\t}\r\n\t\t\t// 开始新的序列\r\n\t\t\tcurrentSequence = [bitmask];\r\n\t\t}\r\n\t});\r\n\r\n\t// 检查最后一个序列是否是最长的\r\n\tif (currentSequence.length > longestSequence.length) {\r\n\t\tlongestSequence = currentSequence;\r\n\t}\r\n\r\n\t// 将最长连续子序列的位掩码转换为对应的模式名并返回\r\n\treturn longestSequence.map(bitmask => MODE_NAMES[modeBitmasks.indexOf(bitmask)]);\r\n}","<template>\r\n\t<l-picker \r\n\t\t:title=\"title\" \r\n\t\t:titleStyle=\"titleStyle\" \r\n\t\t:confirm-btn=\"confirmBtn\" \r\n\t\t:confirm-style=\"confirmStyle\"\r\n\t\t:cancel-btn=\"cancelBtn\" \r\n\t\t:cancel-style=\"cancelStyle\" \r\n\t\t:itemHeight=\"itemHeight\" \r\n\t\t:itemColor=\"itemColor\"\r\n\t\t:itemFontSize=\"itemFontSize\" \r\n\t\t:itemActiveColor=\"itemActiveColor\" \r\n\t\t:indicatorStyle=\"indicatorStyle\"\r\n\t\t:bgColor=\"bgColor\" \r\n\t\t:groupHeight=\"groupHeight\" \r\n\t\t:radius=\"radius\" \r\n\t\t:value=\"valueOfPicker\" \r\n\t\t:columns=\"columns\"\r\n\t\t@confirm=\"onConfirm\" \r\n\t\t@cancel=\"onCancel\" \r\n\t\t@change=\"onChange\" \r\n\t\t@pick=\"onPick\">\r\n\t</l-picker>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\timport { DateTimePickerProps, DateValue, DateTimePickerColumn, TimeModeValues, DateTimePickerColumnItem } from './type';\r\n\timport { PickerColumn, PickerColumnItem, PickerConfirmEvent, PickerPickEvent, PickerValue } from '@/uni_modules/lime-picker';\r\n\timport { getMeaningColumn } from './utils';\r\n\timport { DEFAULT_FORMAT, MODE_NAMES, FORMAT_MAP, UNIT_MAP } from './constant';\r\n\timport { dayuts, Dayuts } from '@/uni_modules/lime-dayuts/common'\r\n\timport { DayutsUnit } from '@/uni_modules/lime-dayuts'\r\n\timport { clamp } from '@/uni_modules/lime-shared/clamp'\r\n\r\n\tconst emit = defineEmits(['change', 'cancel', 'confirm', 'pick', 'update:modelValue', 'update:value'])\r\n\tconst props = withDefaults(defineProps<DateTimePickerProps>(), {\r\n\t\tmode: 1 | 2 | 4,\r\n\t\tformat: DEFAULT_FORMAT,\r\n\t\tshowUnit: true,\r\n\t\tresetIndex: false,\r\n\t\tminHour: 0,\r\n\t\tmaxHour: 23,\r\n\t\tminMinute: 0,\r\n\t\tmaxMinute: 59\r\n\t})\r\n\t// 默认值\r\n\tlet defaultValue : DateValue = props.value ?? props.defaultValue ?? props.defaultValue ?? Date.now()\r\n\tconst innerValue = computed({\r\n\t\tset(value : DateValue) {\r\n\t\t\tif(defaultValue == value) return\r\n\t\t\tdefaultValue = value;\r\n\t\t\temit('change', value)\r\n\t\t\temit('update:modelValue', value)\r\n\t\t\temit('update:value', value)\r\n\t\t},\r\n\t\tget() : DateValue {\r\n\t\t\tconst value = props.value ?? props.modelValue ?? defaultValue\r\n\t\t\treturn typeof value == 'string' && (value as string).length == 0 ? Date.now() : value\r\n\t\t}\r\n\t} as WritableComputedOptions<DateValue>)\r\n\r\n\r\n\tconst meaningColumn = getMeaningColumn(props.mode);\r\n\tconst isTimeMode = ['hour', 'minute', 'second'].includes(meaningColumn[0]);\r\n\tconst normalize = (val : DateValue | null, defaultDay : Dayuts) : Dayuts => val != null && dayuts(val).isValid() ? dayuts(val) : defaultDay;\r\n\tconst start = computed(() : Dayuts => normalize(props.start as DateValue | null, dayuts().subtract(10, 'year')));\r\n\tconst end = computed(() : Dayuts => normalize(props.end as DateValue | null, dayuts().add(10, 'year')));\r\n\tconst rationalize = (val : Dayuts) : Dayuts => {\r\n\t\tif (isTimeMode) return val;\r\n\t\tif (val.isBefore(start.value)) return start.value;\r\n\t\tif (val.isAfter(end.value)) return end.value;\r\n\t\treturn val;\r\n\t};\r\n\r\n\tconst calcDate = (currentValue : DateValue | null) : Dayuts => {\r\n\t\tif (isTimeMode) {\r\n\t\t\tconst dateStr = dayuts(start.value).format('YYYY-MM-DD');\r\n\t\t\tcurrentValue = `${dateStr} ${currentValue}`;\r\n\t\t}\r\n\t\treturn currentValue != null && dayuts(currentValue).isValid() ? rationalize(dayuts(currentValue)) : start.value;\r\n\t};\r\n\r\n\tconst curDate = ref(calcDate(innerValue.value));\r\n\tconst valueOfPicker = computed(() : string[] => meaningColumn.map((item) : string => curDate.value.get(item).toString()));\r\n\tconst columnCache = new Map<string, DateTimePickerColumnItem[]>();\r\n\tconst columns = computed(() : DateTimePickerColumn[] => {\r\n\t\tconst ret : DateTimePickerColumn[] = [];\r\n\r\n\t\tconst getDate = (date : Dayuts) : number[] => [\r\n\t\t\tdate.year(),\r\n\t\t\tdate.month() + 1,\r\n\t\t\tdate.date(),\r\n\t\t\tdate.hour(),\r\n\t\t\tdate.minute(),\r\n\t\t\tdate.second(),\r\n\t\t];\r\n\t\t//@ts-ignore\r\n\t\tconst [curYear, curMonth, curDay, curHour, curMinute] = getDate(curDate.value);\r\n\t\tconst [minYear, minMonth, minDay, minHour, minMinute, minSecond] = getDate(start.value);\r\n\t\tconst [maxYear, maxMonth, maxDay, maxHour, maxMinute, maxSecond] = getDate(end.value);\r\n\r\n\t\tconst isInMinYear = curYear == minYear;\r\n\t\tconst isInMaxYear = curYear == maxYear;\r\n\t\tconst isInMinMonth = isInMinYear && curMonth == minMonth;\r\n\t\tconst isInMaxMonth = isInMaxYear && curMonth === maxMonth;\r\n\t\tconst isInMinDay = isInMinMonth && curDay == minDay;\r\n\t\tconst isInMaxDay = isInMaxMonth && curDay == maxDay;\r\n\t\tconst isInMinHour = isInMinDay && curHour == minHour;\r\n\t\tconst isInMaxHour = isInMaxDay && curHour == maxHour;\r\n\t\tconst isInMinMinute = isInMinHour && curMinute == minMinute;\r\n\t\tconst isInMaxMinute = isInMaxHour && curMinute == maxMinute;\r\n\r\n\t\tconst generateColumn = (type : string, lowerBound : number, upperBound : number) => {\r\n\t\t\tconst cacheKey = `${type}-${lowerBound}-${upperBound}`;\r\n\t\t\tif (columnCache.has(cacheKey)) {\r\n\t\t\t\tret.push(columnCache.get(cacheKey)!)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst arr : DateTimePickerColumnItem[] = [];\r\n\t\t\tfor (let i = lowerBound; i <= upperBound; i++) {\r\n\t\t\t\tconst value = i;\r\n\t\t\t\tarr.push({\r\n\t\t\t\t\tlabel: props.renderLabel != null ? props.renderLabel!(type, i.toString()) : `${value}${props.showUnit ? UNIT_MAP.get(type) : ''}`,\r\n\t\t\t\t\tvalue: type == 'month' ? `${value - 1}` : value.toString(),\r\n\t\t\t\t} as DateTimePickerColumnItem);\r\n\t\t\t}\r\n\r\n\t\t\tif (props.customFilter != null) {\r\n\t\t\t\tconst _arr = props.customFilter!(type, arr)\r\n\t\t\t\tret.push(_arr)\r\n\t\t\t\tcolumnCache.set(cacheKey, _arr);\r\n\t\t\t} else {\r\n\t\t\t\tret.push(arr)\r\n\t\t\t\tcolumnCache.set(cacheKey, arr);\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tif (meaningColumn.includes('year')) {\r\n\t\t\tgenerateColumn('year', minYear, maxYear);\r\n\t\t}\r\n\t\tif (meaningColumn.includes('month')) {\r\n\t\t\tconst lower = isInMinYear ? minMonth : 1;\r\n\t\t\tconst upper = isInMaxYear ? maxMonth : 12;\r\n\t\t\tgenerateColumn('month', lower, upper);\r\n\t\t}\r\n\t\tif (meaningColumn.includes('date')) {\r\n\t\t\tconst lower = isInMinMonth ? minDay : 1;\r\n\t\t\tconst upper = isInMaxMonth ? maxDay : dayuts(`${curYear}-${curMonth}`).daysInMonth();\r\n\t\t\tgenerateColumn('date', lower, upper);\r\n\t\t}\r\n\t\tif (meaningColumn.includes('hour')) {\r\n\t\t\tconst lower = isInMinDay && !isTimeMode ? minHour : clamp(props.minHour, 0, 23);// 0;\r\n\t\t\tconst upper = isInMaxDay && !isTimeMode ? maxHour : clamp(props.maxHour, lower, 23);//23;\r\n\t\t\tgenerateColumn('hour', lower, upper);\r\n\t\t}\r\n\t\tif (meaningColumn.includes('minute')) {\r\n\t\t\tconst lower = isInMinHour && !isTimeMode ? minMinute : clamp(props.minMinute, 0, 59);//0;\r\n\t\t\tconst upper = isInMaxHour && !isTimeMode ? maxMinute : clamp(props.maxMinute, lower, 59);//59;\r\n\t\t\tgenerateColumn('minute', lower, upper);\r\n\t\t}\r\n\t\tif (meaningColumn.includes('second')) {\r\n\t\t\tconst lower = isInMinMinute && !isTimeMode ? minSecond : 0;\r\n\t\t\tconst upper = isInMaxMinute && !isTimeMode ? maxSecond : 59;\r\n\t\t\tgenerateColumn('second', lower, upper);\r\n\t\t}\r\n\t\treturn ret;\r\n\t})\r\n\r\n\tconst innterFormat = computed(() : string => {\r\n\t\tconst first = meaningColumn.length > 0 ? meaningColumn[0] : 'year';\r\n\t\tconst last = meaningColumn.length > 0 ? meaningColumn[meaningColumn.length - 1] : 'date';\r\n\r\n\t\tconst format = DEFAULT_FORMAT.substring(\r\n\t\t\tDEFAULT_FORMAT.indexOf(FORMAT_MAP.get(first)!),\r\n\t\t\tDEFAULT_FORMAT.lastIndexOf(FORMAT_MAP.get(last)!) + FORMAT_MAP.get(last)!.length\r\n\t\t)\r\n\t\treturn format\r\n\t})\r\n\tconst onConfirm = ({ values } : PickerConfirmEvent) => {\r\n\r\n\t\t// const first = meaningColumn.length > 0 ? meaningColumn[0]: 'year';\r\n\t\t// const last =  meaningColumn.length > 0 ? meaningColumn[meaningColumn.length - 1]: 'date';\r\n\r\n\t\t// const format = DEFAULT_FORMAT.substring(\r\n\t\t// \tDEFAULT_FORMAT.indexOf(FORMAT_MAP.get(first)!),\r\n\t\t// \tDEFAULT_FORMAT.lastIndexOf(FORMAT_MAP.get(last)!) + FORMAT_MAP.get(last)!.length\r\n\t\t// )\r\n\r\n\t\tlet cur = curDate.value\r\n\t\t// MODE_NAMES\r\n\t\tvalues.forEach((item, index) => {\r\n\t\t\tconst type = meaningColumn[index]\r\n\t\t\tcur = cur.set(type, parseInt(`${item}`, 10))\r\n\t\t})\r\n\t\tconst curValue = cur.format(props.format)\r\n\r\n\t\tinnerValue.value = cur.format(innterFormat.value);\r\n\t\temit('confirm', curValue);\r\n\t}\r\n\tconst onCancel = () => {\r\n\t\temit('cancel')\r\n\t}\r\n\tconst onPick = ({ values, column, index } : PickerPickEvent) => {\r\n\t\tconst type = meaningColumn[column];\r\n\t\tconst val = curDate.value.set(type as DayutsUnit, parseInt(columns.value[column][index].value, 10));\r\n\r\n\t\tcurDate.value = rationalize(val);\r\n\t\temit('pick', rationalize(val).format(props.format))\r\n\t}\r\n\t\r\n\tconst onChange = (values : PickerValue[]) => {\r\n\t\tlet cur = curDate.value\r\n\t\tvalues.forEach((item, index) => {\r\n\t\t\tconst type = meaningColumn[index]\r\n\t\t\tcur = cur.set(type, parseInt(`${item}`, 10))\r\n\t\t})\r\n\t\tcurDate.value = rationalize(cur as Dayuts)\r\n\t\tconst curValue = curDate.value.format(innterFormat.value)\r\n\t\tinnerValue.value = curValue\r\n\t}\r\n\tconst stop = watch(innerValue, (val : DateValue) => {\r\n\t\tcurDate.value = calcDate(val);\r\n\t});\r\n\r\n\tonBeforeUnmount(() => {\r\n\t\tstop()\r\n\t})\r\n</script>\r\n<style>\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list-box\">\n\t\t\t\t<view class=\"title\">\n\t\t\t\t\t<text>存储空间</text>\n\t\t\t\t\t<l-button type=\"primary\" size=\"mini\">存储管理</l-button>\n\t\t\t\t</view>\n\t\t\t\t<l-progress :percent=\"percent\" info-align=\"end\" :show-info=\"true\"></l-progress>\n\t\t\t\t<view class=\"title\">\n\t\t\t\t\t<text>已用80G</text>\n\t\t\t\t\t<text>可用 20G/共100G</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list\" @click=\"vedioMode\">\n\t\t\t\t<text>录像模式</text>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text>{{vedioModeType}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" size=\"50\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list\" @click=\"pictureQuality\">\n\t\t\t\t<text>录像画质</text>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text>{{pictureQualityType}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" size=\"50\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list nobottom\" @click=\"vedioTime\">\n\t\t\t\t<text>录像时间</text>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text>{{startTime}}至{{endTime}}</text>\n\t\t\t\t\t<fui-icon name=\"arrowright\" size=\"50\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<l-popup v-model=\"showPicker\" position=\"bottom\">\n\t\t\t<l-picker \n\t\t\t\tv-if=\"types\"\n\t\t\t\tcancel-btn=\"取消\" \n\t\t\t\tconfirm-btn=\"确定\" \n\t\t\t\t:columns=\"pickerOptions\"\n\t\t\t\t@cancel=\"showPicker = false\" \n\t\t\t\t@confirm=\"pickerFun\">\n\t\t\t</l-picker>\n\t\t\t<view class=\"time-picker\" v-else>\n\t\t\t\t<view class=\"time-picker-title\">\n\t\t\t\t\t<l-button type=\"default\" size=\"mini\" @click=\"showPicker = false\" >取消</l-button>\n\t\t\t\t\t<text>选择时间</text>\n\t\t\t\t\t<l-button type=\"primary\" size=\"mini\" @click=\"getVedioTime\" >确定</l-button>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"time-picker-content\">\n\t\t\t\t\t<l-date-time-picker v-model=\"startTime\" @change=\"startTimeChange\" :mode=\"8|16\"></l-date-time-picker>\n\t\t\t\t\t<text>至</text>\n\t\t\t\t\t<l-date-time-picker v-model=\"endTime\" @change=\"endTimeChange\" :mode=\"8|16\"></l-date-time-picker>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</l-popup>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\timport { PickerColumn,PickerConfirmEvent } from '@/uni_modules/lime-picker';\n\n\tconst types = ref<boolean>(true)\n\tconst pickerOptions = ref<PickerColumn[]>([])\n\tconst percent = ref<number | string>(80)\n\tconst showPicker = ref<boolean>(false)\n\tconst vedioModeType = ref<string>('事件录像')\n\tconst pictureQualityType = ref<string>('高清')\n\tconst startTime = ref<string>('00:00')\n\tconst endTime = ref<string>('23:59')\n\t\n\tlet currentCallback: ((value: string) => void) | null = null\n\t\n\tconst vedioModeOptions = [\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: '一直录像',\n\t\t\t\tvalue: '一直录像'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '事件录像',\n\t\t\t\tvalue: '事件录像'\n\t\t\t},\n\t\t]\n\t] as PickerColumn[]\n\n\tconst pictureQualityOptions = [\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: '高清',\n\t\t\t\tvalue: '高清'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: '超清',\n\t\t\t\tvalue: '超清'\n\t\t\t},\n\t\t]\n\t] as PickerColumn[]\n\n\tconst vedioMode = () => {\n\t\ttypes.value = true\n\t\tpickerOptions.value = vedioModeOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\tvedioModeType.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\tconst pictureQuality = () => {\n\t\ttypes.value = true\n\t\tpickerOptions.value = pictureQualityOptions\n\t\tcurrentCallback = (value: string) => {\n\t\t\tpictureQualityType.value = value\n\t\t}\n\t\tshowPicker.value = true\n\t}\n\n\tconst pickerFun = (e:PickerConfirmEvent) => {\n\t\tconst selectedValue = e.values[0].toString()\n\t\tcurrentCallback?.(selectedValue)\n\t\tshowPicker.value = false\n\t\tcurrentCallback = null\n\t}\n\n\tconst vedioTime = () => {\n\t\ttypes.value = false\n\t\tshowPicker.value = true\n\t}\n\n\tconst startTimeChange = (value: string) => {\n\t\tstartTime.value = value\n\t}\n\n\tconst endTimeChange = (value: string) => {\n\t\tendTime.value = value\n\t}\n\n\tconst getVedioTime = () => {\n\t\tshowPicker.value = false\n\t}\n\n</script>\n\n<style scoped lang=\"scss\">\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.list-box{\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t.title{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 20rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t.right{\n\t\t\t\t\t@extend .list;\n\t\t\t\t\tpadding:0;\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.nobottom{\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\t\t}\n\t\t.time-picker{\n\t\t\tpadding: 20rpx;\n\t\t\t.time-picker-title{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t}\n\t\t\t.time-picker-content{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\t.l-picker{\n\t\t\t\t\twidth: 45%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","<template>\r\n\t<view class=\"fui-empty__wrap\" :class=\"{'fui-empty__fixed':isFixed}\" :style=\"{marginTop:`${marginTop}rpx`}\">\r\n\t\t<image :src=\"src\" :style=\"{width:`${width}rpx`,height:`${height}rpx`}\" mode=\"widthFix\" v-if=\"src!=''\"></image>\r\n\t\t<text class=\"fui-empty__title\" :class=\"{'fui-empty__title-color':color==''}\"\r\n\t\t\t:style=\"{color:color,fontSize:`${size}rpx`}\" v-if=\"title!=''\">{{title}}</text>\r\n\t\t<text class=\"fui-empty__desc\" :class=\"{'fui-empty__descr-color':descrColor==''}\"\r\n\t\t\t:style=\"{color:descrColor,fontSize:`${descrSize}rpx`}\" v-if=\"descr!=''\">{{descr}}</text>\r\n\t\t<slot></slot>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t/**\r\n\t * Empty 缺省页\r\n\t * @description Empty 缺省页，页面的信息内容为空或信息响应异常的状态。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} src {String} 图片地址\r\n\t * @property {Number} width\t{Number} 图片宽度，单位rpx\r\n\t * @property {Number} height {Number} 图片高度，单位rpx\r\n\t * @property {String} title {String} 提示信息标题\r\n\t * @property {String} color\t{String} 提示信息标题字体颜色\r\n\t * @property {Number} size {Number} 提示信息标题字体大小，单位rpx\r\n\t * @property {String} descr\t{String} 提示信息描述\r\n\t * @property {String} descrColor {String} 提示信息描述字体颜色\r\n\t * @property {Number} descrSize\t{Number} 提示信息描述字体大小，单位rpx\r\n\t * @property {Boolean} isFixed {Boolean} 缺省页内容是否固定在页面中间位置\r\n\t * @property {Number} marginTop\t{Number} 缺省页内容margin-top值\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-empty\",\r\n\t\tprops: {\r\n\t\t\tsrc: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 576\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 318\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 32\r\n\t\t\t},\r\n\t\t\tdescr: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdescrColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdescrSize: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 24\r\n\t\t\t},\r\n\t\t\tisFixed: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmarginTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-section: #333333 !default;\r\n\t$fui-color-label: #B2B2B2 !default;\r\n\r\n\t.fui-empty__wrap {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.fui-empty__fixed {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.fui-empty__title {\r\n\t\ttext-align: center;\r\n\t\tfont-weight: bold;\r\n\t\tpadding-top: 48rpx;\r\n\t}\r\n\r\n\t.fui-empty__desc {\r\n\t\ttext-align: center;\r\n\t\tfont-weight: normal;\r\n\t\tpadding-top: 8rpx;\r\n\t}\r\n\r\n\t.fui-empty__title-color {\r\n\t\tcolor: $fui-color-section !important;\r\n\t}\r\n\r\n\t.fui-empty__descr-color {\r\n\t\tcolor: $fui-color-label !important;\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<TopNavBar title=\"流量充值\" @back=\"goBack\" @rightEvent=\"rightIcon\" :showBack=\"true\" rightText=\"order\"></TopNavBar>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>ICCID</text>\n\t\t\t\t<view class=\"right-item\">\n\t\t\t\t\t<text>8986112223504991234</text>\n\t\t\t\t\t<l-icon style=\"margin-left: 10rpx;\" name=\"file-copy\" size=\"20\" @click=\"copyiccid\"></l-icon>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list underline\">\n\t\t\t\t<text>卡号</text>\n\t\t\t\t<view class=\"right-item\">\n\t\t\t\t\t<text>8986112223504991234</text>\n\t\t\t\t\t<text style=\"color: #FF4D4F;\">[停用]</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>当前套餐</text>\n\t\t\t\t<view class=\"right-item\">\n\t\t\t\t\t<text>店长推荐</text>\n\t\t\t\t\t<text>[终身流量]</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"list underline\">\n\t\t\t\t<text>生效日期</text>\n\t\t\t\t<text>套餐将于 2025-5-13 到期</text>\n\t\t\t</view>\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>流量 - 异常</text>\n\t\t\t\t<fui-icon name=\"right\" size=\"50\"></fui-icon>\n\t\t\t</view>\n\t\t\t<view  class=\"progress\">\n\t\t\t\t<l-progress :percent=\"percent\" info-align=\"end\" :show-info=\"true\"></l-progress>\n\t\t\t</view>\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>已用 60G (60%)</text>\n\t\t\t\t<text>可用 20G/共100G</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"package-box\">\n\t\t\t<l-tabs :value=\"tabVal\" @click=\"changeTab\" :spaceEvenly=\"false\" bgColor=\"transparent\" color=\"#000\" activeColor=\"#FF5722\">\n\t\t\t\t<l-tab-panel v-for=\"(item,index) in tabsVal\" :key=\"index\" :value=\"index\" :label=\"item.title\">\n\t\t\t\t\t<view class=\"product-container\">\n\t\t\t\t\t\t<view class=\"list-item\" :class=\"{'selected-item': selectedPackage?.id === it.id}\" v-for=\"(it,index) in getFilteredEvents()\" :key=\"index\" @click=\"selectPackge(it)\">\n\t\t\t\t\t\t\t<text class=\"product-name\">{{it.title}}</text>\n\t\t\t\t\t\t\t<text class=\"product-date\">{{it.date}}</text>\n\t\t\t\t\t\t\t<text class=\"product-price\">¥{{it.price}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-if=\"getFilteredEvents().length == 0\">\n\t\t\t\t\t\t<fui-empty color=\"#999\" :size=\"25\" title=\"暂无套餐\"></fui-empty>\n\t\t\t\t\t</view>\n\t\t\t\t</l-tab-panel>\n\t\t\t</l-tabs>\n\t\t</view>\n\t\t<view class=\"btn-box\" v-if=\"selectedPackage\">\n\t\t\t<view class=\"price\">\n\t\t\t\t<text class=\"price-title\">金额</text>\n\t\t\t\t<text class=\"price-text\">¥{{selectedPackage?.price}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"btn\">\n\t\t\t\t<l-button type=\"primary\">流量充值</l-button>\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\timport TopNavBar from '@/components/TopNavBar.uvue'\n\tconst tabVal = ref<number>(0)\n\tconst percent = ref<number | string>(60)\n\tconst selectedPackage = ref<ContentType | null>(null)\n\t\n\ttype tabItem = {\n\tid : string;\n\ttitle : string;\n\tcontent : Array<ContentType>\n\t}\n\n\ttype ContentType = {\n\t\tid : string;\n\t\ttitle : string;\n\t\tdate : string;\n\t\tprice : string;\n\t\tcategory: string;\n\t}\n\n\tconst tabsVal = ref<tabItem[]>([\n\t\t{\n\t\t\tid:'0',\n\t\t\ttitle:'订购套餐',\n\t\t\tcontent:[] as ContentType[]\n\t\t},\n\t\t{\n\t\t\tid:'1',\n\t\t\ttitle:'订购加油包',\n\t\t\tcontent:[] as ContentType[]\n\t\t}\n\t])\n\n\tconst content  = ref<ContentType[]>([\n\t\t{\n\t\t\tid:'1111',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'',\n\t\t\tprice:'100',\n\t\t\tcategory:'0',\n\t\t},\n\t\t{\n\t\t\tid:'1113',\n\t\t\ttitle:'五年畅想套餐',\n\t\t\tdate:'',\n\t\t\tprice:'102',\n\t\t\tcategory:'0',\n\t\t},\n\t\t{\n\t\t\tid:'1112',\n\t\t\ttitle:'五年畅想套餐111',\n\t\t\tdate:'2025-07-09',\n\t\t\tprice:'230',\n\t\t\tcategory:'1',\n\t\t},\n\t\t{\n\t\t\tid:'1114',\n\t\t\ttitle:'五年畅想套餐111',\n\t\t\tdate:'2025-07-09',\n\t\t\tprice:'205',\n\t\t\tcategory:'1',\n\t\t},\n\t\t{\n\t\t\tid:'1115',\n\t\t\ttitle:'五年畅想套餐111',\n\t\t\tdate:'2025-07-09',\n\t\t\tprice:'150',\n\t\t\tcategory:'0',\n\t\t}\n\t])\n\n\tconst goBack = () => {\n\t\tuni.navigateBack({\n\t\t\tdelta: 1,\n\t\t})\n\t}\n\n\tconst rightIcon = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceRechargeOrder',\n\t\t})\n\t}\n\n\tconst copyiccid = () => {\n\t\tuni.setClipboardData({\n\t\t\tdata: '8986112223504991234',\n\t\t\tsuccess: () => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '复制成功',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tconst getFilteredEvents = (): ContentType[] => {\n\t\tconst selectedType = tabsVal.value[tabVal.value].id;\n\t\treturn content.value.filter(event => event.category == selectedType);\n\t}\n\n\tconst changeTab = (val: number) => {\n\t\ttabVal.value = val\n\t}\n\n\tconst selectPackge = (item:ContentType) => {\n\t\tselectedPackage.value = item\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\tposition: relative;\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding:20rpx;\n\t\t\t\t\n\t\t\t\t.right-item{\n\t\t\t\t\t@extend .list;\n\t\t\t\t\tpadding:0;\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.progress{\n\t\t\t\tpadding: 0 20rpx;\n\t\t\t}\n\t\t\t.underline{\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t}\n\t\t}\n\t\t.package-box{\n\t\t\tmargin-top: 50rpx;\n\t\t\t.product-container {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\t.list-item {\n\t\t\t\t\twidth: 48%;\n\t\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t\tpadding:  40rpx;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tborder: 2rpx solid #fff;\n\t\t\t\t\t&.selected-item {\n\t\t\t\t\t\tborder: 2rpx solid #FF5722;\n\t\t\t\t\t}\n\t\t\t\t\t.product-name{\n\t\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.product-date{\n\t\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\theight: 50rpx;\n\t\t\t\t\t\tline-height: 50rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.product-price{\n\t\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\t\tcolor: #FF5722;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.l-tabs{\n\t\t\tbackground-color: transparent !important;\n\t\t}\n\t\t.btn-box{\n\t\t\tposition: fixed;\n\t\t\twidth: 100%;\n\t\t\tleft: 0;\n\t\t\tbottom: 0;\n\t\t\theight: 100rpx;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\t.price{\n\t\t\t\tflex: 1;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tgap: 10rpx;\n\t\t\t\t.price-title{\n\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t}\n\t\t\t\t.price-text{\n\t\t\t\t\tfont-size: 40rpx;\n\t\t\t\t\tcolor: #FF5722;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tmargin-left: 15rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.btn{\n\t\t\t\tflex: 1;\n\t\t\t\theight: 100%;\n\t\t\t\t.l-button{\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"l-checkbox\" :class=\"[rootCasses]\" :style=\"[styles]\" @click=\"handleChange\">\n\t\t<slot name=\"checkbox\" :checked=\"isChecked\" :disabled=\"isDisabled\">\n\t\t\t<slot name=\"icon\" :checked=\"isChecked\" :disabled=\"isDisabled\">\n\t\t\t\t<view class=\"l-checkbox__icon\" ref=\"iconRef\" :class=\"iconClasses\" :style=\"[iconStyle]\"></view>\n\t\t\t</slot>\n\t\t\t<text class=\"l-checkbox__label\" :style=\"[labelStyles]\"  :class=\"labelClass\" v-if=\"label!= null || $slots['default'] !=null\">\n\t\t\t\t<slot>{{label}}</slot>\n\t\t\t</text>\n\t\t</slot>\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Checkbox 复选框组件\n\t * @description 用于在多个选项中进行选择的表单组件，支持单选、全选和不确定态\n\t * <br> 插件类型：LCheckboxComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-checkbox\n\t * \n\t * @property {boolean} defaultChecked 默认选中状态（非受控属性）\n\t * @property {string} label 显示文本（支持插槽）\n\t * @property {boolean} indeterminate 半选状态（优先级高于checked）\n\t * @property {boolean} disabled 禁用状态（覆盖Group设置）\n\t * @property {'small' | 'medium' | 'large'} size 组件尺寸\n\t * @value small \n\t * @value medium \n\t * @value large\t\n\t * @property {string} name 唯一标识符（表单提交使用）\n\t * @property {boolean} checkAll 标记为全选选项（需在Group中使用）\n\t * @property {string} value 选项值（Group模式下必填）\n\t * @property {'circle' | 'line' | 'rectangle' | 'dot'} icon 图标样式类型\n\t * @value circle 圆\n\t * @value line 线\n\t * @value rectangle\t方\n\t * @value dot 点\n\t * @property {string} fontSize 文本字号（支持CSS单位）\n\t * @property {string} iconSize 图标尺寸（支持CSS单位）\n\t * @property {string} checkedColor 选中状态主题色\n\t * @property {string} iconBgColor 图标背景色\n\t * @property {string} iconBorderColor 图标边框色\n\t * @property {string} iconDisabledColor 禁用状态图标颜色\n\t * @property {string} iconDisabledBgColor 禁用状态背景色\n\t * @property {string|object} labelStyle label的样式\n\t * @event {Function} change 状态变化时触发（参数：CheckboxChangeOptions）\n\t */\n\t\n\timport { CheckboxProps, ManageChildInList, CheckboxStatus, OnCheckedChange, CheckboxChangeOptions, ComputedRef } from './type';\n\t\n\tdefineSlots<{\n\t    checkbox(props : { checked : boolean,  disabled: boolean}) : any,\n\t    icon(props : { checked : boolean,  disabled: boolean}) : any,\n\t    default(props : { checked : boolean,  disabled: boolean}) : any,\n\t}>()\n\t  \n\t  \n\tconst name = 'l-checkbox';\n\tconst emit = defineEmits(['update:modelValue', 'change']);\n\t\n\tconst props = withDefaults(defineProps<CheckboxProps>(), {\n\t\tdefaultChecked: false,\n\t\tindeterminate: false,\n\t\tdisabled: false,\n\t\treadonly: false,\n\t\t// checked: null,\n\t\t// modelValue: null,\n\t\tsize: 'medium',\n\t\tcheckAll: false,\n\t\ticon: 'rectangle'\n\t})\n\t\n\tdefineOptions({\n\t\tmixins: [{\n\t\t\tprops: {\n\t\t\t\tchecked: {\n\t\t\t\t\ttype: [null, Boolean],\n\t\t\t\t\tdefault: null,\n\t\t\t\t},\n\t\t\t\tmodelValue: {\n\t\t\t\t\ttype: [null, Boolean],\n\t\t\t\t\tdefault: null,\n\t\t\t\t},\n\t\t\t}\n\t\t}]\n\t})\n\t\n\t\n\tconst instance = getCurrentInstance()!\n\tconst formDisabled = inject<Ref<boolean|null>|null>('formDisabled', null)\n\tconst formReadonly = inject<Ref<boolean|null>|null>('formReadonly', null)\n\t\n\tconst checkboxGroup = inject<LCheckboxGroupComponentPublicInstance|null>('limeCheckboxGroup', null);\n\tconst checkboxGroupValue = inject<ComputedRef<any[]>|null>('limeCheckboxGroupValue', null);\n\tconst checkboxGroupStatus = inject<ComputedRef<CheckboxStatus>|null>('limeCheckboxGroupStatus', null);\n\tconst checkboxGroupCheckedSet = inject<ComputedRef<Set<any>>|null>('limeCheckboxGroupCheckedSet', null);\n\tconst manageChildInList = inject<ManageChildInList|null>('limeCheckboxGroupManageChildInList', null);\n\tconst onCheckedChange = inject<OnCheckedChange|null>('limeCheckboxGroupOnCheckedChange', null);\n\tif(manageChildInList != null) {\n\t\tmanageChildInList(instance.proxy as LCheckboxComponentPublicInstance, true)\n\t}\n\t\n\tconst max = computed(():number => checkboxGroup?.max ?? -1)\n\t\n\tconst _innerChecked = ref(props.defaultChecked)\n\tconst innerChecked = computed({\n\t\tset(value: boolean) {\n\t\t\t_innerChecked.value = value\n\t\t\temit('update:modelValue', value)\n\t\t\temit('change', value)\n\t\t},\n\t\tget():boolean {\n\t\t\tconst value = (props.checked ?? props.modelValue)\n\t\t\tif(value != null) return value\n\t\t\treturn _innerChecked.value\n\n\t\t\t// return (props.checked ?? props.modelValue) || _innerChecked.value\n\n\n\n\n\n\t\t}\n\t} as WritableComputedOptions<boolean>)\n\t\n\tconst isChecked = computed(():boolean=>{\n\t\tif (props.checkAll) {\n\t\t\tconst checkAllStatus = checkboxGroupStatus?.value ?? 'uncheck';\n\t\t\treturn checkAllStatus == 'checked' || checkAllStatus == 'indeterminate'\n\t\t}\n\t\tconst value = props.value ?? props.name;\n\t\tif (checkboxGroupCheckedSet != null && value != null) {\n\t\t\treturn checkboxGroupCheckedSet.value.has(value)\n\t\t}\n\t\treturn innerChecked.value;\n\t})\n\t\n\tconst isDisabled = computed(():boolean=>{\n\t\tif(max.value > -1 && checkboxGroupValue != null) {\n\t\t\treturn max.value <= checkboxGroupValue.value.length && !isChecked.value;\n\t\t}\n\t\tif (props.disabled) return props.disabled;\n\t\treturn formDisabled?.value ?? checkboxGroup?.disabled ?? false;\n\t})\n\t\n\tconst isReadonly= computed(():boolean=>{\n\t\tif (props.readonly) return props.readonly;\n\t\treturn formReadonly?.value ?? checkboxGroup?.readonly ?? false;\n\t})\n\t\n\tconst isIndeterminate = computed(():boolean=>{\n\t\tif (props.checkAll && checkboxGroupStatus != null) return checkboxGroupStatus.value == 'indeterminate';\n\t\treturn props.indeterminate;\n\t})\n\t\n\tconst innerIcon = computed(():string => checkboxGroup?.icon ?? props.icon)\n\tconst innerSize = computed(():string => checkboxGroup?.size ?? props.size)\n\tconst innerIconSize = computed(():string|null => checkboxGroup?.iconSize ?? props.iconSize)\n\tconst innerFontSize = computed(():string|null => checkboxGroup?.fontSize ?? props.fontSize)\n\tconst innerCheckedColor = computed(():string|null => checkboxGroup?.checkedColor ?? props.checkedColor)\n\tconst innerIconBgColor = computed(():string => props.iconBgColor ?? checkboxGroup?.iconBgColor ?? 'white')\n\tconst innerIconBorderColor = computed(():string => props.iconBorderColor ?? checkboxGroup?.iconBorderColor ?? '#c5c5c5')\n\tconst innerIconDisabledColor = computed(():string => props.iconDisabledColor ?? checkboxGroup?.iconDisabledColor ?? '#c5c5c5')\n\tconst innerIconDisabledBgColor = computed(():string => props.iconDisabledBgColor ?? checkboxGroup?.iconDisabledBgColor ?? '#f3f3f3')\n\t\n\t\n\tconst rootCasses = computed(():Map<string, boolean>=>{\n\t\tconst cls = new Map<string, boolean>()\n\t\tcls.set(`${name}--${props.size}`, true)\n\t\tcls.set(`${name}--disabled`, isDisabled.value)\n\t\treturn cls\n\t})\n\t\n\tconst iconClasses = computed(():Map<string, boolean>=>{\n\t\tconst cls = new Map<string, boolean>()\n\t\tcls.set(`${name}__icon--disabled`, isDisabled.value)\n\t\tcls.set(`${name}__icon--${props.icon}`, true)\n\n\t\tcls.set(`${name}__icon--checked`, isChecked.value && innerCheckedColor.value == null)\n\t\tcls.set(`${name}__icon--indeterminate`, isIndeterminate.value && innerCheckedColor.value == null)\n\n\n\n\n\n\t\treturn cls\n\t})\n\t\n\tconst labelClass = computed(():Map<string, boolean>=>{\n\t\tconst cls = new Map<string, boolean>();\n\t\tcls.set(`${name}__label--disabled`, isDisabled.value)\n\t\treturn cls\n\t})\n\t\n\tconst styles = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\t\tif(checkboxGroup != null && checkboxGroup.gap != null) {\n\t\t\tstyle.set(checkboxGroup.direction == 'horizontal' ? 'margin-right' : 'margin-bottom', checkboxGroup.gap!)\n\t\t}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\treturn style\n\t})\n\t\n\tconst iconStyle = computed(():Map<string, any>=>{\n\t\tconst style = new Map<string, any>();\n\t\tif(innerIconSize.value != null) {\n\t\t\tstyle.set('width', innerIconSize.value!)\n\t\t\tstyle.set('height', innerIconSize.value!)\n\n\n\n\t\t}\n\t\t\n\t\tif(innerCheckedColor.value != null) {\n\n\n\n\n\t\t\t\n\t\t\tif(!isDisabled.value && !isChecked.value && ['dot', 'circle', 'rectangle'].includes(innerIcon.value)) {\n\t\t\t\tstyle.set('background', innerIconBgColor.value)\n\t\t\t\tstyle.set('border-color', innerIconBorderColor.value)\n\t\t\t}\n\t\t\tif(isDisabled.value && ['dot', 'circle', 'rectangle'].includes(innerIcon.value)) {\n\t\t\t\tstyle.set('background', innerIconDisabledBgColor.value)\n\t\t\t\tstyle.set('border-color', innerIconDisabledColor.value)\n\t\t\t}\n\t\t\tif(isChecked.value && ['dot', 'circle', 'rectangle'].includes(innerIcon.value)) {\n\t\t\t\tstyle.set('background', innerCheckedColor.value!)\n\t\t\t\tstyle.set('border-color', innerCheckedColor.value!)\n\t\t\t}\n\n\t\t}\n\t\treturn style\n\t})\n\t\n\t// const labelStyle = computed(():Map<string, any>=>{\n\t// \tconst style = new Map<string, any>();\n\t// \tconst fontSize = props.fontSize ?? checkboxGroup?.fontSize\n\t// \tif(fontSize != null) {\n\t// \t\tstyle.set('font-size', fontSize)\n\t// \t}\n\t// \treturn style\n\t// })\n\t\n\tconst labelStyles = computed(():any => {\n\t\tif(typeof props.labelStyle == 'string') {\n\t\t\treturn `${props.labelStyle};` + (innerIconSize.value != null ? `font-size: ${innerIconSize.value}`: '')\n\t\t}\n\t\tif(typeof props.labelStyle == 'object') {\n\t\t\treturn UTSJSONObject.assign({}, (props.labelStyle??{}) as UTSJSONObject, innerFontSize.value != null ? {'font-size': innerFontSize.value}: {})\n\t\t}\n\t\treturn {}\n\t})\n\tconst handleChange = (e: UniPointerEvent) => {\n\t\tif (isDisabled.value || isReadonly.value) return;\n\t\tconst value = !isChecked.value;\n\t\tinnerChecked.value = value;\n\t\t\n\t\tif(onCheckedChange != null) {\n\t\t\tonCheckedChange({\n\t\t\t\tchecked: value, \n\t\t\t\tcheckAll: props.checkAll,\n\t\t\t\tvalue: props.value ?? props.name //?? instance.uid\n\t\t\t})\n\t\t}\n\t}\n\t\n\n\tconst iconRef = ref<UniElement|null>(null)\n\tconst update = () => {\n\t\tif(iconRef.value == null) return\n\t\tconst ctx = iconRef.value!.getDrawableContext()!;\n\t\tconst rect = iconRef.value!.getBoundingClientRect();\n\t\tconst x = rect.width / 2;\n\t\tconst y = rect.height / 2;\n\t\tctx.reset();\n\t\tconst drawIndeterminate = () => {\n\t\t\tctx.strokeStyle = isDisabled.value\n\t\t\t\t? innerIconDisabledColor.value\n\t\t\t\t: innerIcon.value == 'line'\n\t\t\t\t\t? props.checkedColor ?? '#3283ff'\n\t\t\t\t\t: 'white';\n\t\t\tctx.lineWidth = innerIcon.value == 'line' ? rect.width * 0.16 : rect.width * 0.12;\n\t\t\tconst width = innerIcon.value == 'line' ? rect.width * 0.8 : rect.width * 0.5;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo((rect.width - width) / 2, rect.height * 0.5);\n\t\t\tctx.lineTo((rect.width - width) / 2 + width, rect.height * 0.5);\n\t\t\tctx.stroke();\n\t\t};\n\t\t\n\t\tconst drawCheckedIcon = () => {\n\t\t\tif (isDisabled.value) {\n\t\t\t\tctx.strokeStyle = innerIconDisabledColor.value;\n\t\t\t\tctx.fillStyle = innerIconDisabledColor.value;\n\t\t\t} else if (innerIcon.value == 'line') {\n\t\t\t\tctx.strokeStyle = props.checkedColor ?? '#3283ff';\n\t\t\t} else {\n\t\t\t\tctx.strokeStyle = 'white';\n\t\t\t\tctx.fillStyle = 'white';\n\t\t\t}\n\t\t\tctx.lineWidth = innerIcon.value == 'line' ? rect.width * 0.16 : rect.width * 0.12;\n\t\t\tctx.lineCap = 'round';\n\t\t\n\t\t\tif (innerIcon.value == 'circle' || innerIcon.value == 'rectangle') {\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(rect.width * 0.2967, rect.height * 0.53);\n\t\t\t\tctx.lineTo(rect.width * 0.4342, rect.height * 0.6675);\n\t\t\t\tctx.lineTo(rect.width * 0.7092, rect.height * 0.3925);\n\n\t\t\t\t\n\n\n\n\n\n\n\t\t\t\t\n\t\t\t\tctx.stroke();\n\t\t\t} else if (innerIcon.value == 'line') {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(rect.width * 0.10, rect.height * 0.5466);\n\t\t\t\tctx.lineTo(rect.width * 0.3666, rect.height * 0.8134);\n\t\t\t\tctx.lineTo(rect.width * 0.90, rect.height * 0.28);\n\t\t\t\tctx.stroke();\n\t\t\t} else if (innerIcon.value == 'dot') {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, rect.width * 0.22, 0, Math.PI * 2);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t};\n\t\t\n\t\tif (isIndeterminate.value) {\n\t\t\tdrawIndeterminate();\n\t\t}else if (isChecked.value) {\n\t\t\tdrawCheckedIcon();\n\t\t}\n\t\tctx.update();\n\t}\n\t\n\t\n\t\n\t// onMounted(()=>{\n\t// \tnextTick(()=>{\n\t// \t\twatchEffect(update)\n\t// \t})\n\t// })\n\t\n\tconst resizeObserver = new UniResizeObserver((entries : Array<UniResizeObserverEntry>) => {\n\t\tupdate()\n\t}) \n\t\n\tconst stopWatch = watch(():UniElement|null => iconRef.value, (el:UniElement|null) => {\n\t\tif(el== null) return\n\t\tresizeObserver.observe(el)\n\t})\n\twatchEffect(update)\n\t\n\tonUnmounted(()=>{\n\t\tstopWatch()\n\t\tresizeObserver.disconnect()\n\t})\n\n\t\n\tonBeforeUnmount(()=>{\n\t\tif(manageChildInList != null) {\n\t\t\tmanageChildInList(instance.proxy as LCheckboxComponentPublicInstance, false)\n\t\t}\n\t})\n\t\n</script>\n<style lang=\"scss\">\n\t@import './index-u';\n</style>","// @ts-nocheck\r\nimport { ComputedRef } from './type';\r\nimport { CheckboxStatus } from '../l-checkbox/type';\r\n// #ifndef UNI-APP-X\r\nimport { computed } from '@/uni_modules/lime-shared/vue';\r\n// #endif\r\n\r\nfunction intersection<T>(...arrays : T[][]): T[] {\r\n\t// 创建一个空数组来存储相交元素\r\n\tconst result : T[] = [];\r\n\t\r\n\tfor (let i = 0; i < arrays[0].length; i++) {\r\n\t\tconst item = arrays[0][i]\r\n\t\t// 检查该元素是否存在于所有其他数组中\r\n\t\tlet isCommon = true;\r\n\t\tfor (let j = 1; j < arrays.length; j++) {\r\n\t\t\tif (!arrays[j].includes(item)) {\r\n\t\t\t\tisCommon = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 如果该元素存在于所有数组中，并且尚未添加到结果数组中，则将其添加到结果数组中\r\n\t\tif (isCommon && !result.includes(item)) {\r\n\t\t\tresult.push(item);\r\n\t\t}\r\n\t}\r\n\t// 返回包含相交元素的结果数组\r\n\treturn result;\r\n}\r\n\r\n// @ts-ignore\r\nexport function setCheckAllStatus(\r\n\tchildren: LCheckboxComponentPublicInstance[],\r\n\tinnerValue: ComputedRef<any[]>,\r\n\tcheckedSet: ComputedRef<Set<any>>\r\n\t): ComputedRef<CheckboxStatus> {\r\n\t\r\n\tconst intersectionLen = computed(()=>{\r\n\t\tconst values:any[] = []\r\n\t\tchildren.forEach(item => {\r\n\t\t\tconst value = item.value ?? item.name;\r\n\t\t\tif(value == null) return\r\n\t\t\tvalues.push(value)\r\n\t\t})\r\n\t\tif (Array.isArray(innerValue.value)) {\r\n\t\t\treturn intersection(innerValue.value, values).length;\r\n\t\t}\r\n\t\treturn 0\r\n\t})\r\n\tconst isAllChecked = computed((): boolean=>{\r\n\t\tif (checkedSet.value.size != children.length - 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn intersectionLen.value == children.length - 1;\r\n\t})\r\n\tconst isIndeterminate = computed((): boolean=>{\r\n\t\treturn !isAllChecked.value && intersectionLen.value < children.length && intersectionLen.value > 0;\r\n\t})\r\n\treturn computed(():CheckboxStatus => {\r\n\t\tif (isAllChecked.value) return 'checked';\r\n\t\tif (isIndeterminate.value) return 'indeterminate';\r\n\t\treturn 'uncheck';\r\n\t});\r\n}","<template>\r\n\t<view class=\"l-checkbox-group\" :class=\"'l-checkbox-group--'+ direction\">\r\n\t\t<slot />\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\" setup>\r\n\t/**\r\n\t * CheckboxGroup 复选框组容器\r\n\t * @description 用于管理多个 Checkbox 组件，支持整体禁用、最大选择和布局控制\r\n\t * <br> 插件类型：LCheckboxGroupComponentPublicInstance \r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-checkbox-group\r\n\t * \r\n\t * @property {Boolean} disabled 是否禁用组件\r\n\t * @property {Boolean} readonly 是否只读组件\r\n\t * @property {Number} max 支持最多选中的数量\r\n\t * @property {String|Number} name 唯一标识\r\n\t * @property {String|Number} value 选中值\r\n\t * @property {'small' | 'medium' | 'large'} size 组件统一尺寸\r\n\t * @value small\r\n\t * @value medium\r\n\t * @value large\r\n\t * @property {String} direction 布局方向\r\n\t * @value horizontal 水平\r\n\t * @value vertical 垂直\r\n\t * @property {String} icon = [square|round|circle]  形状\r\n\t * @value circle\ticon 圆形\r\n\t * @value line\t    icon 线\r\n\t * @value rectangle\ticon 方形\r\n\t * @value dot\ticon 点状\r\n\t * @property {string} fontSize 文本统一字号\r\n\t * @property {string} iconSize 图标统一尺寸\r\n\t * @property {string} checkedColor 选中状态主题色\r\n\t * @property {string} iconBgColor 图标背景色\r\n\t * @property {string} iconBorderColor 图标边框色\r\n\t * @property {string} iconDisabledColor 禁用图标颜色\r\n\t * @property {string} iconDisabledBgColor 禁用背景色\r\n\t * @event {Function} change \r\n\t */\r\n\t\r\n\timport { CheckboxGroupProps } from './type';\r\n\timport { CheckboxChangeOptions } from '../l-checkbox/type';\r\n\timport { setCheckAllStatus } from './utils';\r\n\t\r\n\tconst emit = defineEmits(['update:value', 'update:modelValue', 'change']);\r\n\tconst props = withDefaults(defineProps<CheckboxGroupProps>(), {\r\n\t\tdisabled: false,\r\n\t\treadonly: false,\r\n\t\tsize: 'medium',\r\n\t\tdirection: 'horizontal',\r\n\t\ticon: 'rectangle'\r\n\t})\r\n\t\r\n\tconst _innerValue = ref(props.defaultValue ?? [])\r\n\tconst innerValue = computed({\r\n\t\tset(value: any[]){\r\n\t\t\t_innerValue.value = value\r\n\t\t\temit('change', value)\r\n\t\t\temit('update:value', value)\r\n\t\t\temit('update:modelValue', value)\r\n\t\t},\r\n\t\tget(): any[]{\r\n\t\t\treturn props.value ?? props.modelValue ?? _innerValue.value\r\n\t\t},\r\n\t} as WritableComputedOptions<any[]>)\r\n\t\r\n\tconst checkedSet = computed(():Set<any>=>{\r\n\t\tconst set = new Set<any>()\r\n\t\tif (Array.isArray(innerValue.value)) {\r\n\t\t\tinnerValue.value.forEach(item => {\r\n\t\t\t\tset.add(item)\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn set\r\n\t});\r\n\tconst children = reactive<LCheckboxComponentPublicInstance[]>([]);\r\n\t// @ts-ignore\r\n\tconst checkAllStatus = setCheckAllStatus(children, innerValue, checkedSet);\r\n\tconst maxExceeded = computed(():boolean => {\r\n\t\treturn props.max != null && innerValue.value.length == props.max;\r\n\t});\r\n\r\n\tconst manageChildInList = (child: LCheckboxComponentPublicInstance, shouldAdd: boolean) => {\r\n\t\tconst index = children.indexOf(child);\r\n\t\tif(shouldAdd) {\r\n\t\t\tif(index != -1) return\r\n\t\t\tchildren.push(child)\r\n\t\t} else {\r\n\t\t\tif(index == -1) return\r\n\t\t\tchildren.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\tconst handleCheckboxChange = (item: CheckboxChangeOptions) => {\r\n\t\tconst currentValue = item.value;\r\n\t\tif(Array.isArray(innerValue.value)) {\r\n\t\t\tif(currentValue == null) return;\r\n\t\t\tconst val = [...innerValue.value];\r\n\t\t\tif (item.checked) {\r\n\t\t\t\tval.push(currentValue);\r\n\t\t\t} else {\r\n\t\t\t\tconst i = val.indexOf(currentValue);\r\n\t\t\t\tval.splice(i, 1);\r\n\t\t\t}\r\n\t\t\tinnerValue.value = val\r\n\t\t} else {\r\n\t\t\tuni.__log__('warn','at uni_modules/lime-checkbox/components/l-checkbox-group/l-checkbox-group.uvue:105',`CheckboxGroup Warn: \\`value\\` must be an array, instead of ${typeof innerValue.value}`);\r\n\t\t}\r\n\t}\r\n\tconst getAllCheckboxValue = () : any[] => {\r\n\t\tconst arr:any[] = []\r\n\t\tfor (let i = 0, len = children.length; i < len; i++) {\r\n\t\t\tconst item = children[i];\r\n\t\t\tconst value = item.value ?? item.name //?? item.$.uid;\r\n\t\t\tif (item.checkAll) continue;\r\n\t\t\tif (value == null) continue;\r\n\t\t\tif(arr.includes(value)) continue;\r\n\t\t\tarr.push(value)\r\n\t\t\tif (maxExceeded.value) break;\r\n\t\t}\r\n\t\treturn arr\r\n\t};\r\n\tconst toggleAllCheckboxValues = () : any[] => {\r\n\t\tconst arr:any[] = []\r\n\t\t\r\n\t\tfor (let i = 0, len = children.length; i < len; i++) {\r\n\t\t\tconst item = children[i];\r\n\t\t\tconst value = item.value ?? item.name;\r\n\t\t\t\r\n\t\t\tif (item.checkAll) continue;\r\n\t\t\tif (value == null) continue;\r\n\t\t\tif(!checkedSet.value.has(value)) {\r\n\t\t\t\tarr.push(value)\r\n\t\t\t};\r\n\t\t\tif (maxExceeded.value) break;\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\tconst onCheckAllChange = (checked: boolean) => {\r\n\t\tconst value = checked ? getAllCheckboxValue() : [];\r\n\t\tinnerValue.value = value;\r\n\t}\r\n\t\r\n\tconst onCheckedChange = (item: CheckboxChangeOptions) => {\r\n\t\tif(item.checkAll) {\r\n\t\t\tonCheckAllChange(item.checked);\r\n\t\t} else {\r\n\t\t\thandleCheckboxChange(item);\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst toggleAll = (checked : boolean) => {\r\n\t\tconst value = checked ? getAllCheckboxValue() : toggleAllCheckboxValues();\r\n\t\tinnerValue.value = value\r\n\t}\r\n\t\r\n\t\r\n\tdefineExpose({\r\n\t\ttoggleAll\r\n\t})\r\n\t\r\n\tprovide('limeCheckboxGroup', props)\r\n\tprovide('limeCheckboxGroupValue', innerValue)\r\n\tprovide('limeCheckboxGroupStatus', checkAllStatus)\r\n\tprovide('limeCheckboxGroupCheckedSet', checkedSet)\r\n\tprovide('limeCheckboxGroupManageChildInList', manageChildInList)\r\n\tprovide('limeCheckboxGroupOnCheckedChange', onCheckedChange)\r\n\t// const optionList = getOptions(props, children);\r\n\t\r\n</script>\r\n<style lang=\"scss\">\r\n\t.l-checkbox-group {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.l-checkbox-group--vertical {\r\n\t\tflex-direction: column;\r\n\t}\r\n</style>","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<text class=\"share-title\">设备的名称</text>\n\t\t\t<view class=\"list\" @click=\"goVisitor\">\n\t\t\t\t<view class=\"shared-title\">\n\t\t\t\t\t<text>已分享</text>\n\t\t\t\t\t<text class=\"shared-count\">{{sharedCount}}</text>\n\t\t\t\t</view>\n\t\t\t\t<l-icon name=\"chevron-right\" size=\"30\"></l-icon>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<text class=\"title\">分享方式</text>\n\t\t\t<view class=\"share-type\">\n\t\t\t\t<fui-radio-group name=\"radio\" @change=\"change\" :modelValue=\"shareType\">\n\t\t\t\t\t<view class=\"fui-list__item\">\n\t\t\t\t\t\t<fui-label>\n\t\t\t\t\t\t\t<view class=\"fui-align__center\">\n\t\t\t\t\t\t\t\t<fui-radio value=\"1\" :scaleRatio=\"0.9\"></fui-radio>\n\t\t\t\t\t\t\t\t<text class=\"fui-text\">夜精灵用户</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</fui-label>\n\t\t\t\t\t\t<fui-label margin=\"0 0 0 40rpx\">\n\t\t\t\t\t\t\t<view class=\"fui-align__center\">\n\t\t\t\t\t\t\t\t<fui-radio value=\"2\" :scaleRatio=\"0.9\"></fui-radio>\n\t\t\t\t\t\t\t\t<text class=\"fui-text\">二维码</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</fui-label>\n\t\t\t\t\t\t<fui-label margin=\"0 0 0 40rpx\">\n\t\t\t\t\t\t\t<view class=\"fui-align__center\">\n\t\t\t\t\t\t\t\t<fui-radio value=\"3\" :scaleRatio=\"0.9\"></fui-radio>\n\t\t\t\t\t\t\t\t<text class=\"fui-text\">微信</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</fui-label>\n\t\t\t\t\t</view>\n\t\t\t\t</fui-radio-group>\n\t\t\t</view>\n\t\t\t<view class=\"share-content\" v-if=\"shareType == '1'\">\n\t\t\t\t<text>用户名</text>\n\t\t\t\t<l-input placeholder=\"请输入文字\"></l-input>\n\t\t\t</view>\n\t\t\t<view class=\"visitor-box\">\n\t\t\t\t<view class=\"vistor-title\">\n\t\t\t\t\t<text class=\"title\">设置访客权限</text>\n\t\t\t\t\t<text @click=\"checkAll\">全选</text>\n\t\t\t\t</view>\n\t\t\t\t<l-checkbox-group ref=\"checkboxGroupRef\" iconSize=\"35rpx\" fontSize=\"30rpx\" @change=\"onChange\" direction=\"horizontal\">\n\t\t\t\t\t<l-checkbox value=\"1\" label=\"视频预览\" />\n\t\t\t\t\t<l-checkbox value=\"2\" label=\"视频回放\" />\n\t\t\t\t\t<l-checkbox value=\"3\" label=\"云台控制\" />\n\t\t\t\t\t<l-checkbox value=\"4\" label=\"对讲\" />\n\t\t\t\t\t<l-checkbox value=\"5\" label=\"声音\" />\n\t\t\t\t\t<l-checkbox value=\"6\" label=\"推送\" />\n\t\t\t\t\t<l-checkbox value=\"7\" label=\"设备管理\" />\n\t\t\t\t</l-checkbox-group>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"btn\">\n\t\t\t<l-button type=\"primary\" block>分享</l-button>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\tconst checkboxGroupRef = ref<LCheckboxGroupComponentPublicInstance|null>(null);\n\n\tconst sharedCount = ref<string>('2')\n\tconst shareType = ref<string>('1')\n\n\tconst goVisitor = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceShare/deviceVisitor',\n\t\t})\n\t}\n\n\tconst change = (value : string) => {\n\t\tshareType.value = value\n\t}\n\n\tconst onChange = (e: string[]) => {\n\t\tuni.__log__('log','at pages/index/deviceShare/deviceShare.uvue:83','onChange', e)\n\t}\n\tconst checkAll = () => {\n\t\tif(checkboxGroupRef.value == null) return\n\t\tcheckboxGroupRef.value!.toggleAll(true)\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-bottom: 50rpx;\n\t\t\t.share-title{\n\t\t\t\tpadding:0 20rpx;\n\t\t\t}\n\t\t\t.list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding:20rpx 20rpx 0;\n\t\t\t\t\n\t\t\t\t.shared-title{\n\t\t\t\t\t@extend .list;\n\t\t\t\t\tpadding:0;\n\t\t\t\t\t.shared-count{\n\t\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t\t\tcolor: #9d2ddf;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.title{\n\t\t\t\tpadding:0 20rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t.share-type{\n\t\t\t\tpadding:30rpx;\n\t\t\t\t.fui-list__item{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\t.fui-align__center{\n\t\t\t\t\t\t@extend .fui-list__item;\n\t\t\t\t\t\t.fui-text{\n\t\t\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.share-content{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: flex-start;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 10rpx 30rpx;\n\t\t\t\twidth: 100%;\n\t\t\t\t.l-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tborder: 1rpx solid #ccc;\n\t\t\t\t\tpadding: 10rpx 20rpx;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.visitor-box{\n\t\t\t\tpadding: 30rpx 0;\n\t\t\t\t.vistor-title{\n\t\t\t\t\tpadding: 20rpx 20rpx 30rpx 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\t\t\t\t.l-checkbox-group {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tpadding: 0 20rpx;\n\t\t\t\t\t.l-checkbox {\n\t\t\t\t\t\tmargin:0 30rpx 30rpx 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t.btn{\n\t\t\tmargin-top: 100rpx;\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\" @click=\"toDetail\">\n\t\t\t\t<text>张三</text>\n\t\t\t\t<l-icon name=\"chevron-right\" size=\"30\"></l-icon>\n\t\t\t</view>\n\t\t\t<view class=\"list nounderline\">\n\t\t\t\t<text>李四</text>\n\t\t\t\t<l-icon name=\"chevron-right\" size=\"30\"></l-icon>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\n\n\tconst toDetail = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/index/deviceShare/visitorDetail'\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tpadding: 20rpx;\n\t\tbackground-color: #f5f5f5;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\t.list{\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-bottom: 1rpx solid #f1f1f1;\n\t\t\t\t\n\t\t\t}\n\t\t\t.nounderline{\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<text>访客信息</text>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"list\">\n\t\t\t\t<text>访客姓名</text>\n\t\t\t\t<text>张三</text>\n\t\t\t</view>\n\t\t\t<view class=\"list nounderline\">\n\t\t\t\t<text>分享时间</text>\n\t\t\t\t<text>2023-12-12 12:12:12</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"content-title\">\n\t\t\t<text>访客权限</text>\n\t\t\t<l-icon name=\"task-checked\"  @click=\"checkAll\" size=\"20\"></l-icon>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<l-checkbox-group ref=\"checkboxGroupRef\" v-model=\"checked\" @change=\"onChange\" fontSize=\"28rpx\" iconSize=\"20\" direction=\"vertical\">\n\t\t\t\t<l-checkbox value=\"1\" label=\"视频预览\" />\n\t\t\t\t<l-checkbox value=\"2\" label=\"视频回放\" />\n\t\t\t\t<l-checkbox value=\"3\" label=\"云台控制\" />\n\t\t\t\t<l-checkbox value=\"4\" label=\"对讲\" />\n\t\t\t\t<l-checkbox value=\"5\" label=\"声音\" />\n\t\t\t\t<l-checkbox value=\"6\" label=\"推送\" />\n\t\t\t\t<l-checkbox value=\"7\" label=\"设备管理\" />\n\t\t\t</l-checkbox-group>\n\t\t</view>\n\t\t<view class=\"btn-box\">\n\t\t\t<fui-button type=\"default\" borderColor=\"#6831ff\" color=\"#6831ff\" width=\"40%\" text=\"删除访客\" />\n\t\t\t<fui-button type=\"primary\" width=\"40%\" text=\"保存\" />\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport { ref } from 'vue'\n\tconst checkboxGroupRef = ref<LCheckboxGroupComponentPublicInstance|null>(null);\n\tconst checked = ref<string[]>(['1','3','7'])\n\n\n\tconst onChange = (e: string[]) => {\n\t\tuni.__log__('log','at pages/index/deviceShare/visitorDetail.uvue:43','onChange', e)\n\t\tchecked.value = e\n\t}\n\tconst checkAll = () => {\n\t\tif(checkboxGroupRef.value == null) return\n\t\tcheckboxGroupRef.value!.toggleAll(true)\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 20rpx 30rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin: 20rpx 0 50rpx 0;\n\t\t\t.list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f5f5f5;\n\t\t\t}\n\t\t\t.nounderline{\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\t\t\t.l-checkbox {\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row-reverse;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 30rpx 0;\n\t\t\t\tborder-bottom: 1rpx solid #f5f5f5;\n\t\t\t}\n\t\t}\n\t\t.content-title{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 30rpx;\n\t\t}\n\t\t.btn-box{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\t}\t\n</style>\n","<template>\n\t<view class=\"container\">\n\t\t<TopNavBar title=\"添加新设备\" :showBack=\"true\" @back=\"goback\" :isText=\"true\" rightText=\"常见问题\"/>\n\t\t<view class=\"content\">\n\t\t\t<view class=\"camera-box\">\n\t\t\t\t<camera style=\"width: 100%; height: 300px;\" :resolution=\"'medium'\" :device-position=\"devicePosition\" mode=\"scanCode\"\n\t\t\t\t\t:flash=\"flash\" :frame-size=\"frameSize\" @error=\"handleError\" @initdone=\"handleInitDone\">\n\t\t\t\t</camera>\n\t\t\t\t<view class=\"tips\">请扫描机身上的二维码</view>\n\t\t\t\t<view class=\"tools\">\n\t\t\t\t\t<view class=\"icon-container\">\n\t\t\t\t\t\t <image class=\"icons\" src=\"/static/device/flashlight.png\"  mode=\"aspectFit\" @click=\"switchFlash\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"icon-container\">\n\t\t\t\t\t\t<image class=\"icons\" src=\"/static/device/picture.png\" mode=\"aspectFit\" @click=\"scanImg\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"other-ways\">找不到二维码时，请选择以下方式</view>\n\t\t<view class=\"ways-box\">\n\t\t\t<view class=\"ways-item\">\n\t\t\t\t<text class=\"ways-title\">WIFI摄像机</text>\n\t\t\t\t<text class=\"ways-desc\">使用扫APP二维码的配网方式</text>\n\t\t\t</view>\n\t\t\t<view class=\"ways-item\">\n\t\t\t\t<text class=\"ways-title\">4G摄像机</text>\n\t\t\t\t<text class=\"ways-desc\">使用4G网络的摄像机</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"uts\">\n\timport\t{ ref } from 'vue'\n\timport TopNavBar from '@/components/TopNavBar.uvue'\n\n\n\tconst flash = ref<string>('off')\n\tconst devicePosition = ref<string>('back')\n\tconst frameSize = ref<string>('medium')\n\t\n\tconst goback = () => {\n\t\tuni.navigateBack()\n\t}\n\n\tconst handleError = (err: any) => {\n\t\tuni.showToast({\n\t\t\ttitle: '请允许使用摄像头',\n\t\t})\n\t}\n\n\tconst handleInitDone = () => {\n\t\tuni.showToast({\n\t\t\ttitle: '初始化成功',\n\t\t})\n\n\t\tuni.scanCode({\n\t\t\tsuccess(res) {\n\t\t\t\tuni.__log__('log','at pages/index/addNewDevice/addNewDevice.uvue:60',\"扫描结果：\", res.result);\n\t\t\t},\n\t\t\tfail(err) {\n\t\t\t\tuni.__log__('error','at pages/index/addNewDevice/addNewDevice.uvue:63',\"扫描失败：\", err);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst switchFlash = () => {\n\t\tflash.value = flash.value == 'off' ? 'on' : 'off'\n\t}\n\n\tconst scanImg = () => {\n\t\tuni.chooseImage({\n\t\t\tcount: 1,\n\t\t\tsourceType: ['album'],\n\t\t\tsuccess: (res) => {\n\t\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: false,\n\t\t\t\tscanType: ['qrCode'],\n\t\t\t\tsuccess: (scanRes) => {\n\t\t\t\t\tuni.__log__('log','at pages/index/addNewDevice/addNewDevice.uvue:81','识别结果:', scanRes.result);\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tuni.__log__('error','at pages/index/addNewDevice/addNewDevice.uvue:84','识别失败:', err);\n\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.container{\n\t\theight: 100%;\n\t\tbackground-color: #f5f5f5;\n\t\t.content{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding:50rpx 100rpx 30rpx;\n\t\t\t.tips{\n\t\t\t\tpadding: 50rpx 0 20rpx 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\t\t\t.tools{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\t.icon-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\twidth: 50%;\n\t\t\t\t\t.icons{\n\t\t\t\t\t\twidth: 80rpx;\n\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.other-ways{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tmargin: 30rpx 0;\n\t\t\t\n\t\t}\n\t\t.ways-box{\n\t\t\tpadding: 0 30rpx;\n\t\t\t.ways-item{\n\t\t\t\tpadding:30rpx;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t.ways-title{\n\t\t\t\t\tfont-size: 35rpx;\n\t\t\t\t\tmargin-bottom: 15rpx;\n\t\t\t\t}\n\t\t\t\t.ways-desc{\n\t\t\t\t\tfont-size: 25rpx;\n\t\t\t\t\tcolor:#999;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n</style>\n","export default \"__VITE_ASSET__f23aca4e__\"","export default \"__VITE_ASSET__47797226__\"","<script lang=\"uts\">\r\n\tlet firstBackTime = 0\r\n\texport default {\r\n\t\tonLaunch: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:5','App Launch')\r\n\t\t},\r\n\t\tonShow: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:8','App Show')\r\n\t\t},\r\n\t\tonHide: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:11','App Hide')\r\n\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tonExit: function () {\r\n\t\t\tuni.__log__('log','at App.uvue:32','App Exit')\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/*每个页面公共css */\r\n\t.uni-row {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.uni-column {\r\n\t\tflex-direction: column;\r\n\t}\r\n</style>"],"names":["isNumber","isString","isNumeric","icons","ref","name","inject","computed","_a","defineComponent","e","videoSrc","onMounted","i","v","watchEffect","nextTick","x","y","a","b","day","icon","getCurrentInstance","DayutsLocale","S","H","D","W","M","Q","Y","u","c","n","_","s","k","reactive","en","zhCn","locale","l","d","_e","m","unit","arg","T","t","RadioItem","_useModel","toBoolean","r","g","h","p","q","_t","f","R","G","B","shallowRef","steps","colors","onUnmounted","it","_useSlots","index","watch","provide","onLoad","location","tabItem","ContentType","_b","_d","_c","uniCloud","onBeforeUnmount","toRaw","item","res","onPageShow","onBeforeMount","events","j"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9NC,YAAM,eAAe7D,IAAAA,OAAmC,gBAAgB,IAAI;AAC5E,YAAM,eAAeA,IAAAA,OAAmC,gBAAgB,IAAI;AAE5E,YAAM,QAAQ;AACd,YAAM,QAAQ;AAkBd,YAAM,aAAaC,IAAAA,SAAS,MAAA;;AAC3B,YAAI,QAAQ,OAAM,oEAAmE,cAAc,MAAM,QAAQ;AACjH,YAAI,MAAM;AAAU,iBAAO,MAAM;AACjC,gBAAOC,MAAA,iBAAY,QAAZ,iBAAY,SAAA,OAAZ,aAAc,WAAS,QAAAA,QAAA,SAAAA,MAAA;AAAA,MAC/B,CAAC;AACD,YAAM,aAAaD,IAAAA,SAAS,MAAA;;AAC3B,YAAI,MAAM;AAAU,iBAAO,MAAM;AACjC,gBAAOC,MAAA,iBAAY,QAAZ,iBAAY,SAAA,OAAZ,aAAc,WAAS,QAAAA,QAAA,SAAAA,MAAA;AAAA,MAC/B,CAAC;AAED,YAAM,iBAAiB,CAAC2D,MAAQ,SAAA;;AAW/B,cAAM,OAAO,cAAc,OAAM,IAAA,cAAC,CAAE,CAAA,GAAEA,GAAmB;AAEzD,eAAO;AAAA,UACN,YAAK,KAAK,UAAU,KAAK,OAAC,QAAA3D,QAAA,SAAAA,MAAI;AAAA,UAC9B,MAAM,KAAK,UAAU,MAAM;AAAA,UAC3B,MAAM,KAAK,UAAU,MAAM;AAAA,UAC3B,OAAO,KAAK,UAAU,OAAO;AAAA,UAC7B,MAAM,KAAK,UAAU,MAAM;AAAA,UAC3B,MAAM,KAAK,UAAU,MAAM;AAAA,UAC3B,SAAS,KAAK,UAAU,SAAS;AAAA,UACjC,eAAQ,KAAK,UAAU,QAAQ,OAAC,QAAAoE,QAAA,SAAAA,MAAI;AAAA;MAEtC;AACA,YAAM,cAAcxE,IAAG,KAAe,YAAC,KAAA,MAAM,gBAAU,QAAA,OAAA,SAAA,KAAI,MAAM,kBAAa,QAAA,OAAA,SAAA,OAAA,GAAE,IAAI,cAAc,OAAC,QAAA,OAAA,SAAA,KAAI,CAAE,CAAA;AAEzG,YAAM,YAAYA,QAAI,CAAC;AACvB,YAAM,YAAYA,QAAuB,IAAI;AAC7C,YAAM,SAASG,IAAAA,SAAS,MAAA;;AACvB,cAAM,QAAQ,oBAAI;AAClB,cAAM,SAAS,aAAYC,MAAA,MAAM,YAAU,QAAAA,QAAA,SAAAA,MAAA,CAAC,IAAI,IAAI;AACpD,cAAM,IAAI,eAAe,GAAG,eAAM,KAAI;AACtC,cAAM,IAAI,gBAAgB,GAAG,eAAM,KAAI;AACvC,cAAM,IAAI,cAAc,GAAG,eAAM,KAAI;AACrC,eAAO;AAAA,MACR,CAAC;AACD,YAAM,YAAYD,IAAAA,SAAS,MAAA;;AAC1B,cAAM,QAAQ,oBAAI;AAGlB,cAAM,SAAS,aAAYC,MAAA,MAAM,YAAU,QAAAA,QAAA,SAAAA,MAAA,CAAC,IAAI;AAChD,YAAI,UAASoE,MAAA,MAAM,YAAM,QAAAA,QAAA,SAAAA,MAAI;AAE7B,YAAI,MAAM,aAAa,QAAQ,MAAM,UAAU,MAAM;AAEpD,gBAAM,QAAQ,UAAU,QAAQ,SAAS,SAAS;AAClD,gBAAM,IAAI,UAASE,MAAA,MAAM,eAAa,QAAAA,QAAA,SAAAA,MAAA,GAAG,cAAK,KAAI;AAAA,QASlD;AAGD,YAAI,MAAM,cAAc,MAAM;AAC7B,gBAAM,IAAI,UAAU,MAAM,UAAW;AAAA,QACrC;AACD,cAAM,IAAI,UAAU,GAAG,eAAM,KAAI;AACjC,YAAI,MAAM,eAAe,MAAM;AAC9B,gBAAM,IAAI,cAAc,MAAM,WAAY;AAAA,QAC1C;AAED,eAAO;AAAA,MACR,CAAC;AAiBD,YAAM,cAAc,CAAC,UAAc;AAClC,cAAM,OAAO,YAAY,MAAM,KAAK;AACpC,cAAM,SAAO,IAAA,cAAE,EAAE,KAAI,CAAE;MACxB;AACA,YAAM,aAAa,CAAC,UAAc;AACjC,oBAAY,KAAK;AACjB,YAAI,MAAM;AAAgB,iBAAM;AAChC,YAAI,aAAa;AAAA,UAChB,MAAM,YAAY,MAAM,OAAO,CAAC,SAAmB;AAAA,mBAAA,KAAK,WAAW;AAAA,UAAE,CAAA,EAAE,IAAI,CAAC,SAAkB;AAAA,mBAAA,KAAK;AAAA,WAAG;AAAA,UACtG,SAAS;AAAA,QACT,CAAA;AAAA,MACF;AACA,YAAM,WAAW,CAAC,UAAc;AAC/B,YAAI,WAAW,SAAS,WAAW;AAAO,iBAAO;AACjD,cAAM,UAAU,YAAY,MAAM,KAAK;AACvC,oBAAY,QAAQ,YAAY,MAAM,OAAO,CAAC,MAAMjE;AAAgB,iBAAA,SAASA;AAAA,QAAC,CAAA;AAC9E,cAAM,UAAQ,IAAA,cAAE,EAAE,OAAO,MAAM,QAAS,CAAA,CAAA;AAAA,MACzC;AAEA,UAAI;AACJ,YAAM,SAAS,CAAC,UAAoB;AACnC,YAAI,CAAC,MAAM,cAAc,MAAM,UAAU,QAAQ,MAAM,OAAQ,SAAS;AAAG,iBAAM;AACjF,YAAI,MAAM,UAAU,YAAY;AAC/B,cAAI,aAAmD,CAAA;AACvD,gBAAM,QAAQ,CAAC,MAAM,UAAK;AAGzB,kBAAM,UAAU,IAAI,QAAkC,CAAC,SAAS,WAAM;AACrE,oBAAM,WAAW,KAAK,KAAM,YAAY,GAAG;AAC3C,oBAAM,WAAW,KAAK,KAAM,UAAU,GAAG,QAAQ;AACjD,oBAAM,YAAY,KAAK,KAAM,UAAU,QAAQ;AAC/C,oBAAM,YAAY,KAAK;AAEvBkE,iBAAS,WAAW;AAAA,gBACnB,UAAU,KAAK;AAAA,gBACf,WAAW,GAAG,iBAAQ,KAAI,kBAAY;AAAA;AAAA,gBAEtC,kBAAkB,CAAC,QAAG;AACrB,uBAAK,SAAS;AACd,uBAAK,UAAU,KAAK,MAAM,IAAI,SAAS,IAAI,QAAQ,GAAG;AAAA,gBACtD;AAAA,eACD,EAAE,KAAK,SAAG;AACV,qBAAK,OAAO,IAAI;AAChB,qBAAK,SAAS;AAEdA,mBAAS,eAAe;AAAA,kBACvB,UAAU,CAAC,IAAI,MAAM;AAAA,iBACrB,EAAE,KAAK,YAAM;AACb,sBAAI,OAAO,SAAS,SAAS,GAAG;AAC/B,yBAAK,MAAM,OAAO,SAAS,CAAC,EAAE;AAAA,kBAC9B;AACD,0BAAQ,GAAG;AAAA,gBACX,CAAA,EAAE,MAAM,CAAA,QAAK,SAAA;AACb,sBAAI,QAAQ,SAAQ,oEAAmE,aAAa,KAAK;AACzG,0BAAQ,GAAG;AAAA,gBACZ,CAAC;AAAA,cAED,CAAA,EAAE,MAAM,CAAA,MAAG,SAAA;AACX,qBAAK,SAAS;AACd,uBAAO,GAAG;AAAA,cACX,CAAC;AAAA,YACF,CAAC;AACD,uBAAW,KAAK,OAA4C;AAAA,UAC7D,CAAC;AAED,kBAAQ,IAAI,UAAU,EAAE,KAAK,SAAG;AAC/B,kBAAM,WAAW,GAAG;AAAA,UACpB,CAAA,EAAE,MAAM,CAAA,MAAG,SAAA;AACX,kBAAM,QAAQ,GAAG;AAAA,UAClB,CAAC;AAAA,QACD,OAAM;AACN,cAAI,aAA4C,CAAA;AAChD,gBAAM,QAAQ,CAAC,MAAM,UAAK;AACzB,kBAAM,UAAU,IAAI,QAA2B,CAAC,SAAS,WAAM;AAC9D,oBAAM,OAAO,IAAI,WAAW;AAAA,gBAC3B,KAAK,MAAM;AAAA,gBACX,UAAU,KAAK;AAAA,gBACf,MAAM,KAAK;AAAA,gBACX,UAAU,MAAM;AAAA,gBAChB,QAAQ,MAAM;AAAA,gBACd,SAAS,CAAC,QAAG;AACZ,uBAAK,SAAS;AACd,sBAAI,IAAI,cAAc,KAAK;AAC1B,wBAAI,OAAO,IAAI,QAAQ,UAAU;AAChC,0BAAI;AACH,8BAAM,OAAO,IAAK,KAAA,MAAqB,IAAI,MAAI,aAAA;AAC/C,8BAAM,MAAM,SAAI,QAAJ,SAAI,SAAA,OAAJ,KAAM,UAAU,KAAK;AACjC,4BAAI,OAAO,MAAM;AAChB,+BAAK,OAAO;AAAA,wBACZ;AAAA,sBACD,SAAQrE,IAAG;AAAA,sBAEX;AAAA,oBACD;AAAA,kBACD;AACD,0BAAQ,GAAG;AAAA,gBACX;AAAA,gBACD,KAAK,KAAG;AACP,uBAAK,SAAS;AACd,yBAAO,GAAG;AAAA,gBACX;AAAA,cACA,CAAA;AACD,mBAAK,iBAAiB,CAAC,QAAG;AACzB,qBAAK,SAAS;AACd,qBAAK,UAAU,IAAI;AAAA,cACpB,CAAC;AAAA,YACF,CAAC;AACD,uBAAW,KAAK,OAAqC;AAAA,UACtD,CAAC;AACD,kBAAQ,IAAI,UAAU,EAAE,KAAK,SAAG;AAC/B,kBAAM,WAAW,GAAG;AAAA,UACpB,CAAA,EAAE,MAAM,CAAA,MAAG,SAAA;AACX,kBAAM,QAAQ,GAAG;AAAA,UAClB,CAAC;AAAA,QACD;AAAA,MACF;AAEA,YAAM,cAAcH,IAAAA,SAAS,MAAe;AAAA,eAAA,MAAM,OAAO,IAAI,KAAK,MAAM,MAAM,YAAY,MAAM;AAAA,MAAM,CAAA;AACtG,YAAM,WAAW,MAAA;AAChB,YAAI,WAAW,SAAS,WAAW;AAAO,iBAAO;AACjD,oBAAY;AAAA,UACX,WAAW,MAAM;AAAA,UACjB,OAAO,YAAY;AAAA,UACnB,YAAY,MAAM;AAAA,UAClB,UAAU,MAAM;AAAA,UAChB,WAAW,MAAM;AAAA,QACI,CAAA,EAAE,KAAK,CAAC,UAAK;AAClC,iBAAO,YAAY,MAAM;AACzB,sBAAY,QAAQ,YAAY,MAAM,OAAO,KAAK;AAElD,gBAAM,SAAS,YAAY,MAAM,OAAO,CAAC4D,KAAItD,OAAgB;AAAA,mBAAAA,KAAI,OAAO;AAAA,UAAC,CAAA;AACzE,iBAAO,MAAM;AACb,gBAAM,OAAO,MAAM;AAAA,QACpB,CAAC;AAAA,MACF;AAKA,YAAM,OAAOyD,IAAAA,MAAM,aAAa,CAACxD,OAAgB;AAChD,cAAM,qBAAqBA,EAAC;AAAA,MAC7B,CAAC;AAED,YAAM,YAAYwD,UAAM,MAAiC;AAAA,eAAA,MAAM;AAAA,MAAU,GAAE,CAACxD,KAA0B,SAAA;AACrG,YAAIA,MAAK,QAAQA,GAAE,UAAU,YAAY,MAAM,QAAQ;AACtD,sBAAY,QAAQA,GAAE,IAAI,cAAc;AAAA,QACxC;AAAA,MACF,CAAC;AAED,eAAa,IAAA,cAAA;AAAA,QACZ,QAAQ;AAAA,MACR,CAAA,CAAA;AAGD,YAAM,iBAAiB,IAAI,kBAAkB,CAAC,YAAuC;AACpF,kBAAU,QAAQ,QAAQ,CAAC,EAAE,OAAO,sBAAuB,EAAC;AAAA,MAC7D,CAAC;AAEDF,UAAAA,UAAU,MAAA;AACTI,YAAAA,SAAS,MAAA;;AACR,oBAAU,SAAQ4D,aAAA,UAAU,WAAK,QAAApE,QAAA,SAAA,OAAAA,IAAE,sBAAqB,EAAG,WAAK,QAAAoE,QAAA,SAAAA,MAAI;AACpE,yBAAe,QAAQ,UAAU,KAAM;AAAA,QACxC,CAAC;AAAA,MACF,CAAC;AAGDV,UAAAA,YAAY,MAAA;AACX;AAEA,uBAAe,WAAU;AAAA,MAE1B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzXD,YAAM,WAAW3C,IAAAA;AACjB,YAAM,QAAQ;AAKd,YAAM,SAASjB,IAAAA,OAA8C,cAAc,IAAI;AAC/E,YAAM,0BAA0BA,IAAAA,OAAoD,mBAAmB,IAAI;AAC3G,YAAM,oBAAoBA,IAAAA,OAAiC,+BAA+B,IAAI;AAC9F,4BAAiB,QAAjB,sBAAiB,SAAA,OAAjB,kBAAoB,SAAS,OAA8C,IAAI;AAC/E,YAAM,SAASA,IAAAA,OAAsB,oBAAoB,IAAI;AAC7D,YAAM,cAAcA,IAAAA,OAA2B,yBAAyB,IAAI;AAM5E,YAAM,WAAWF,QAAI,CAAC;AAEtB,YAAM,WAAWA,IAAAA,IAAwB,MAAM,KAAK;AACpD,YAAM,SAASG,IAAAA,SAAS,MAAe;AAAA,YAAAC;AAAA,eAAA,MAAM,UAAU,KAAK,MAAM,UAASA,MAAA,4BAAA,QAAA,4CAAA,wBAAyB,QAAQ,SAAS,KAA4C,sCAAK,MAAM;AAAA,MAAM,CAAA;AAElL,YAAM,kBAAkBD,IAAAA,SAAS,MAAA;;AAChC,cAAM,iBAAgBC,MAAA,4BAAA,QAAA,4BAAA,SAAA,OAAA,wBAAyB,YAAU,QAAAA,QAAA,SAAAA,MAAA;AACzD,eAAO,CAAC,OAAO,SAAS,GAAG,OAAO,SAAS,gBAAgB,CAAC;AAAA,MAC7D,CAAC;AACD,YAAM,aAAaD,IAAQ,SAAC;AAAiB,eAAA,CAAC,SAAS,KAAK;AAAA,MAAf,CAAgB;AAC7D,YAAM,kBAAkBA,IAAAA,SAAS,MAAA;;AAC1B,cAAA,KAAA,OAAoB,gBAAgB,OAAK,CAAA,GAAxC,UAAO,GAAA,CAAA,GAAE,SAAM,GAAA,CAAA;AACtB,YAAI,QAAQ;AAEZ,YAAG,SAAS;AACX,mBAAQ;AAAA,QACR;AACD,YAAG,QAAQ;AACV,mBAAQ;AAAA,QACR;AACD,eAAO,QACJ,cAAK,iBACG,QAAAC,MAAA,mBAAA,WAAM,SAAA,OAAN,OAAQ,+CAAc,QAAM,iDACG,0BAAA,WAAM,SAAA,OAAN,OAAQ;AAAA,MACnD,CAAC;AACD,YAAM,aAAaD,IAAAA,SAAS,MAAA;AAC3B,cAAM,QAAQ,oBAAI;AAClB,aAAI,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,cAAa,MAAM;AAC9B,gBAAM,IAAI,SAAS,OAAO,SAAU;AAAA,QACpC;AACD,aAAI,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,iBAAgB,MAAM;AACjC,gBAAM,IAAI,aAAa,OAAO,YAAa;AAAA,QAC3C;AACD,aAAG,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,eAAc,MAAM;AAC9B,gBAAM,IAAI,eAAe,OAAO,UAAW;AAC3C,gBAAM,IAAI,UAAU,OAAO,UAAW;AAAA,QACtC;AACD,eAAO;AAAA,MACR,CAAC;AACD,YAAM,mBAAmBA,IAAAA,SAAS,MAAA;AACjC,cAAM,QAAQ,oBAAI;AAClB,aAAI,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,oBAAmB,MAAM;AACpC,gBAAM,IAAI,SAAS,OAAO,eAAgB;AAAA,QAC1C;AACD,aAAI,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,yBAAwB,MAAM;AACzC,gBAAM,IAAI,eAAe,OAAO,oBAAqB;AAAA,QACrD;AACD,eAAO;AAAA,MACR,CAAC;AAGD,YAAM,kBAAkB,CAAC,MAAwB,SAAA;AAChD,YAAI,eAAe;AACnB,YAAI,OAAO,MAAM;AAChB,yBAAe,MAAM,QAAQ,UAAU,CAAC,OAAI;AAAK,mBAAA,KAAK,SAAS;AAAA,UAAG,CAAA;AAAA,QAClE;AACD,eAAO,eAAe,IAAI,IAAI;AAAA,MAC/B;AAEA,YAAM,WAAW,CAAC,UAAc;AACf,iBAAS;AACzB,YAAI,SAAS,MAAM,OAAO,GAAI,MAAM,QAAQ,SAAS,CAAC;AACtD,YAAG,MAAM,QAAQ,SAAS,QAAQ;AACjC,mBAAS,QAAQ;AACjB,mBAAS,QAAQ,MAAM,QAAQ,MAAM,EAAE;AAAA,QACvC;AAAA,MAcF;AACA,YAAM,WAAW,CAAC,QAA0B,SAAA;AAC3C,YAAI,SAAS,SAAS;AAAO,iBAAM;AACnC,iBAAS,QAAQ;AACjB,cAAM,QAAQ,gBAAgB,KAAK;AACnC,iBAAS,KAAK;AAAA,MACf;AACA,YAAM,aAAa,MAAQ;AAAA;AAC3B,YAAM,iBAAiB,MAAA;AACtB,cAAM,QAAQ,MAAM,SAAS,OAAO,GAAI,MAAM,QAAQ,SAAS,CAAC;AAChE,cAAM,UAAU,MAAM,QAAQ,SAAS,QAAQ,MAAM,QAAQ,KAAK,IAAI;AACtE,YAAI,WAAW;AAAM,iBAAM;AAC3B,wBAAA,QAAA,gBAAA,SAAA,OAAA,YAAc,SAAS,OAAO,OAAO,KAAK;AAAA,MAC3C;AAEA,YAAM,aAAa,CAACG,OAA4B;AAC/C,YAAG,MAAM,QAAQ,UAAU;AAAG,iBAAM;AACpC,cAAM,QAAQ,MAAMA,GAAE,OAAO,MAAM,CAAC,GAAG,GAAI,MAAM,QAAQ,SAAS,CAAC;AACnE,cAAM,UAAU,MAAM,QAAQ,KAAK;AACnC,YAAG,SAAS,SAAS;AAAO,iBAAM;AAClC,iBAAS,KAAK;AACd,mBAAA,QAAA,WAAA,SAAA,OAAA,OAAS,SAAS,OAAO,OAAO,KAAK;AAAA,MACtC;AAEA,YAAM,YAAY4D,UAAM,MAA2B;AAAA,eAAA,MAAM;AAAA,MAAK,GAAE,CAACxD,KAAsB,SAAA;AACtF,iBAASA,EAAC;AACV;MACD,GAAG,EAAE,WAAW,KAAI,CAAE;AAkDtBkE,UAAAA,gBAAgB,MAAA;AACf,8BAAiB,QAAjB,sBAAiB,SAAA,OAAjB,kBAAoB,SAAS,OAA8C,KAAK;AAAA,MAOjF,CAAC;AAMD,eAAa,IAAA,cAAA;AAAA,QACZ;AAAA,QACA;AAAA;AAAA;AAAA,QAGA;AAAA,MACA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WC3Nc,OAAU,KAAU,OAAe,OAAQ;AASxD,QAAI,KAAK,IAAI;AAAA,EAEhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkDC,YAAM,OAAO;AACb,YAAM,QAAQ;AAMd,YAAM,0BAA0B1C,aAA+C,CAAA,CAAE;AACjF,YAAM,WAAWlC,QAAI,CAAC;AACtB,YAAM,aAAaA,IAAG,WAAgB,MAAA,KAAA,MAAM,wCAAS,MAAM,gBAAc,QAAA,OAAA,SAAA,KAAA,MAAM,kBAAY,QAAA,OAAA,SAAA,KAAI,CAAE,CAAA;AACjG,YAAM,cAAcG,IAAAA,SAAS;AAAA,QAC5B,IAAI,OAAqB;AACxB,cAAI,MAAM,KAAK,EAAE,KAAK,WAAW,MAAM,KAAK,EAAE;AAAG,mBAAM;AACvD,qBAAW,QAAQ;AACnB,eAAK,qBAAqB,KAAK;AAC/B,eAAK,UAAU,KAAK;AAAA,QACpB;AAAA,QACD,MAAG;;AACF,kBAAOqE,OAAApE,MAAA,MAAM,WAAK,QAAAA,QAAA,SAAAA,MAAI,MAAM,gBAAU,QAAAoE,QAAA,SAAAA,MAAI,WAAW;AAAA,QACtD;AAAA,MAC0C,CAAA;AAE3C,YAAM,UAAUrE,IAAAA,SAAS,MAAA;AACxB,eAAO,MAAM,QAAQ,UAAU,KAAK,wBAAwB,MAAM,CAAA,QAAK,SAAI;AAAA,iBAAA,MAAM,QAAQ,UAAU;AAAA,QAAC,CAAA;AAAA,MACrG,CAAC;AACD,YAAM,SAASA,IAAAA,SAAS,MAAA;AACvB,cAAM,QAAQ,oBAAI;AAClB,YAAI,MAAM,WAAW,MAAM;AAC1B,gBAAM,IAAI,cAAc,MAAM,OAAQ;AAAA,QACtC;AACD,YAAI,MAAM,UAAU,MAAM;AACzB,gBAAM,IAAI,0BAA0B,MAAM,MAAO;AACjD,gBAAM,IAAI,2BAA2B,MAAM,MAAO;AAAA,QAClD;AACD,eAAO;AAAA,MACR,CAAC;AAED,YAAM,gBAAgBH,QAAc,CAAA,CAAE;AACtC,YAAM,gBAAgBA,IAAAA,IAAI,CAAC,GAAG,YAAY,KAAK,CAAC;AAChD,YAAM,eAAoC,CAAA;AAC1C,YAAM,cAAcG,IAAAA,SAAS,MAAA;AAC5B,cAAM,gBAAgB,wBAAwB,IAAI,CAAC,QAAK,SAAA;AAAoB,iBAAA,MAAM;AAAA,QAAN,CAAa;AACzF,YAAI,cAAc,SAAS,GAAG;AAC7B,iBAAO;AAAA,QACP;AACD,eAAO,MAAM;AAAA,MACd,CAAC;AAED,YAAM,oBAAoB,CAAC,QAAA,MAA4C,cAAmB;AACzF,cAAM,QAAQ,wBAAwB,QAAQ,KAAK;AACnD,YAAI,WAAW;AACd,cAAI,SAAS;AAAI,mBAAM;AACvB,kCAAwB,KAAK,KAAK;AAAA,QAClC,OAAM;AACN,cAAI,SAAS;AAAI,mBAAM;AACvB,kCAAwB,OAAO,OAAO,CAAC;AAAA,QACvC;AAAA,MACF;AAEA,YAAM,cAAc,CAAC,MAAyB,OAAgB,WAAe;AAC5E,eAAO,cAAc,OAAO,QAAQ,KAAK;AACzC,eAAO,cAAc,OAAO,QAAQ,KAAK,KAAK;AAC9C,eAAO,cAAc,QAAQ,IAAI;AAAA,MAClC;AAEA,YAAM,oBAAoB,MAAA;AACzB,cAAM,UAAqB,CAAA;AAC3B,cAAM,UAAkB,CAAA;AACxB,gCAAwB,QAAQ,CAAC,QAAK,MAAE,WAAM;AAC7C,cAAI,MAAM,QAAQ,UAAU;AAAG,mBAAM;AACrC,gBAAM,QAAQ,cAAc,MAAM,SAAS,SAAS,cAAc,MAAM,MAAM,IAAI;AAQlF,gBAAM,QAAkB,SAAS,OAAO,IAAI,MAAM,YAAY,mBAAmB,KAAK;AACtF,gBAAM,YAAY,YAAY,KAAK;AAEnC,gBAAM,OAAO,MAAM,QAAQ,KAAK;AAChC,kBAAQ,KAAK,KAAK;AAClB,kBAAQ,KAAK,KAAK,KAAK;AAEvB,iBAAO,cAAc,QAAQ,IAAI;AAAA,QASlC,CAAC;AACD,YAAI,cAAc,MAAM,KAAK,EAAE,KAAK,QAAQ,KAAK,EAAE;AAAG,iBAAM;AAC5D,sBAAc,QAAQ;AACtB,sBAAc,QAAQ;AAEtB,oBAAY,QAAQ,CAAC,GAAG,cAAc,KAAK;AAAA,MAE5C;AAEA,YAAM,SAAS,CAAC,MAAyB,OAAgB,WAAe;AACvE,YAAI,cAAc,MAAM,MAAM,KAAK;AAAO,iBAAM;AAChD,eAAO,cAAc,OAAO,QAAQ,KAAK;AACzC,eAAO,cAAc,OAAO,QAAQ,KAAK,KAAK;AAC9C,eAAO,cAAc,QAAQ,IAAI;AACjC,cAAM,MAAwB;AAAA,UAC7B,QAAQ,cAAc;AAAA,UACtB;AAAA,UACA;AAAA;AAED,oBAAY,QAAQ,CAAC,GAAG,cAAc,KAAK;AAC3C,aAAK,QAAQ,GAAG;AAAA,MACjB;AAEA,YAAM,WAAW,CAACG,OAAmB;AACpC;AACA,aAAK,UAAUA,EAAC;AAAA,MACjB;AACA,YAAM,YAAY,CAACA,OAAmB;AACrC,cAAM,SAAS,CAAC,GAAG,cAAc,KAAK;AACtC,cAAM,SAAS,CAAC,GAAG,cAAc,KAAK;AACtC,cAAM,QAAQ,aAAa,IAAI,CAAC,SAA4B;AAAA,iBAAAuE,UAAM,IAAI;AAAA,QAAV,CAAW;AACvE,YAAI,YAAY,MAAM,KAAK,EAAE,KAAK,OAAO,KAAK,EAAE,GAAG;AAClD,sBAAY,QAAQ;AAAA,QACpB;AACD,cAAM,MAA2B;AAAA,UAChC;AAAA,UACA;AAAA,UACA;AAAA;AAED,aAAK,WAAW,GAAG;AAAA,MACpB;AACA,YAAM,kBAAkBX,UAAM,aAAa,MAAA;AAC1C,YAAI,YAAY,MAAM,KAAK,EAAE,KAAK,cAAc,MAAM,KAAK,EAAE;AAAG,iBAAM;AACtE,sBAAc,QAAQ,YAAY,MAAM,IAAI,CAAC,gBAAuB;AAAA,iBAAA;AAAA,QAAI,CAAA;AACxE;MACD,CAAC;AAED,YAAM,cAAcA,UAAM,aAAa,MAAA;AACtC;MAOD,CAAC;AAiCD1D,UAAAA,UAAU,MAAA;AACTI,YAAAA,SAAS,MAAA;AAER,cAAI,YAAY,MAAM,KAAK,EAAE,KAAK,cAAc,MAAM,KAAK,EAAE,KAAK,YAAY,MAAM,SAAS,GAAG;AAC/F,0BAAc,QAAQ,CAAC,GAAG,YAAY,KAAK;AAC3C;UACA;AAAA,QACF,CAAC;AAAA,MACF,CAAC;AAED,YAAM,aAAaZ,QAAuB,IAAI;AAE9C,YAAM,aAAa,WAAW,UAAU;AACxC,iBAAW,OAAO;AAClB,iBAAW,SAAQwC,MAAA,MAAM,kBAAgB,QAAAA,QAAA,SAAAA,MAAA;AACzC,iBAAW,QAAQ,YAAY,MAAM,WAAW;AAChD7B,UAAAA,YAAY,MAAA;AACX,YAAI,MAAM,SAAS;AAClB,qBAAW,KAAI;AAAA,QACf,OAAM;AACN,qBAAW,MAAK;AAAA,QAChB;AAAA,MACF,CAAC;AAGDiE,UAAAA,gBAAgB,MAAA;AACf;AACA;MACD,CAAC;AAEDT,kBAAQ,cAAc,KAAK;AAC3BA,kBAAQ,oBAAoB,MAAM;AAClCA,kBAAQ,yBAAyB,WAAW;AAC5CA,kBAAQ,mBAAmB,uBAAuB;AAClDA,kBAAQ,+BAA+B,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpQnD,WAAU,IAAI,KAAO,MAAA;AAC1B,QAAG,OAAO,MAAM,6BAA6B;AAC5C,aAAO,sBAAsB,EAA+B;AAAA,IAC5D,OAAM;AACN,aAAO,sBAAsB,EAA6C;AAAA,IAC1E;AAAA,EACF;ACIM,WAAU,cAAc,SAA8B;;AAC3D,UAAM,QAAQnE,QAAI,KAAK;AACvB,UAAM,UAAUA,QAAI,KAAK;AACzB,UAAM,SAASA,QAAI,KAAK;AACxB,UAAM,UAAUA,QAAI,EAAE;AACtB,UAAMC,QAAOD,IAAAA,KAAI,KAAA,QAAQ,iBAAW,QAAA,OAAA,SAAA,KAAI,MAAM;AAE9C,UAAM,cAAa,KAAA,QAAQ,gBAAU,QAAA,OAAA,SAAA,KAAI;AACzC,UAAM,oBAAmB,KAAA,QAAQ,sBAAgB,QAAA,OAAA,SAAA,KAAI;AACrD,UAAM,gBAAe,KAAA,QAAQ,kBAAY,QAAA,OAAA,SAAA,KAAI;AAC7C,UAAM,oBAAmBwC,MAAA,QAAQ,sBAAgB,QAAAA,QAAA,SAAAA,MAAI;AACrD,UAAM,gBAAe,KAAA,QAAQ,kBAAY,QAAA,OAAA,SAAA,KAAI;AAC7C,UAAM,cAAa,KAAA,QAAQ,gBAAU,QAAA,OAAA,SAAA,KAAI;AAEzC,UAAM,UAAS,KAAA,QAAQ,YAAM,QAAA,OAAA,SAAA,KAAI;AACjC,UAAM,YAAW,KAAA,QAAQ,cAAQ,QAAA,OAAA,SAAA,KAAI;AAErC,QAAI,SAA4B;AAChC,QAAI,kBAAkB;AACtB,QAAI,kBAAkB;AACtB,QAAI,YAAY;AAEhB,UAAM,YAAY,CAAC,UAA4B;;AAC9C,OAAApC,MAAA,QAAQ,WAAQ,QAAAA,QAAA,SAAA,SAAAA,IAAA,KAAA,SAAA,KAAK;AAAA,IACtB;AAGA,UAAM,WAAW,MAAA;AAChB,UAAI;AAAiB;AACrB,wBAAkB;AAClB,gBAAU,SAAS,cAAQ;AAC3B,UAAI,QAAQ,SAAS,CAAC,MAAM,OAAO;AAClC,gBAAQ,QAAQ;AAAA,MAChB;AAAA,IACF;AAEA,UAAM,QAAQ,MAAA;AACb,aAAO,IAAI,QAAQ,CAAC,YAAO;AAC1BQ,YAAAA,SAAS,MAAA;AACR,cAAI,MAAA;;AAEH,wBAAI,QAAQ,aAAS,QAAAR,QAAA,SAAA,SAAAA,IAAA,UAAS,MAAM;AACnC,eAAAqE,OAAAC,OAAAF,MAAA,QAAQ,aAAO,QAAAA,QAAA,SAAA,SAAAA,IAAE,WAAK,QAAAE,QAAA,SAAA,SAAAA,IAAE,2BAA0B,OAAI,QAAAD,QAAA,SAAA,SAAAA,IAAA,KAAK,SAAG;AAC7D;cACD,CAAC;AAAA,YACD,OAAM;AACN;YACA;AAAA,UAKF,CAAC;AAAA,QACF,CAAC;AAAA,MACF,CAAC;AAAA,IACF;AAEA,UAAM,gBAAgB,CAACxE,UAAa;AACnC,aAAO,oBAAI,IAAoB;AAAA,QAC9B,CAAC,SAAS,KAAK,OAAAA,OAAI,aAAY,OAAAA,OAAI,kBAAiB,mBAAU,KAAI,wBAAkB;AAAA,QACpF,CAAC,YAAY,KAAK,OAAAA,OAAI,gBAAe,OAAAA,OAAI,kBAAiB,qBAAY,KAAI,wBAAkB;AAAA,QAC5F,CAAC,SAAS,KAAK,OAAAA,OAAI,aAAY,OAAAA,OAAI,kBAAiB,mBAAU,KAAI,wBAAkB;AAAA,QACpF,CAAC,YAAY,KAAK,OAAAA,OAAI,gBAAe,OAAAA,OAAI,kBAAiB,qBAAY,KAAI,wBAAkB;AAAA,MAC5F,CAAA;AAAA,IACF;AAEA,UAAM,kBAAkBD,QAAwB,CAAA,CAAE;AAElD,UAAM,oBAAoB,CAAO,WAA8B,cAA4B;AAAA,aAAA,UAAA,MAAA,QAAA,QAAA,aAAA;;AAC1F,YAAI,UAAU;AAAW;AACzB,wBAAgB,MAAM,KAAK,SAAS;AACpC,YAAI;AAAiB;AACrB,0BAAkB;AAElB,0BAAkB;AAClB,eAAO,gBAAgB,MAAM,SAAS,GAAG;AACxC,gBAAM,gBAAgB,gBAAgB,MAAM,MAAK;AACjD,mBAAS;AACT,oBAAU,UAAU,iBAAW;AAE/B,gBAAM,MAAK;AACX,gBAAM,MAAK;AACX,cAAI,UAAU;AAAe;AAE7B,gBAAM,aAAa,cAAcC,MAAK,KAAK;AAC3C,iBAAO,QAAQ;AACf,kBAAQ,QAAQ;AAChB,kBAAQ,QAAQ,WAAW,IAAI,SAAS;AACxC,oBAAU,SAAS;AAEnB,gBAAM,oBAAmBG,MAAA,QAAQ,gBAAU,QAAAA,QAAA,SAAA,SAAAA,IAAA,KAAA,SAAG,SAAS;AACvD,cAAI,oBAAoB,MAAM;AAC7B,kBAAM;AAAA,UACN;AAED,gBAAM,MAAK;AAKX,cAAI,UAAU;AAAe;AAC7B,kBAAQ,QAAQ,WAAW,IAAI,GAAG,kBAAS,MAAK;AAGhD,cAAI,UAAU,SAAS;AACtB,uBAAW,MAAA;AACV;YACA,GAAE,QAAQ;AAAA,UACX;AAAA,QAED;AAED,qBAAa,SAAS;AACtB,oBAAY,WAAW,MAAA;AACtB,cAAI,gBAAgB,MAAM,UAAU,KAAK,UAAU,WAAW;AAC7D,8BAAkB;AAAA,UAClB;AAAA,QACF,GAAG,WAAW,GAAG;AAEjB,0BAAkB;AAAA,MAClB,CAAA;AAAA;AAED,UAAM,QAAQ,MAAA;AACb,wBAAkB,SAAS,OAAO;AAAA,IACnC;AAGA,UAAM,QAAQ,MAAA;AACb,wBAAkB,SAAS,OAAO;AAAA,IACnC;AAEA,QAAI,OAAO;AACXO,QAAAA,YAAY,MAAA;AACX,UAAI,QAAQ,WAAW;AAAM;AAC7B,YAAM,QAAQ,QAAQ;AACtB,UAAI,CAAC,UAAU,CAAC,MAAM;AACrB,eAAO;AACP;AAAA,MACA;AAED,UAAI,MAAM,OAAO;AAChB;MACA,OAAM;AACN;MACA;AAAA,IACF,CAAC;AACDA,QAAAA,YAAY,MAAA;AACX,UAAI,QAAQ,QAAQ;AAAM;AAC1B,MAAAV,MAAK,QAAQ,QAAQ;IACtB,CAAC;AAED,UAAM,SAAS,CAACS,OAAW;AAC1B,YAAM,QAAQA;AACd,UAAIA,IAAG;AACN;MACA,OAAM;AACN;MACA;AAAA,IACF;AAEA,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,MAAAT;AAAA,MACA;AAAA,MACA;AAAA;EAEF;;;;;;;;;;;;;;;;ACxLC,UAAM,QAAQ;AASd,UAAM,OAAO;AAEP,UAAA,KAAuC,cAAc;AAAA,MAC1D,aAAa;AAAA,MACb,QAAQ,MAAM;AAAA,MACd,OAAO,CAACA,UAAgC;AAAA,aAAKA,KAAI;AAAA,MAAG;AAAA,MACpD,SAAS,MAAe;AAAA,eAAA,MAAM;AAAA,MAAO;AAAA,MACrC,UAAU,MAAM;AAAA,IACQ,CAAA,GANlB,SAAM,GAAA,QAAE,UAAO,GAAA,SAAE,UAAO,GAAA,SAAE,WAAQ,GAAA;AAQzC,UAAM,SAASE,IAAAA,SAA0B,MAAA;AACxC,YAAM,QAAQ,oBAAI;AAClB,UAAI,MAAM,WAAW,MAAM;AAC1B,cAAM,IAAI,cAAc,MAAM,OAAQ;AAAA,MACtC;AACD,UAAI,MAAM,SAAS,GAAG;AACrB,cAAM,IAAI,WAAW,MAAM,MAAM;AAAA,MACjC;AAOD,aAAO;AAAA,IACR,CAAC;AAED,UAAM,OAAO,MAAO;AAAA;AACpB,UAAM,UAAU,CAAC,UAAsB;AAEtC,WAAK,SAAS,CAAC,MAAM,OAAO;AAAA,IAC7B;AAEA,UAAM,aAAaH,QAAqB,IAAI;AAE5CW,QAAAA,YAAY,MAAA;;AACX,OAAAP,MAAA,WAAW,WAAO,QAAAA,QAAA,SAAA,OAAAA,IAAA,MAAM,YAAY,uBAAuB,GAAG,aAAM,UAAQ,KAAI;AAChF,UAAG,CAAC,QAAQ,OAAM;AACjB,SAAAoE,MAAA,WAAW,WAAK,QAAAA,QAAA,SAAA,OAAAA,IAAE,MAAM,YAAY,WAAW,MAAM;AAAA,MACrD,OAAM;AACN,SAAA,KAAA,WAAW,WAAK,QAAA,OAAA,SAAA,OAAA,GAAE,MAAM,YAAY,WAAW,MAAM;AAAA,MACrD;AAAA,IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;ACxEI,WAAU,cAAc,QAAY;;AACzC,QAAI,MAAM,QAAQ,MAAM,GAAG;AAC1B,YAAM,SAAS,OAAO,IAAI,CAAC,SAAuB;AAAA,eAAA,QAAQ,IAAI;AAAA,MAAZ,CAAa;AAC/D,UAAI,OAAO,UAAU,GAAG;AACvB,eAAO,CAAC,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,CAAE;AAAA,MACtD;AACD,UAAI,OAAO,UAAU,GAAG;AACvB,eAAO,CAAC,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,CAAE;AAAA,MACtD;AACD,UAAI,OAAO,UAAU,GAAG;AACvB,eAAO,CAAC,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,CAAE;AAAA,MACtD;AACD,UAAI,OAAO,UAAU,GAAG;AACvB,eAAO,CAAC,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,GAAI,OAAO,CAAC,CAAE;AAAA,MACtD;AACD,aAAO,CAAC,KAAK,KAAK,KAAK,GAAG;AAAA,IAC1B;AACD,UAAM,SAAQ,KAAA,QAAQ,MAAM,OAAK,QAAA,OAAA,SAAA,KAAA;AACjC,WAAO,CAAC,OAAO,OAAO,OAAO,KAAK;AAAA,EACnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDC,YAAM,OAAO;AACb,YAAM,QAAQ;AAcd,YAAM,aAAazB,IAAAA,SAAW,SAAA,YAAgB;AAC9C,YAAM,aAAa5C,IAAAA,SAAS;AAAA,QAC3B,IAAI,OAAc;AACjB,qBAAW,QAAQ;AACnB,eAAK,UAAU,KAAK;AAAA,QACpB;AAAA,QACD,MAAG;AAKF,iBAAO,MAAM,WAAW,WAAW;AAAA,QAEpC;AAAA,MACoC,CAAA;AACrC,YAAM,SAASH,QAA0B,cAAc;AACjD,YAAA,KAAuC,cAAc;AAAA,QAC1D,cAAa,KAAA,MAAM,iDAAkB;AAAA,QACrC,QAAQ,WAAW;AAAA,QACnB,OAAO,CAACC,UAAyB;AAChC,iBAAO,QAAQA;AACf,cAAGA,SAAQ,gBAAgB;AAC1B,iBAAK,MAAM;AAAA,UACX,WAASA,SAAQ,eAAe;AAChC,iBAAK,QAAQ;AAAA,UACb,WAASA,SAAQ,gBAAgB;AACjC,iBAAK,OAAO;AAAA,UACZ,WAASA,SAAQ,eAAe;AAChC,iBAAK,QAAQ;AAAA,UACb;AACD,eAAKA,KAAI;AAAA,QACT;AAAA,QACD,SAAS,MAAe;AAAA,iBAAA,WAAW;AAAA,QAAK;AAAA,QACxC,UAAU,MAAM;AAAA,MACQ,CAAA,GAlBlB,SAAM,GAAA,QAAE,UAAO,GAAA,SAAE,UAAO,GAAA,SAAE,WAAQ,GAAA;AAoBzC,YAAM,gBAAgBE,IAAQ,SAAC,MAAA;AAAa,eAAA,MAAM,SAAS,IAAI,MAAM,SAAS,IAAG;AAAA,MAAG,CAAA;AAEpF,YAAM,YAAYA,IAAAA,SAAS,MAAA;AAC1B,cAAM,OAAO,MAAM,oBAAoB,MAAM,YAAY,QACrD,sBACA,MAAM,uBAAuB,MAAM,YAAY,WAC/C,yBACA;AAEJ,eAAO,YAAY,aAAM,UAAQ,KAAI,aAAI,KAAI,eAAQ;AAAA,MACtD,CAAC;AAEM,YAAA,iBAAkB,IAAI,cAAa;AAE1C,YAAM,SAASA,IAAAA,SAA0B,MAAA;AACxC,cAAM,QAAQ,oBAAI;AAElB,cAAM,IAAI,wBAAwB,CAAC,eAAe,cAAc,EAAE,SAAS,OAAO,KAAK,IAAI,IAAI,MAAM,YAAY,IAAI;AAKrH,YAAI,MAAM,WAAW,MAAM;AAC1B,gBAAM,IAAI,cAAc,MAAM,OAAQ;AAAA,QACtC;AACD,YAAI,MAAM,SAAS,GAAG;AACrB,gBAAM,IAAI,WAAW,MAAM,MAAM;AAAA,QACjC;AAED,YAAG,MAAM,uBAAuB,MAAM,YAAY,UAAU;AAC3D,gBAAM,IAAI,kBAAkB,eAAe,SAAS,IAAI;AAAA,QACxD;AACD,YAAG,MAAM,oBAAoB,MAAM,YAAY,OAAO;AACrD,gBAAM,IAAI,eAAe,eAAe,MAAM,IAAI;AAAA,QAClD;AAED,YAAG,MAAM,UAAU,MAAM;AACxB,gBAAM,SAAS,cAAc,MAAM,MAAO;AAC1C,gBAAM,IAAI,0BAA0B,OAAO,CAAC,CAAC;AAC7C,gBAAM,IAAI,2BAA2B,OAAO,CAAC,CAAC;AAC9C,gBAAM,IAAI,8BAA8B,OAAO,CAAC,CAAC;AACjD,gBAAM,IAAI,6BAA6B,OAAO,CAAC,CAAC;AAAA,QAChD;AAQD,eAAO;AAAA,MACR,CAAC;AACD,YAAM,qBAAqB,MAAA;AAC1B,YAAG,MAAM,qBAAqB;AAC7B,qBAAW,QAAQ;AACnB,eAAK,eAAe;AAAA,QACpB;AAAA,MACF;AACA,YAAM,cAAc,MAAA;AACnB,mBAAW,QAAQ;AACnB,aAAK,aAAa;AAAA,MACnB;AAGA,YAAM,WAAWH,QAAqB,IAAI;AAE1CW,UAAAA,YAAY,MAAA;;AACX,YAAG,CAAC,QAAQ,OAAO;AAClB,WAAAP,MAAA,SAAS,WAAK,QAAAA,QAAA,SAAA,OAAAA,IAAE,MAAM,YAAY,WAAW,MAAM;AAAA,QACnD,OAAM;AACN,WAAAoE,MAAA,SAAS,WAAK,QAAAA,QAAA,SAAA,OAAAA,IAAE,MAAM,YAAY,WAAW,MAAM;AAAA,QACnD;AAAA,MACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvID,YAAM,eAAexE,QAAY,SAAS;AAC1C,YAAM,QAAQA,IAAAA,IAAkB,CAAC;AAAA,QAChC,KAAK;AAAA,QACL,MAAM;AAAA,QACN,MAAM;AAAA,MACN,CAAA,CAAC;AAEF,YAAM,gBAAgBA,QAAoB,CAAA,CAAE;AAC5C,YAAM,aAAaA,QAAa,KAAK;AAErC,YAAM,sBAAsB,MAAA;AAC3B,YAAI,QAAQ,OAAM,yCAAwC,MAAM;AAChE,mBAAW,QAAQ;AACnB,sBAAc,QAAQ;AAAA,UACrB;AAAA,YACC;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,YACD;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,YACD;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,UACD;AAAA;MAGH;AAEA,YAAM,YAAY,CAAC,YAA4B;AAC9C,mBAAW,QAAQ;AACnB,qBAAa,QAAQ,QAAQ,OAAO,CAAC,EAAE;MACxC;AAEA,YAAM,WAAW,MAAA;AAChB,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,SAAS,MAAA;AACd,YAAI,UAAU;AAAA,UACb,OAAO;AAAA,QACP,CAAA;AAAA,MACF;;;;;;ACzGc,QAAA,eAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCgDT,iBAAQ,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;QAqBR,uBAAc,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA5BnB,YAAM,UAAUA,QAAa,IAAI;AACjC,YAAM,aAAaA,QAAa,KAAK;AACrC,YAAM,gBAAgBA,QAAoB,CAAA,CAAE;AAC5C,YAAM,eAAeA,QAAY,WAAW;AAC5C,YAAM,oBAAoBA,QAAY,EAAE;AAQxC,YAAM,YAAYA,IAAAA,IAAgB;AAAA,QACjC,IAAA,SAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO;AAAA,QACP,CAAA;AAAA,QACD,IAAA,SAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO;AAAA,QACP,CAAA;AAAA,QACD,IAAA,SAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO;AAAA,QACP,CAAA;AAAA,MACD,CAAA;AAUD,YAAM,iBAAiBA,IAAAA,IAAsB;AAAA,2BAC5C,EAAE,MAAM,QAAQ,MAAM,sBAAsB,QAAQ,iBAAiB;AAAA,2BACrE,EAAE,MAAM,MAAM,MAAM,mBAAmB,QAAQ,iBAAiB;AAAA,2BAChE,EAAE,MAAM,OAAO,MAAM,wBAAwB,QAAQ,iBAAiB;AAAA,2BACtE,EAAE,MAAM,MAAM,MAAM,uBAAuB,QAAQ,iBAAiB;AAAA,2BACpE,EAAE,MAAM,QAAQ,MAAM,0BAA0B,QAAQ,iBAAiB;AAAA,2BACzE,EAAE,MAAM,MAAM,MAAM,oBAAoB,QAAQ,iBAAiB;AAAA,MACjE,CAAA;AAED,YAAM,gBAAgB,CAAC,SAAmB;AACzC,cAAM,MAAM,IAAI;AAChB,cAAM,OAAO,KAAK;AAClB,YAAG,QAAQ,uBAAsB;AAChC,gBAAM,OAAO,IAAI;AACjB,cAAI,QAAQ,OAAM,qDAAoD,IAAI;AAC1E,cAAG,KAAK,oBAAoB,OAAM;AACjC,gBAAI,UAAU;AAAA,cACb,OAAO;AAAA,YACP,CAAA;AAAA,UACD,OAAI;AACJ,2BAAe,MAAM,IAAI,CAAA8E,UAAI;AAC5B,kBAAGA,MAAK,QAAQ,uBAAsB;AACrC,gBAAAA,MAAK,SAAS;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACD;AAAA,QACD,OAAI;AACJ,gBAAM,SAAS,IAAI,IAAI;AACvB,cAAG,UAAU,YAAY,UAAU,kBAAiB;AACnD,gBAAI,wBAAwB,IAAA,cAAA;AAAA,cAC3B,SAAS,CAACC,SAAG;AACZ,oBAAI,QAAQ,OAAM,sDAAqDA,IAAG;AAAA,cAE3E;AAAA,YACA,CAAA,CAAA;AAAA,UACD;AAAA,QACD;AAAA,MAEF;AAGA,YAAM,gBAAgB,MAAA;AACrB,YAAI,QAAQ,OAAM,sDAAqD,QAAQ,KAAK;AAAA,MACrF;AAEA,YAAM,YAAY,MAAA;AACjB,gBAAQ,QAAQ,CAAC,QAAQ;AAAA,MAC1B;AAEA,YAAM,kBAAkB,MAAA;AACvB,cAAM,MAAM,IAAI;AAChB,YAAI,QAAQ,OAAM,sDAAqD,IAAI,sBAAsB;AACjG,YAAG,IAAI,0BAA0B,YAAY,IAAI,0BAA0B,kBAAiB;AAC3F,cAAI,UAAU;AAAA,YACb,OAAO;AAAA,UACP,CAAA;AACD,cAAI,wBAAwB,IAAA,cAAA;AAAA,YAC3B,SAAS,CAACA,SAAG;AACZ,kBAAI,QAAQ,OAAM,sDAAqDA,IAAG;AAC1E,gCAAkB,QAAQ;AAAA,YAC3B;AAAA,UACA,CAAA,CAAA;AAAA,QACD;AAAA,MACF;AAEA,YAAM,WAAW,MAAA;AAChB,sBAAc,QAAQ;AAAA,UACrB;AAAA,YACC;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,YACD;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,YACD;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,YACP;AAAA,UACD;AAAA;AAEF,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,YAAY,CAAC,YAA4B;AAC9C,mBAAW,QAAQ;AACnB,qBAAa,QAAQ,QAAQ,OAAO,CAAC,EAAE;MACxC;AAEA,YAAM,WAAW,MAAA;AAChB,mBAAW,QAAQ;AAAA,MACpB;AAEAC,UAAAA,WAAW,MAAA;AACR,cAAM,MAAM,IAAI;AAChB,cAAM,OAAO,IAAI;AAEjB,uBAAe,QAAQ,eAAe,MAAM,IAAI,UAAI;AAChD,gBAAM,UAAU,IAAA,eAAA,OAAA,OAAA,CAAA,GAAI,IAAI,CAAmB;AAC3C,cAAI,KAAK,QAAQ,yBAAyB,KAAK,oBAAoB,MAAM;AACrE,oBAAQ,SAAS;AAAA,UACpB,OAAM;AACH,sBAAU,MAAM,QAAQ,CAAC,SAAI;AACzB,kBAAI,KAAK,SAAS,IAAI,KAAK,IAAI,GAAG;AAC9B,wBAAQ,SAAS,KAAK;AAAA,cACzB;AAAA,YACL,CAAC;AAAA,UACJ;AAED,iBAAO;AAAA,QACX,CAAC;AAAA,MACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Lc,QAAA,eAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwHd,QAAM/E,SAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAVb,YAAM,QAAQ;AACd,YAAM,QAAQ;AAUd,YAAM,SAASC,IAAAA,OAAyB,YAAY,IAAI;AACxD,YAAM,WAAWiB,IAAAA;AACjB,YAAM,QAAQhB,IAAQ,SAAC,MAAa;AAAA,YAAAC;AAAA,gBAAAA,MAAA,WAAA,QAAA,WAAA,SAAA,OAAA,OAAQ,SAAS,MAAM,QAAQ,SAAU,GAAG,OAAC,QAAAA,QAAA,SAAAA,MAAI;AAAA,MAAE,CAAA;AACvF,YAAM,SAASD,IAAAA,SAAS;;AAAa,gBAAAC,MAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM,2CAAU;AAAA,MAAC,CAAA;AAC9D,YAAM,SAASD,IAAAA,SAAS;;AAAa,gBAAAC,MAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM,2CAAU;AAAA,MAAC,CAAA;AAC9D,YAAM,QAAQD,IAAAA,SAAS;;AAAa,gBAAAC,MAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM,0CAAS;AAAA,MAAC,CAAA;AAE5D,YAAM,QAAQD,IAAAA,SAAS;;AAAc,gBAAAC,MAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM,0CAAS;AAAA,MAAK,CAAA;AACjE,YAAM,UAAUD,IAAAA,SAAS,MAAA;;AACxB,cAAM,MAAM,oBAAI;AAChB,YAAI,IAAI,GAAGF,eAAI,MAAK,aAAM,SAAU,IAAI;AACxC,YAAI,IAAI,GAAGA,eAAI,MAAK,QAAAG,MAAA,WAAM,QAAN,WAAM,SAAA,OAAN,OAAQ,MAAM,WAAK,QAAAA,QAAA,SAAAA,MAAI,WAAY,IAAI;AAC3D,YAAI,IAAI,GAAGH,eAAI,qBAAc,WAAM,QAAN,WAAA,SAAA,OAAA,OAAQ,MAAM,YAAU,QAAA,OAAA,SAAA,KAAA,KAAK;AAE1D,eAAO;AAAA,MACR,CAAC;AAED,YAAM,OAAOE,IAAAA,SAAS,MAAA;AACrB,YAAI,OAAO,QAAQ,KAAK,OAAO,SAAS;AAAG,iBAAO;AAClD,eAAO,OAAO,QAAQ,IAAI,UAAU;AAAA,MACrC,CAAC;AAED,YAAM,eAAeA,IAAAA,SAAS,MAAA;AAC7B,cAAM,MAAM,oBAAI;AAChB,YAAI,IAAI,GAAGF,eAAI,aAAY,YAAK,QAAS,IAAI;AAE7C,eAAO;AAAA,MACR,CAAC;AACD,YAAM,eAAeE,IAAAA,SAAS,MAAA;AAC7B,cAAM,MAAM,oBAAI;AAChB,YAAI,IAAI,GAAGF,eAAI,aAAY,YAAK,QAAS,IAAI;AAE7C,eAAO;AAAA,MACR,CAAC;AAED,YAAM,kBAAkBD,QAA0B,EAAE;AAEpD,YAAM,SAASG,IAAAA,SAAS,MAAA;;AACvB,cAAM,QAAQ,oBAAI;AAClB,cAAM,YAAY,WAAA,QAAA,WAAA,SAAA,OAAA,OAAQ,MAAM;AAEhC,YAAG,aAAa,QAAQ,MAAM,QAAQ,KAAK,OAAO,QAAQ,GAAG;AAC5D,gBAAM,UAAU,MAAM,SAAS,OAAO,QAAQ,KAAK,OAAO,SAAS,OAAO;AAC1E,gBAAM,IAAI,SAAS,cAAS,QAAT,cAAS,SAAT,YAAa,GAAG,eAAM,KAAI;AAAA,QAE7C;AAuBD,YAAG,MAAM,QAAS,OAAO,SAAU,OAAO,QAAQ,GAAG;AACpD,gBAAM,IAAI,gBAAgB,GAAG,cAAO,OAAK,KAAI;AAAA,QAC7C;AAED,YAAI,MAAM,SAAS,OAAO,OAAO;AAChC,gBAAM,IAAI,cAAc,GAAG,cAAO,OAAK,KAAI;AAAA,QAC3C;AAED,YAAG,MAAM,eAAe,MAAM;AAE7B,gBAAM,IAAI,gBAAgB,MAAM,WAAY;AAAA,QAK5C;AACD,cAAM,WAAUC,MAAA,MAAM,aAAW,QAAAA,QAAA,SAAAA,MAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM;AAC/C,YAAG,WAAW,MAAM;AACnB,gBAAM,IAAI,cAAc,OAAO;AAAA,QAC/B;AACD,cAAM,WAAU,KAAA,MAAM,aAAW,QAAA,OAAA,SAAA,KAAA,WAAA,QAAA,2BAAA,OAAQ,MAAM;AAC/C,YAAG,WAAW,MAAM;AACnB,gBAAM,IAAI,WAAW,OAAO;AAAA,QAC5B;AAED,eAAO;AAAA,MACR,CAAC;AAGD,YAAM,aAAaD,IAAAA,SAAS,MAAA;AAC3B,cAAM,QAAQ,oBAAI;AAElB,YAAG,MAAM,cAAc,MAAM;AAC5B,gBAAM,IAAI,SAAS,MAAM,UAAW;AAAA,QACpC;AACD,YAAG,MAAM,eAAe,MAAM;AAC7B,gBAAM,IAAI,UAAU,MAAM,WAAY;AAAA,QACtC;AAGD,eAAO;AAAA,MACR,CAAC;AAGD,YAAM,UAAU,CAACG,OAAkB;AAClC,cAAM,SAASA,EAAC;AAChB,YAAG,MAAM,OAAO;AAAM,iBAAM;AAC5B,gBAAO,MAAM,UAAQ;AAAA,UACpB,KAAK;AACJ,gBAAI,UAAU,EAAC,KAAK,MAAM,IAAK,CAAA;AAC/B;AAAA,UACD,KAAK;AACJ,gBAAI,SAAS,EAAC,KAAK,MAAM,IAAK,CAAA;AAC9B;AAAA,UACD,KAAK;AACJ,gBAAI,WAAW,EAAC,KAAK,MAAM,IAAK,CAAA;AAChC;AAAA,UACD;AACC,gBAAI,WAAW,EAAC,KAAK,MAAM,IAAK,CAAA;AAChC;AAAA,QACD;AAAA,MACF;AAEAK,UAAAA,YAAY,MAAA;AACXC,YAAAA,SAAS,MAAA;;AACR,0BAAgB,SAAQR,MAAA,MAAM,iBAAa,QAAAA,QAAA,SAAAA,MAAA;AAAA,QAC5C,CAAC;AAAA,MACF,CAAC;AAED6E,UAAAA,cAAc,MAAA;AACb,YAAG,YAAY,QAAQ,UAAU,MAAM;AACtC,iBAAO,SAAS,MAAM,KAAK,SAAS,GAAG;AAAA,QACvC;AAAA,MACF,CAAC;AACDnB,UAAAA,YAAY,MAAA;AACX,YAAG,YAAY,QAAQ,UAAU,MAAM;AACtC,iBAAO,SAAS,QAAQ,OAAO,SAAS,MAAM,OAAO,CAACC,QAAe;AAAA,mBAAAA,OAAM,SAAS;AAAA,UAAG,CAAA;AAAA,QACvF;AAAA,MACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChPD,YAAM,QAAQ;AAWd,YAAM,SAAS5D,IAAAA,SAAS,MAAA;AACvB,cAAM,MAAM,oBAAI;AAEhB,YAAI,IAAI,gBAAgB,MAAM,IAAI;AAClC,YAAI,IAAI,iBAAiB,MAAM,KAAK;AACpC,YAAI,IAAI,oBAAoB,MAAM,UAAU,MAAM,UAAU,CAAC;AAE7D,eAAO;AAAA,MACR,CAAC;AACD,YAAM,YAAYH,QAAqB,IAAI;AAC3C,YAAM,QAAQA,QAAY,CAAC;AAC3B,YAAM,WAAWA,QAAc,CAAA,CAAE;AAEjC,YAAM,iBAAiB,IAAI,kBAAkB,CAAC,YAAuC;AACpF,cAAM,OAAO,QAAQ,CAAC,EAAE,OAAO,sBAAqB;AACpD,cAAM,QAAQ,KAAK;AAAA,MACpB,CAAC;AAED,YAAM,YAAYkE,UAAM,MAAsB;AAAA,eAAA,UAAU;AAAA,MAAK,GAAE,CAAC,KAAkB,SAAA;AACjF,YAAG,MAAK;AAAM,iBAAM;AACpB,uBAAe,QAAQ,EAAE;AAEzB,mBAAW,MAAA;AACV,gBAAM,OAAO,GAAG;AAChB,gBAAM,QAAQ,KAAK;AAAA,QACnB,GAAC,EAAE;AAAA,MAEL,CAAC;AAEDJ,UAAAA,YAAY,MAAA;AACX;AACA,uBAAe,WAAU;AAAA,MAC1B,CAAC;AAEDK,UAAAA,QAAQ,YAAY;AAAA,QACnB;AAAA,QACA;AAAA,QACA;AAAA,MACe,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLhB,YAAM5D,YAAWP,QAAI,sEAAsE;AAGxF,YAAM,SAAS,MAAA;AACX,YAAI,aAAa,IAAA,cAAA;AAAA,UACb,OAAO;AAAA,QACV,CAAA,CAAA;AAAA,MACL;AAEA,YAAM,gBAAgB,MAAA;AAClB,YAAI,WAAW;AAAA,UACX,KAAK;AAAA,QACR,CAAA;AAAA,MACL;AAEA,YAAM,SAAS,MAAA;AACX,YAAI,WAAW;AAAA,UACX,KAAK;AAAA,QACR,CAAA;AAAA,MACL;AAEA,YAAM,QAAQ,MAAA;AACV,YAAI,WAAW;AAAA,UACX,KAAK;AAAA,QACR,CAAA;AAAA,MACL;;;;;;;;AChGW,QAAA,eAAA;ACAA,QAAA,eAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,aAAA;ACAA,QAAA,cAAA;ACAA,QAAA,cAAA;ACAA,QAAA,cAAA;ACAA,QAAA,cAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiNd,UAAM,OAAO;AACb,UAAM,QAAQ;AAyCd,UAAM,eAAeE,IAAAA,OAA0B,gBAAgB,IAAI;AACnE,UAAM,eAAeA,IAAAA,OAA+B,gBAAgB,IAAI;AACxE,UAAM,eAAeA,IAAAA,OAA+B,gBAAgB,IAAI;AAExE,UAAM,iBAAiB,CAAC,UAAoB;AAEP,YAAK;YAAtB,eAAiB,MAAK;AACzC,UAAG,gBAAgB,QAAQ,eAAe,GAAG;AAC5C,eAAO,eAAe,gBAAgB,GAAG,eAAS,YAAY;AAAA,MAC9D;AAID,aAAO;AAAA,QACN,YAAY,GAAG;AAAA,QACf,QAAQ,GAAG,cAAQ;AAAA;IAErB;AACA,QAAI,cAAcF,QAAmB,EAAE;AACvC,UAAM,eAAeA,IAAAA,IAAI,MAAM,SAAS,MAAM,OAAO;AAErD,UAAM,aAAaG,IAAAA,SAAS;AAAA,MAC3B,IAAI,OAAoB;AAEvB,oBAAY,QAAQ;AACpB,aAAK,UAAU,KAAK;AACpB,aAAK,qBAAqB,KAAK;AAAA,MAC/B;AAAA,MACD,MAAG;;AACF,cAAM,UAASC,MAAA,MAAM,WAAS,QAAAA,QAAA,SAAAA,MAAA,MAAM;AACpC,YAAG,YAAY,SAAS,UAAU,MAAM,QAAQ,UAAU;AACjD,gBAAA,aAAe,eAAe,GAAG,kBAAA,QAAA,WAAA,SAAA,SAAU,YAAY,MAAO;AACtE,iBAAO;AAAA,QACP;AACD,eAAO,mBAAA,WAAM,SAAN,SAAU,YAAY;AAAA,MAC9B;AAAA,IACmC,CAAA;AAEpC,UAAM,aAAaD,IAAAA,SAAS,MAAA;AAAA,UAAAC;AAAc,aAAA,MAAM,cAAaA,MAAA,iBAAA,QAAA,iBAAA,SAAA,OAAA,aAAc,WAAS,QAAAA,QAAA,SAAAA,MAAA;AAAA,IAAM,CAAA;AAC1F,UAAM,aAAaD,IAAAA,SAAS,MAAA;AAAA,UAAAC;AAAc,aAAA,MAAM,cAAaA,MAAA,iBAAA,QAAA,iBAAA,SAAA,OAAA,aAAc,WAAS,QAAAA,QAAA,SAAAA,MAAA;AAAA,IAAM,CAAA;AAE1F,UAAM,SAASD,IAAAA,SAAS,MAAA;AACvB,YAAM,QAAQ,oBAAI;AASlB,aAAO;AAAA,IACR,CAAC;AACD,UAAM,gBAAgBA,IAAAA,SAAS,MAAA;AACtB,YAAA,eAAqC,MAAK,cAA5B,WAAuB,MAAK,UAAlB,WAAa;AAC7C,UAAG,YAAY,UAAU;AACxB,eAAO;AAAA,MACP;AACD,aAAO,GAAG,kBAAW,OAAQ,SAAS,KAAK,gBAAgB;AAAA,IAC5D,CAAC;AACD,UAAM,UAAU,CAACG,OAAgB;AAC1B,YAAAF,MAA6BE,GAAE,QAA7B,QAAKF,IAAA;AAAQ,MAAAA,IAAA;;AACrB,UAAG,MAAM,QAAQ,UAAU;AAC1B,cAAM,KAAY,WAAW,GAAG,aAAO;AAEvC,mBAAW,QAAQ,MAAM,EAAE,IAAI,KAAK;AAAA,MACpC,OAAM;AACE,cAAA,aAAe,eAAe,KAAK;AAC3C,mBAAW,QAAQ;AAAA,MACnB;AAAA,IACF;AACA,UAAM,UAAU,CAAC,UAAyB;AACzC,mBAAa,QAAQ;AACrB,WAAK,SAAS,KAAK;AAAA,IACpB;AACA,UAAM,SAAS,CAAC,UAAwB;AACvC,mBAAa,QAAQ;AACrB,WAAK,QAAQ,KAAK;AAClB,uBAAA,QAAA,iBAAA,SAAA,OAAA;IACD;AACA,UAAM,YAAY,CAAC,UAA2B;AAC7C,WAAK,WAAW,KAAK;AAAA,IACtB;AACA,UAAM,yBAAyB,CAAC,UAAwC;AACvE,WAAK,wBAAwB,KAAK;AAAA,IACnC;AACA,UAAM,mBAAmB,CAAC,QAAU,SAAA;AACnC,WAAK,kBAAkB,KAAK;AAAA,IAC7B;AACA,UAAM,aAAa,MAAA;AAClB,iBAAW,QAAQ;AACnB,WAAK,OAAO;AAAA,IACb;AACA,UAAM,gBAAgB,MAAA;AACrB,WAAK,cAAc,IAAA,cAAA,EAAE,SAAS,SAAU,CAAA,CAAA;AAAA,IACzC;AACA,UAAM,oBAAoB,MAAA;AACzB,WAAK,cAAc,IAAA,cAAA,EAAE,SAAS,cAAe,CAAA,CAAA;AAAA,IAC9C;AACAO,QAAAA,YAAY,MAAA;AACX,mBAAa,QAAQ,MAAM,SAAS,MAAM;AAAA,IAC3C,CAAC;AAED,UAAM,UAAUX,QAAqB,IAAI;AACnC,UAAA,KAAuC,cAAc,SAC1D,IAAA,kBAAA;AAAA,MACC,WAAW;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW;AAAA,MACX,OAAO,MAAM;AAAA,IACQ,CAAA,CAAC,GAPhB,cAAW,GAAA,aAAE,QAAK,GAAA,OAAE,eAAY,GAAA;AASxCQ,QAAAA,UAAU,MAAA;AACTG,UAAAA,YAAY,MAAA;;AAEX,YAAG,CAAC,MAAM,SAAS;AAClB,cAAG,MAAM,eAAe,QAAQ,CAAC,aAAa,OAAO;AACpD,aAAAP,MAAA,QAAQ,WAAK,QAAAA,QAAA,SAAA,OAAAA,IAAE,MAAM,YAAY,gBAAgB,MAAM,WAAW;AAAA,UAClE;AACD,cAAG,MAAM,sBAAsB,QAAQ,aAAa,OAAO;AAC1D,aAAAoE,MAAA,QAAQ,WAAK,QAAAA,QAAA,SAAA,OAAAA,IAAE,MAAM,YAAY,gBAAgB,MAAM,kBAAkB;AAAA,UACzE;AAAA,QACD;AAED,YAAG,CAAC,MAAM,YAAY,MAAM,SAAS;AACpC;AACA,iBAAM;AAAA,QACN;AACD,YAAG,MAAM,eAAe,MAAM;AAC7B,gBAAM,QAAQ,MAAM;AAAA,QACpB;AACD;MACD,CAAC;AAAA,IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5XK,QAAM,gBAAgB,CAAC,MAAgB,SAAA;AAC7C,QAAI,OAAO;AAAM,aAAO;AACxB,QAAI,OAAO,OAAO,UAAU;AAC3B,aAAO,IAAA,cAAA;AAAA,QACN,SAAS;AAAA,OACT;AAAA,IACD,WAAU,OAAO,OAAO,UAAU;AAMlC,aAAO,cAAc,OAAM,IAAA,cAAC,CAAE,CAAA,GAAE,GAAoB;AAAA,IAMpD;AACD,WAAO;AAAA,EACR;;;;;;;;;;;;;;;;;;;;;;;;;AC+MC,YAAM,OAAO;AACb,YAAM,QAAQ;AAMd,YAAM,kBAAkBtC,IAAAA,SAAS;AAAA,QAChC,aAAa;AAAA,QACb,UAAU;AAAA,QACV,WAAW;AAAA,QACX,UAAU;AAAA,MACM,CAAA;AACjB,YAAM,eAAeA,IAAAA,SAAwB;AAAA,QAC5C,SAAS,MAAM;AAAA,QACf,cAAc,MAAM;AAAA,QACpB,WAAW,MAAM;AAAA,QACjB,UAAU,MAAM;AAAA,QAChB,qBAAqB,MAAM;AAAA,QAC3B,YAAY,MAAM;AAAA,QAClB,SAAS,MAAM;AAAA,QACf,cAAc,MAAM;AAAA,QACpB,sBAAsB,MAAM;AAAA,QAC5B,SAAS,MAAM;AAAA,QACf,OAAO,MAAM;AAAA,QACb,SAAS,MAAM;AAAA,QACf,QAAQ,MAAM;AAAA,MACd,CAAA;AAGD,YAAM,aAAaa,IAAAA,SAAW,SAAA,YAAgC;AAC9D,YAAM,aAAa5C,IAAAA,SAAS;AAAA,QAC3B,IAAI,OAAc;AACjB,qBAAW,QAAQ;AACnB,cAAG,CAAC,OAAO;AACV,4BAAgB,cAAc;AAC9B,4BAAgB,YAAY;AAC5B,4BAAgB,WAAW;AAAA,UAC3B;AAAA,QACD;AAAA,QACD,MAAG;;AACF,mBAAQC,MAAA,MAAM,aAAO,QAAAA,QAAA,SAAAA,MAAI,UAAU,WAAW;AAAA,QAC9C;AAAA,MACmC,CAAA;AAErC,YAAM,gBAAgBD,IAAAA,SAAS,MAAA;;AAC9B,gBAAO,MAAAC,MAAA,aAAa,cAAY,QAAAA,QAAA,SAAAA,MAAA,MAAM,cAAa,QAAA,OAAA,SAAA,KAAA;AAAA,MACpD,CAAC;AACD,YAAM,iBAAiBD,IAAAA,SAAS,MAAA;;AAC/B,eAAO,eAAcC,MAAA,MAAM,eAAS,QAAAA,QAAA,SAAAA,MAAI,aAAa,SAAS;AAAA,MAC/D,CAAC;AACD,YAAM,kBAAkBD,IAAAA,SAAS,MAAA;;AAChC,eAAO,eAAcC,MAAA,MAAM,gBAAU,QAAAA,QAAA,SAAAA,MAAI,aAAa,UAAU;AAAA,MACjE,CAAC;AAED,YAAM,aAAaD,IAAAA,SAAS,MAAA;AAAA,YAAAC;AAAkB,gBAAAA,MAAA,MAAM,0CAAS,aAAa;AAAA,MAAK,CAAA;AAC/E,YAAM,oBAAoBD,IAAAA,SAAS,MAAA;AAAA,YAAAC;AAAa,gBAAAA,MAAA,aAAa,iDAAgB,MAAM;AAAA,MAAY,CAAA;AAC/F,YAAM,eAAeD,IAAAA,SAAS,MAAA;;AAC7B,gBAAOC,MAAA,MAAM,4CAAW,aAAa;AAAA,MACtC,CAAC;AACD,YAAM,gBAAgBD,IAAAA,SAAS,MAAA;;AAC9B,cAAM,OAAO,CAAC,gBAAgB,OAAO,eAAe,KAAK,EAAE,KAAK,CAAC,OAAI,SAAA;AACpE,kBAAO,SAAI,QAAJ,SAAI,SAAA,OAAJ,KAAO,SAAS,MAAK;AAAA,QAC7B,CAAC;AACD,cAAM,QAAOC,MAAA,aAAa,WAAO,QAAAA,QAAA,SAAA,OAAAA,IAAA,KAAK,CAAC,SAAI;AAC1C,iBAAO,KAAK,SAAS,KAAK;AAAA,QAC3B,CAAC;AAED,eAAO,SAAS,SAAI,QAAJ,SAAI,SAAJ,OAAQ;AAAA,MACzB,CAAC;AAED,YAAM,cAAcD,IAAAA,SAAS,MAAA;AAC5B,cAAM,QAAQ,oBAAI;AAClB,YAAG,kBAAkB,SAAS,cAAc;AAC3C,gBAAM,IAAI,aAAa,CAAC;AAAA,QAExB,OAAM;AACN,gBAAM,IAAI,aAAa,CAAC;AAAA,QACxB;AACD,cAAM,IAAI,WAAW,CAAC;AACtB,YAAG,cAAc,OAAO;AAEvB,gBAAM,IAAI,cAAc,mBAAmB;AAC3C,gBAAM,IAAI,iBAAiB,GAAG;AAC9B,gBAAM,IAAI,eAAe,mBAAmB;AAAA,QAC5C;AACD,eAAO;AAAA,MACR,CAAC;AAED,YAAM,UAAU,CAAC,SAAY;AAC5B,YAAG,gBAAgB,eAAe,MAAM;AACvC,0BAAgB,YAAa,IAAI,EAAE,KAAK,CAAC,QAAG;AAC3C,uBAAW,QAAQ;AAAA,UACpB,CAAC;AACD,iBAAM;AAAA,QACN;AACD,mBAAW,QAAQ;AAAA,MACpB;AACA,YAAM,iBAAiB,CAAC,MAAc,QAAiB,SAAA;AACtD,YAAG,QAAQ,WAAW;AACrB,eAAK,SAAS;AACd,cAAG,gBAAgB,aAAY,MAAM;AACpC,4BAAgB,UAAW,IAAI;AAC/B,oBAAQ,SAAS;AAAA,UACjB;AAAA,QACD,WAAS,QAAQ,UAAU;AAC3B,eAAK,QAAQ;AACb,cAAG,gBAAgB,YAAW,MAAM;AACnC,4BAAgB,SAAU,IAAI;AAC9B,oBAAQ,QAAQ;AAAA,UAChB;AAAA,QACD,WAAS,QAAQ,YAAY,SAAS,MAAM;AAC5C,eAAK,UAAU,KAAK;AACpB,cAAG,gBAAgB,YAAY,MAAM;AAEpC,4BAAgB,SAAU,KAAK;AAC/B,oBAAQ,QAAQ;AAAA,UAChB;AAAA,QACD;AAAA,MACF;AAEA,YAAM,cAAc,CAACG,OAAW;AAC/B,aAAK,eAAeA,EAAC;AAAA,MACtB;AACA,YAAM,UAAU,CAACA,OAAW;AAC3B,aAAK,WAAWA,EAAC;AAAA,MAClB;AACA,YAAM,iBAAiB,CAACA,OAAW;AAClC,aAAK,kBAAkBA,EAAC;AAAA,MACzB;AACA,YAAM,QAAQ,CAACA,OAAW;AACzB,aAAK,SAASA,EAAC;AAAA,MAChB;AACA,YAAM,cAAc,CAACA,OAAW;AAC/B,aAAK,eAAeA,EAAC;AAAA,MACtB;AACA,YAAM,YAAY,CAACA,OAAW;AAC7B,aAAK,aAAaA,EAAC;AAAA,MACpB;AACA,YAAM,eAAe,CAACA,OAAW;AAChC,aAAK,gBAAgBA,EAAC;AAAA,MACvB;AACA,YAAM,4BAA4B,CAACA,OAAW;AAC7C,aAAK,6BAA6BA,EAAC;AAAA,MACpC;AAEA,YAAM,eAAe,MAAA;AACpB,YAAG,MAAM,qBAAqB;AAC7B,kBAAQ,QAAQ;AAAA,QAChB;AAAA,MACF;AAEA,YAAM,iBAAiB,CAAC,YAAsB;;AAC7C,qBAAa,WAAUF,MAAA,QAAQ,SAAwB,SAAS,OAAC,QAAAA,QAAA,SAAAA,MAAI,MAAM;AAC3E,qBAAa,gBAAe,KAAA,QAAQ,UAAU,cAAc,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AACvE,cAAM,sBAAsB,aAAa,gBAAgB,aAAa,IAAI;AAC1E,YAAG,aAAa,WAAW,SAAS,aAAa,QAAS,UAAU,KAAK,aAAa,QAAS,SAAS,sBAAsB;AAC7H,cAAI,QAAQ,QAAO,oEAAmE,mBAAmB,4BAAmB,IAAG;AAAA,QAC/H;AACD,qBAAa,aAAa,KAAA,QAAQ,WAAW,OAAK,QAAA,OAAA,SAAA,KAAA,MAAM;AACxD,qBAAa,YAAW,KAAA,QAAQ,WAAW,UAAU,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAChE,qBAAa,uBAAuBoC,MAAA,QAAQ,WAAW,qBAAqB,OAAC,QAAAA,QAAA,SAAAA,MAAI,MAAM;AACvF,qBAAa,cAAa,KAAA,QAAQ,IAAI,YAAY,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAC7D,qBAAa,WAAU,KAAA,QAAQ,UAAU,SAAS,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAC7D,qBAAa,gBAAe,KAAA,QAAQ,UAAU,cAAc,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AACvE,qBAAa,wBAAwB,KAAA,QAAQ,WAAW,sBAAsB,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AACzF,qBAAa,WAAU,KAAA,QAAQ,WAAW,SAAS,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAC9D,qBAAa,SAAQ,KAAA,QAAQ,UAAU,OAAO,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAEzD,qBAAa,UAAS,KAAA,QAAQ,UAAU,QAAQ,OAAC,QAAA,OAAA,SAAA,KAAI,MAAM;AAAA,MAC5D;AAGA,YAAM,QAAQ,CAAC,YAAsB;AACpC,uBAAe,OAAO;AACtB,mBAAW,QAAQ;AACnB,YAAI;AACH,gBAAM,cAAc,QAAQ,aAAa;AACzC,cAAG,OAAO,eAAe,YAAY;AACpC,4BAAgB,cAAc;AAAA,UAC9B;AAAA,QAED,SAAO,KAAK;AACZ,cAAI,QAAQ,QAAO,oEAAmE,GAAG;AAAA,QACzF;AAED,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAM;AAClC,0BAAgB,YAAY;AAC5B,0BAAgB,WAAW;AAC3B,0BAAgB,WAAW;AAAA,QAC5B,CAAC;AAAA,MACF;AACA,YAAM,SAAS,MAAA;AACd,mBAAW,QAAQ;AAAA,MACpB;AAIA,eAAa,IAAA,cAAA;AAAA;AAAA;AAAA,QAGZ,OAAO;AAAA;AAAA;AAAA,QAGP,MAAM;AAAA,MACN,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxWD,YAAM,eAAexC,QAAI,KAAK;AAC9B,YAAM,UAAUA,QAAI,EAAE;AAEtB,YAAM,SAAS,MAAA;AACd,YAAI,aAAa,IAAA,cAAA;AAAA,UAChB,OAAO;AAAA,QACP,CAAA,CAAA;AAAA,MACF;AAEA,YAAM,WAAW,MAAA;AAChB,qBAAa,QAAQ;AAAA,MACtB;AAEA,YAAM,aAAa,MAAA;AAClB,YAAI,UAAU;AAAA,UACb,OAAO,QAAQ;AAAA,QACf,CAAA;AACD,qBAAa,QAAQ;AAAA,MACtB;AAEA,YAAM,UAAU,MAAA;AACf,qBAAa,QAAQ;AAAA,MACtB;AAEA,YAAM,UAAU,MAAA;AACf,YAAI,iBAAiB;AAAA,UACpB,MAAM;AAAA,UACN,SAAS,WAAA;AACR,gBAAI,UAAU;AAAA,cACb,SAAS;AAAA,YACT,CAAA;AAAA,UACD;AAAA,QACD,CAAA;AAAA,MACF;AAEA,YAAM,sBAAsB,MAAA;AAC3B,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,oBAAoB,MAAA;AACzB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,qBAAqB,MAAA;AAC1B,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,kBAAkB,MAAA;AACvB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,wBAAwB,MAAA;AAC7B,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,eAAe,MAAA;AACpB,YAAI,UAAU,IAAA,cAAA;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,SAAS,CAAC,QAAG;AACZ,gBAAI,IAAI,SAAS;AAChB,kBAAI,QAAQ,OAAM,yCAAwC,SAAS;AAAA,YACnE;AAAA,UACD;AAAA,QACD,CAAA,CAAA;AAAA,MACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QChGK,iBAAQ,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;QAwTR,yBAAgB,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;QAIhB,wBAAe,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;MAzUpB,MAAM,UAAS;AAAA,QAKd,YAAY,MAAe,MAAe,MAAa;AACtD,eAAK,OAAO;AACZ,eAAK,OAAO;AACZ,eAAK,OAAO;AAAA,QACZ;AAAA,MACD;AASD,YAAM,cAAcA,QAAI,YAAY;AACpC,YAAM,cAAcA,QAAI,UAAU;AAClC,YAAM,aAAaA,QAAI,OAAO;AAC9B,YAAM,eAAeA,QAAI,KAAK;AAC9B,YAAMO,YAAWP,QAAI,sEAAsE;AAC3F,YAAM,eAAeA,QAAyB,IAAI;AAClD,YAAM,YAAYA,QAAI,KAAK;AAC3B,YAAM,iBAAiBA,QAAI,CAAC;AAC5B,YAAM,mBAAmBA,QAAI,CAAC;AAC9B,YAAM,gBAAgBA,QAAI,CAAC;AAC3B,YAAM,eAAeA,QAAI,CAAC;AAC1B,YAAM,aAAaA,QAAI,KAAK;AAC5B,YAAM,SAASA,QAAI,CAAC;AACpB,YAAM,kBAAkBA,QAAI,CAAC;AAC7B,YAAM,eAAeA,QAAI,CAAC;AAC1B,YAAM,uBAAuBA,QAAI,CAAC;AAClC,YAAM,uBAAuBA,QAAI,CAAC;AAIlC,YAAM,WAAW,CAAC,SAAS,SAAS,SAAS,SAAS,SAAS,OAAO;AACtE,YAAM,UAAU;AAAA,QACf,IAAA,cAAA,EAAE,OAAO,QAAQ,OAAO,QAAO,CAAE;AAAA,QACjC,IAAA,cAAA,EAAE,OAAO,QAAQ,OAAO,SAAQ,CAAE;AAAA,QAClC,IAAA,cAAA,EAAE,OAAO,QAAQ,OAAO,QAAO,CAAE;AAAA,QACjC,IAAA,cAAA,EAAE,OAAO,MAAM,OAAO,MAAK,CAAE;AAAA;AAI9B,YAAM,SAASA,IAAAA,IAAiB;AAAA,QAC/B,EAAE,MAAM,SAAS,MAAM,YAAY,MAAM,QAAS;AAAA,QAClD,EAAE,MAAM,SAAS,MAAM,YAAY,MAAM,SAAU;AAAA,QACnD,EAAE,MAAM,SAAS,MAAM,YAAY,MAAM,QAAS;AAAA,QAClD,EAAE,MAAM,SAAS,MAAM,YAAY,MAAM,QAAS;AAAA,MAClD,CAAA;AAGD,YAAM,aAAaG,IAAAA,SAAS,MAAA;AAC3B,cAAM,aAAa,IAAI;AACvB,eAAO,WAAW;AAAA,MACnB,CAAC;AAID,YAAM,uBAAuB,CAAC,YAAgB;AAC7C,cAAM,QAAQ,QAAQ,MAAM,GAAG;AAC/B,cAAMgD,KAAI,SAAS,MAAM,CAAC,CAAC;AAC3B,cAAMV,KAAI,SAAS,MAAM,CAAC,CAAC;AAC3B,cAAMT,KAAI,MAAM,SAAS,IAAI,SAAS,MAAM,CAAC,CAAC,IAAI;AAClD,eAAOmB,KAAI,OAAOV,KAAI,KAAKT;AAAA,MAC5B;AAEA,YAAM,YAAY7B,IAAAA,SAAqB,MAAA;AACtC,cAAM,QAAQ,CAAA;AACd,cAAM,WAAW,cAAc;AAC/B,YAAI,YAAY;AAAG,iBAAO;AAE1B,YAAI;AACJ,YAAI,YAAY,IAAI;AACnB,0BAAgB;AAAA,QAChB,WAAU,YAAY,KAAK;AAC3B,0BAAgB;AAAA,QAChB,WAAU,YAAY,MAAM;AAC5B,0BAAgB;AAAA,QAChB,WAAU,YAAY,MAAM;AAC5B,0BAAgB;AAAA,QAChB,WAAU,YAAY,MAAM;AAC5B,0BAAgB;AAAA,QAChB,OAAM;AACN,0BAAgB;AAAA,QAChB;AAED,cAAM,gBAAgB,gBAAgB;AAEtC,cAAM,kBAAkB,WAAW,QAAQ;AAE3C,iBAAS,OAAO,GAAG,QAAQ,UAAU,QAAQ,eAAe;AAC3D,gBAAM,UAAW,OAAO,iBAAkB;AAC1C,gBAAM,KAAK,IAAA,SAAA;AAAA,YACV;AAAA,YACA,UAAU,OAAO,kBAAkB;AAAA,YACnC,MAAM,UAAU,UAAU;AAAA,UAC1B,CAAA,CAAA;AAAA,QACD;AAED,eAAO;AAAA,MACR,CAAC;AAED,YAAM,gBAAgB,CAACG,OAAgB;AACtC,sBAAc,QAAQA,GAAE,UAAU;AAClC,YAAI,QAAQ,OAAM,wCAAuC,cAAc,cAAc,KAAK;AAAA,MAC3F;AAIA,YAAM,iBAAiB,CAAC,YAAgB;AACvC,cAAM,MAAM,KAAK,MAAM,UAAU,IAAI;AACrC,cAAM,OAAO,KAAK,MAAO,UAAU,OAAQ,EAAE;AAC7C,cAAM,OAAO,KAAK,MAAM,UAAU,EAAE;AAEpC,YAAI,MAAM,GAAG;AACZ,iBAAO,GAAG,YAAG,KAAI,YAAK,SAAU,EAAC,SAAS,GAAG,GAAG,GAAC,KAAI,YAAK,SAAU,EAAC,SAAS,GAAG,GAAG;AAAA,QACpF;AACD,eAAO,GAAG,aAAI,KAAI,YAAK,WAAW,SAAS,GAAG,GAAG;AAAA,MAClD;AAEA,YAAM,iBAAiBH,IAAAA,SAAsB,MAAA;AAC5C,YAAI,aAAa,UAAU;AAAO,iBAAO,OAAO;AAChD,eAAO,OAAO,MAAM,OAAO,CAACG,OAAM;AAAA,iBAAAA,GAAE,SAAS,aAAa;AAAA,QAAK,CAAA;AAAA,MAChE,CAAC;AAGD,YAAM,mBAAmB,MAAA;AACxB,YAAI;AACH,uBAAa,QAAQ,IAAI,mBAAmB,SAAS;AACrD,cAAI,QAAQ,OAAM,wCAAuC,cAAc,aAAa,KAAK;AAAA,QACzF,SAAQ,OAAO;AACf,cAAI,QAAQ,SAAQ,wCAAuC,cAAc,KAAK;AAAA,QAC9E;AAAA,MACF;AAEA,YAAM,gBAAgB,CAAC,SAAa;AACnC,YAAI,QAAQ,OAAM,wCAAuC,WAAW,IAAI;AAAA,MACzE;AAIA,YAAM,aAAa,CAAC,SAAa;AAChC,mBAAW,QAAQ;AACnB,oBAAY,QAAQ,QAAQ;AAC5B,sBAAc,IAAI;AAAA,MACnB;AAGA,YAAM,aAAa,CAAC,YAAgB;AACnC,cAAM,MAAM,KAAK,MAAM,UAAU,IAAI;AACrC,cAAM,OAAO,KAAK,MAAO,UAAU,OAAQ,EAAE;AAC7C,cAAM,OAAO,KAAK,MAAM,UAAU,EAAE;AACpC,eAAO,GAAG,WAAI,SAAQ,EAAG,SAAS,GAAG,GAAG,GAAC,KAAI,YAAK,SAAU,EAAC,SAAS,GAAG,GAAG,GAAC,KAAI,YAAK,WAAW,SAAS,GAAG,GAAG;AAAA,MACjH;AAIA,YAAM,yBAAyB,CAAC,yBAA6B;AAC5D,cAAM,kBAAkB,WAAW,QAAQ,cAAc;AACzD,yBAAiB,QAAQ,uBAAuB;AAChD,cAAM,aAAa,IAAI;AACvB,cAAM,kBAAkB,WAAW;AACnC,cAAM,YAAY,kBAAkB;AACpC,cAAM,mBAAmB,iBAAiB,QAAQ;AAElD,cAAM,gBAAgB,WAAW,QAAQ;AACzC,uBAAe,QAAQ,KAAK,IAAI,GAAG,KAAK,IAAI,eAAe,gBAAgB,CAAC;AAAA,MAC7E;AAGA,YAAM,eAAe,CAACA,OAA2B;AAChD,YAAI,UAAU,SAAS,WAAW;AAAO,iBAAM;AAE/C,cAAM,uBAAuBA,GAAE,OAAO;AACtC,oBAAY,QAAQ,WAAW,oBAAoB;AACnD,sBAAc,QAAQA,GAAE,OAAO;AAE/B,cAAM,MAAM,KAAK;AACjB,YAAI,MAAM,aAAa,QAAQ;AAAK,iBAAM;AAC1C,qBAAa,QAAQ;AAErB,+BAAuB,uBAAuB,CAAC;AAAA,MAChD;AAEA,YAAM,gBAAgB,CAAC,kBAAqB;AAC3C,YAAI,QAAQ,OAAM,wCAAuC,UAAU,eAAe,GAAG;AACrF,YAAI,aAAa,SAAS,MAAM;AAC/B,uBAAa,MAAM;AACnB,uBAAa,MAAM,KAAK,aAAa;AACrC,qBAAW,MAAA;;AACV,aAAAF,MAAA,aAAa,WAAO,QAAAA,QAAA,SAAA,OAAAA,IAAA;AACpB,gBAAI,QAAQ,OAAM,wCAAuC,YAAY;AAAA,UACrE,GAAE,GAAG;AAAA,QACN;AAAA,MACF;AAGA,YAAM,mBAAmB,CAAC,UAAgB;AACzC,cAAM,UAAU,qBAAqB,MAAM,IAAI;AAC/C,cAAM,WAAW,cAAc,SAAS,IAAI,cAAc,QAAQ;AAClE,cAAM,kBAAkB,WAAW,QAAQ;AAC3C,eAAO,UAAU;AAAA,MAClB;AAGA,YAAM,cAAc,CAAC,UAAgB;AACpC,cAAM,UAAU,qBAAqB,MAAM,IAAI;AAC/C,YAAI,QAAQ,OAAM,wCAAuC,YAAY,SAAS,KAAK,WAAW,cAAc,KAAK;AAEjH,YAAI,aAAa,SAAS,MAAM;AAC/B,cAAI,QAAQ,SAAQ,wCAAuC,WAAW;AACtE,iBAAM;AAAA,QACN;AAED,kBAAU,QAAQ;AAClB,oBAAY,QAAQ,WAAW,OAAO;AACtC,yBAAiB,QAAQ,iBAAiB,KAAK;AAG/C,qBAAa,MAAM;AACnB,qBAAa,MAAM,KAAK,OAAO;AAG/B,mBAAW,MAAA;;AACV,WAAAA,MAAA,aAAa,WAAO,QAAAA,QAAA,SAAA,OAAAA,IAAA;AACpB,oBAAU,QAAQ;AAClB,cAAI,QAAQ,OAAM,wCAAuC,gBAAgB;AAAA,QACzE,GAAE,GAAG;AAAA,MACP;AAIA,YAAM,aAAa,CAAC,MAAe,WAAe;AACjD,cAAM,gBAAgB,OAAO,OAAO,SAAS;AAC7C,sBAAc,aAAa;AAAA,MAC5B;AAEA,YAAM,iBAAiB,CAAC,YAAgB;AACvC,sBAAc,OAAO;AAAA,MACtB;AAGA,YAAM,WAAW,MAAA;AAChB,kBAAU,QAAQ;AAAA,MACnB;AAGA,YAAM,eAAe,CAACE,OAAc;AACnC,mBAAW,QAAQ;AACnB,eAAO,QAAQA,GAAE,QAAQ,CAAC,EAAE;AAC5B,wBAAgB,QAAQ,OAAO;AAC/B,qBAAa,QAAQ,KAAK;AAE1B,kBAAU,QAAQ;AAClB,YAAI,aAAa,SAAS,MAAM;AAC/B,uBAAa,MAAM;QACnB;AAAA,MACF;AAGA,YAAM,cAAc,CAACA,OAAc;AAClC,YAAI,CAAC,WAAW;AAAO,iBAAM;AAE7B,cAAM,SAASA,GAAE,QAAQ,CAAC,EAAE,QAAQ,OAAO;AAC3C,cAAM,gBAAgB,gBAAgB,QAAQ;AAE9C,cAAM,aAAa,IAAI;AACvB,cAAM,kBAAkB,WAAW;AAEnC,cAAM,gBAAgB,WAAW,QAAQ;AACzC,uBAAe,QAAQ,KAAK,IAAI,GAAG,KAAK,IAAI,eAAe,aAAa,CAAC;AAGzE,cAAM,SAASA,GAAE,QAAQ,CAAC,EAAE;AAC5B,cAAM,cAAc,SAAS,OAAO,QAAQ,gBAAgB;AAC5D,cAAM,kBAAkB,WAAW,QAAQ,cAAc;AACzD,cAAM,gBAAgB,cAAc;AAGpC,oBAAY,QAAQ,WAAW,aAAa;AAC5C,yBAAiB,QAAQ,gBAAgB;AACzC,6BAAqB,QAAQ,gBAAgB;AAG7C,cAAM,MAAM,KAAK;AACjB,YAAI,MAAM,aAAa,QAAQ,KAAK;AACnC,cAAI,aAAa,SAAS,MAAM;AAC/B,gBAAI,QAAQ,OAAM,wCAAuC,YAAY,eAAe,GAAG;AACvF,iCAAqB,QAAQ;AAC7B,yBAAa,MAAM,KAAK,aAAa;AAAA,UACrC;AACD,uBAAa,QAAQ;AAAA,QACrB;AAAA,MACF;AAGA,YAAM,aAAa,MAAA;AAClB,YAAI,CAAC,WAAW;AAAO,iBAAM;AAG7B,cAAM,aAAa,IAAI;AACvB,cAAM,kBAAkB,WAAW;AACnC,cAAM,kBAAkB,WAAW,QAAQ,cAAc;AACzD,cAAM,iBAAiB,eAAe,QAAQ,kBAAkB,KAAK;AAErE,YAAI,aAAa,SAAS,MAAM;AAC/B,cAAI,QAAQ,OAAM,wCAAuC,gBAAgB,qBAAqB,OAAO,GAAG;AACxG,uBAAa,MAAM,KAAK,qBAAqB,KAAK;AAClD,uBAAa,MAAM;QACnB;AAED,yBAAiB,QAAQ,gBAAgB;AACzC,oBAAY,QAAQ,WAAW,aAAa;AAG5C,mBAAW,QAAQ;AACnB,kBAAU,QAAQ;AAAA,MACnB;AAWA,YAAM,eAAe,CAACA,OAAmB;AACxC,YAAI,CAAC,WAAW,OAAO;AACtB,yBAAe,QAAQA,GAAE,OAAO;AAAA,QAChC;AAAA,MACF;AAGA,YAAM,eAAe,CAAC,WAAe;AACpC,qBAAa,QAAQ;AAAA,MACtB;AAGA,YAAM,WAAW,CAAC,MAAe,WAAe;AAC/C,cAAM,UAAU,GAAG,YAAK,SAAQ,EAAG,SAAS,GAAG,GAAG,GAAC,KAAI,cAAO,WAAW,SAAS,GAAG,GAAG;AACxF,cAAM4E,UAAS,eAAe;AAC9B,iBAASzE,KAAI,GAAGA,KAAIyE,QAAO,QAAQzE,MAAK;AACvC,gBAAM,QAAQyE,QAAOzE,EAAC;AACtB,cAAI,MAAM,SAAS,WAAW,SAAS,MAAM,KAAK,WAAW,OAAO,GAAG;AACtE,mBAAO;AAAA,UACP;AAAA,QACD;AACD,eAAO;AAAA,MACR;AAGA,YAAM,eAAe,CAAC,MAAe,WAAe;AACnD,cAAM,UAAU,GAAG,YAAK,SAAQ,EAAG,SAAS,GAAG,GAAG,GAAC,KAAI,cAAO,WAAW,SAAS,GAAG,GAAG;AACxF,cAAM,aAAa,OAAO;AAC1B,iBAASA,KAAI,GAAGA,KAAI,WAAW,QAAQA,MAAK;AAC3C,gBAAM,QAAQ,WAAWA,EAAC;AAC1B,cAAI,MAAM,SAAS,WAAW,SAAS,MAAM,KAAK,WAAW,OAAO,GAAG;AACtE,mBAAO,MAAM;AAAA,UACb;AAAA,QACD;AACD,eAAO;AAAA,MACR;AAGA,YAAM,aAAa,CAAC,SAAa;AAChC,eAAO,GAAG,YAAK,SAAU,EAAC,SAAS,GAAG,GAAG,GAAC;AAAA,MAC3C;AAGA,YAAM,SAAS,MAAA;AACd,YAAI,QAAQ,OAAM,wCAAuC,QAAQ;AAAA,MAElE;AAEA,YAAM,UAAU,MAAA;AACf,YAAI,QAAQ,OAAM,wCAAuC,MAAM;AAAA,MAChE;AAGAD,UAAAA,UAAU,MAAA;AACT;AACA,YAAI,aAAa,SAAS,MAAM;AAC/B,cAAI,QAAQ,SAAQ,wCAAuC,gBAAgB;AAAA,QAC3E;AAAA,MACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzZD,QAAA,cAAeH,oBAAA;AAAA,IACd,MAAM;AAAA,IACN,OAAO,CAAC,SAAS;AAAA,IACjB,OAAO;AAAA,MACN,OAAO;AAAA,QACN,MAAM,CAAC,QAAQ,QAAQ,MAAM;AAAA,QAC7B,SAAS;AAAA,MACT;AAAA,MACD,KAAK;AAAA,QACJ,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,MAAM;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,YAAY;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,KAAK;AAAA,QACJ,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,WAAW;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,YAAY;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,aAAa;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,UAAU;AAAA,QACT,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,KAAK;AAAA,QACJ,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,YAAY;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IACA;AAAA,IACD,OAAI;AACH,aAAO;AAAA,QACN,OAAO;AAAA,QACP,WAAW;AAAA;IAEZ;AAAA,IACD,OAAO;AAAA,MACN,QAAK;AACJ,aAAK,SAAQ;AAAA,MACd;AAAA,IACA;AAAA,IACD,UAAO;AACN,WAAK,SAAQ;AAAA,IACb;AAAA,IACD,SAAS;AAAA,MACR,OAAO,KAAY;AAClB,YAAI;AAMJ,cAAM,MAA4B,IAAI;AACtC,aAAK,IAAI,cAAc,MAAM;AAE7B,eAAO;AAAA,MACP;AAAA,MACD,cAAc,MAAa;AAC1B,YAAI,MAAM;AACV,iBAASI,KAAI,GAAG,MAAM,KAAK,QAAQA,KAAI,KAAKA,MAAK;AAChD,gBAAM,OAAO,KAAK,WAAWA,EAAC;AAC9B,cAAI,QAAQ;AACX,kBAAM,MAAM;AAAA;AAEZ,kBAAM,MAAM;AAAA,QACd;AACA,cAAM,MAAO,KAAK,SAAS,IAAI,KAAK;AACpC,cAAM,KAAK,KAAK,OAAO,GAAG;AAC1B,cAAM,UAAU,KAAK,WAAW,CAAC;AACjC,YAAI,aAAa;AACjB,YAAI,WAAW,MAAM,WAAW,IAAI;AACnC,uBAAa;AAAA,QACd;AACA,eAAO,GAAI,aAAM,IAAI,aAAc,IAAE;AAAA,MACrC;AAAA,MACD,WAAQ;AACP,YAAI,MAAM,KAAK;AACf,YAAI;AACJ,YAAI,OAAO,KAAK,SAAS,UAAU;AAClC,kBAAQ,KAAK;AAAA,QACZ,OAAK;AACN,cAAI,OAAO,KAAK,SAAS,UAAU;AAClC,kBAAM,UAAU,KAAK;AACrB,gBAAI,OAAO,IAAI;AACd,sBAAQ,QAAQ;YACf,OAAK;AACN,sBAAQ,UAAU,MAAM,GAAG,YAAG,OAAM,QAAQ;YAC7C;AAAA,UACC,OAAK;AACN,gBAAI,OAAO,IAAI;AACd,sBAAQ,KAAK,MAAM;YAClB,OAAK;AACN,sBAAQ,WAAW,KAAK,MAAM,SAAQ,CAAE,IAAI,MAAM,GAAG,YAAG,OAAM,GAAG,YAAK;AAAA,YACvE;AAAA,UACD;AAAA,QACD;AACA,aAAK,YAAY;AACjB,aAAK,QAAQ,KAAK,MAAM,QAAQ,KAAK,cAAc,KAAK;AAAA,MACxD;AAAA,MACD,cAAW;AACV,aAAK,MAAM,SAAS;AAAA,MACrB;AAAA,IACD;AAAA,GACD;;;;;;;;;;;;;;;;;;;;;;AC5HA,YAAM,QAAQT,QAAa,KAAK;AAChC,YAAM,SAAS,MAAA;AACd,YAAI,aAAa,IAAA,cAAA;AAAA,UAChB,OAAO;AAAA,QACP,CAAA,CAAA;AAAA,MACF;AAEA,YAAM,cAAc,MAAA;AACnB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,eAAe,CAACM,OAAU;AAC/B,YAAI,QAAQ,OAAM,8DAA6DA,EAAC;AAAA,MACjF;AAEA,YAAM,UAAU,MAAA;AACf,YAAI,UAAU,IAAA,cAAA;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,SAAS,CAAC,QAAG;AACZ,gBAAI,IAAI,SAAS;AAChB,kBAAI,QAAQ,OAAM,8DAA6D,SAAS;AAAA,YACxF;AAAA,UACF;AAAA,QACA,CAAA,CAAA;AAAA,MACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QChCK,kBAAS,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQd,YAAM,MAAMN,QAAI,GAAG;AACnB,YAAM,aAAaA,QAAI,2BAA2B;AAClD,YAAM,aAAaA,IAAAA,IAAiB,CAAC,IAAA,UAAA;AAAA,QACnC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,KAAI;AAAA,QACJ,OAAO;AAAA,QACP,SAAS;AAAA,OACT,GACD,IAAA,UAAA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,KAAI;AAAA,QACJ,OAAO;AAAA,QACP,SAAS;AAAA,OACT,GACD,IAAA,UAAA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,KAAI;AAAA,QACJ,OAAO;AAAA,QACP,SAAS;AAAA,OACT,GACD,IAAA,UAAA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,KAAI;AAAA,QACJ,OAAO;AAAA,QACP,SAAS;AAAA,MACT,CAAA,CAAA,CACD;AAED,YAAM,SAAS,MAAA;AACd,YAAI,aAAa,IAAA,cAAA;AAAA,UAChB,OAAO;AAAA,QACP,CAAA,CAAA;AAAA,MACF;AAEA,YAAM,SAAS,CAAC,UAAe;AAC9B,YAAI,QAAQ,MAAM;AAClB,mBAAW,QAAQ,MAAM;AAAA,MAC1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6BA,YAAM,cAAcA,QAAa,IAAI;AACrC,YAAM,cAAcA,QAAa,IAAI;AACrC,YAAM,aAAaA,QAAa,IAAI;AACpC,YAAM,eAAeA,QAAa,IAAI;AACtC,YAAM,cAAcA,QAAa,IAAI;AACrC,YAAM,oBAAoBA,QAAa,IAAI;AAC3C,YAAM,kBAAkBA,QAAa,IAAI;AACzC,YAAM,aAAaA,QAAa,KAAK;AACrC,YAAM,mBAAmBA,QAAY,GAAG;AACxC,YAAM,iBAAiBA,QAAY,IAAI;AACvC,YAAM,gBAAgBA,QAAoB,CAAA,CAAE;AAC5C,YAAM,oBAAoBA,QAAoB,CAAA,CAAE;AAChD,YAAM,mBAAmBA,QAAY,GAAG;AACxC,YAAM,uBAAuBA,QAAY,IAAI;AAE7C,UAAI,kBAAoD;AAExD,YAAM,oBAAoB;AAAA,QACzB;AAAA,UACC;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,QACD;AAAA;AAGF,YAAM,uBAAuB;AAAA,QAC5B;AAAA,UACC;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,QACD;AAAA;AAIF,YAAM,iBAAiB,CAACM,OAAS;AAChC,oBAAY,QAAQA;AAAA,MACrB;AAEA,YAAM,mBAAmB,MAAA;AACxB,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,2BAAiB,QAAQ;AAAA,QAC1B;AACA,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,kBAAkB,MAAA;AACvB,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,yBAAe,QAAQ;AAAA,QACxB;AACA,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,YAAY,CAACA,OAAoB;AACtC,cAAM,gBAAgBA,GAAE,OAAO,CAAC,EAAE,SAAQ;AAC1C,oCAAA,oBAAe,SAAA,OAAf,gBAAkB,aAAa;AAC/B,mBAAW,QAAQ;AACnB,0BAAkB;AAAA,MACnB;AAEA,YAAM,oBAAoB,MAAA;AACzB,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,2BAAiB,QAAQ;AAAA,QAC1B;AACA,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,mBAAmB,MAAA;AACxB,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,+BAAqB,QAAQ;AAAA,QAC9B;AACA,mBAAW,QAAQ;AAAA,MACpB;AAGA,YAAM,iBAAiB,CAACA,OAAS;AAChC,oBAAY,QAAQA;AAAA,MACrB;AAEA,YAAM,gBAAgB,CAACA,OAAS;AAC/B,mBAAW,QAAQA;AAAA,MACpB;AAEA,YAAM,kBAAkB,CAACA,OAAS;AACjC,qBAAa,QAAQA;AAAA,MACtB;AAEA,YAAM,iBAAiB,CAACA,OAAS;AAChC,oBAAY,QAAQA;AAAA,MACrB;AAEA,YAAM,uBAAuB,CAACA,OAAS;AACtC,0BAAkB,QAAQA;AAAA,MAC3B;AAEA,YAAM,qBAAqB,CAACA,OAAS;AACpC,wBAAgB,QAAQA;AAAA,MACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtNM,QAAM,YAAY;AAClB,QAAM,aAAa;AACnB,QAAM,YAAY;AAClB,QAAM,YAAY;AAClB,QAAM,cAAc;AACpB,QAAM,cAAc;AAEpB,QAAM,WAAW,oBAAI,IAAoB;AAAA,IAC/C,CAAC,KAAK,SAAS;AAAA,IACf,CAAC,KAAK,UAAU;AAAA,IAChB,CAAC,KAAK,SAAS;AAAA,IACf,CAAC,KAAK,SAAS;AAAA,IACf,CAAC,KAAK,WAAW;AAAA,IACjB,CAAC,KAAK,WAAW;AAAA,IACjB,CAAC,QAAQ,SAAS;AAAA,IAClB,CAAC,SAAS,UAAU;AAAA,IACpB,CAAC,QAAQ,SAAS;AAAA,IAClB,CAAC,QAAQ,SAAS;AAAA,IAClB,CAAC,UAAU,WAAW;AAAA,IACtB,CAAC,UAAU,WAAW;AAAA,EACtB,CAAA;AAEM,QAAM,aAAa,oBAAI,IAAoB;AAAA,IACjD,CAAC,QAAQ,MAAM;AAAA,IACf,CAAC,SAAS,IAAI;AAAA,IACd,CAAC,QAAQ,IAAI;AAAA,IACb,CAAC,QAAQ,IAAI;AAAA,IACb,CAAC,UAAU,IAAI;AAAA,IACf,CAAC,UAAU,IAAI;AAAA,EACf,CAAA;AAEM,QAAM,WAAW,oBAAI,IAAoB;AAAA,IAC/C,CAAC,QAAQ,GAAG;AAAA,IACZ,CAAC,SAAS,GAAG;AAAA,IACb,CAAC,QAAQ,GAAG;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,IACd,CAAC,UAAU,GAAG;AAAA,EACd,CAAA;AAIM,QAAM,aAAgC,CAAC,QAAQ,SAAS,QAAQ,QAAQ,UAAU,QAAQ;AAC1F,QAAM,iBAAiB;AC7CxB,WAAU,iBAAiB,MAAU;AAE1C,UAAM,MAAyB,CAAA;AAE/B,QAAI,QAAe;AACnB,QAAG,OAAO,QAAQ,UAAU;AAC3B,eAAS,QAAQ,CAAC,OAAO,QAAG;AAC3B,YAAI,KAAgB,SAAS,GAAG,GAAG;AAClC,kBAAQ,QAAQ;AAAA,QAChB;AAAA,MACF,CAAC;AAAA,IACD,WAAS,OAAO,QAAQ,UAAU;AAClC,cAAQ;AAAA,IACR;AAED,QAAG,SAAS,GAAG;AACd,aAAO;AAAA,IACP;AAID,UAAM,eAAe,CAAC,WAAW,YAAY,WAAW,WAAW,aAAa,WAAW;AAG3F,UAAM,iBAAiB,aAAa,OAAO,aAAW;AAAA,cAAC,QAAQ,YAAY;AAAA,IAArB,CAAsB;AAG5E,QAAI,eAAe,UAAU,GAAG;AAC/B,aAAO;IACP;AAGD,QAAI,kBAA6B,CAAA;AACjC,QAAI,kBAA6B,CAAA;AAGjC,mBAAe,QAAQ,aAAO;AAE7B,UAAI,gBAAgB,UAAU,KAAK,WAAW,gBAAgB,gBAAgB,SAAS,CAAC,IAAI,GAAG;AAC9F,wBAAgB,KAAK,OAAO;AAAA,MAC5B,OAAM;AAEN,YAAI,gBAAgB,SAAS,gBAAgB,QAAQ;AACpD,4BAAkB;AAAA,QAClB;AAED,0BAAkB,CAAC,OAAO;AAAA,MAC1B;AAAA,IACF,CAAC;AAGD,QAAI,gBAAgB,SAAS,gBAAgB,QAAQ;AACpD,wBAAkB;AAAA,IAClB;AAGD,WAAO,gBAAgB,IAAI,aAAO;AAAI,aAAA,WAAW,aAAa,QAAQ,OAAO,CAAC;AAAA,IAAC,CAAA;AAAA,EAChF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCC,YAAM,OAAO;AACb,YAAM,QAAQ;AAWd,UAAI,gBAA2B,MAAA,WAAA,MAAM,WAAS,QAAA,OAAA,SAAA,KAAA,MAAM,kBAAY,QAAA,OAAA,SAAA,KAAI,MAAM,+CAAgB,KAAK,IAAG;AAClG,YAAM,aAAaH,IAAAA,SAAS;AAAA,QAC3B,IAAI,QAAiB,MAAA;AACpB,cAAG,gBAAgB;AAAO,mBAAM;AAChC,yBAAe;AACf,eAAK,UAAU,KAAK;AACpB,eAAK,qBAAqB,KAAK;AAC/B,eAAK,gBAAgB,KAAK;AAAA,QAC1B;AAAA,QACD,MAAG;;AACF,gBAAM,SAAQqE,OAAApE,MAAA,MAAM,WAAK,QAAAA,QAAA,SAAAA,MAAI,MAAM,gBAAU,QAAAoE,QAAA,SAAAA,MAAI;AACjD,iBAAO,OAAO,SAAS,YAAa,MAAiB,UAAU,IAAI,KAAK,IAAK,IAAG;AAAA,QACjF;AAAA,MACsC,CAAA;AAGvC,YAAM,gBAAgB,iBAAiB,MAAM,IAAI;AACjD,YAAM,aAAa,CAAC,QAAQ,UAAU,QAAQ,EAAE,SAAS,cAAc,CAAC,CAAC;AACzE,YAAM,YAAY,CAAC,MAAA,MAAwB,eAAmB;AAAc,eAAA,OAAO,QAAQ,OAAO,GAAG,EAAE,YAAY,OAAO,GAAG,IAAI;AAAA;AACjI,YAAM,QAAQrE,IAAQ,SAAC,MAAA;AAAe,eAAA,UAAU,MAAM,OAA2B,OAAQ,EAAC,SAAS,IAAI,MAAM,CAAC;AAAA,MAAC,CAAA;AAC/G,YAAM,MAAMA,IAAQ,SAAC,MAAA;AAAe,eAAA,UAAU,MAAM,KAAyB,OAAQ,EAAC,IAAI,IAAI,MAAM,CAAC;AAAA,MAAC,CAAA;AACtG,YAAM,cAAc,CAAC,QAAY;AAChC,YAAI;AAAY,iBAAO;AACvB,YAAI,IAAI,SAAS,MAAM,KAAK;AAAG,iBAAO,MAAM;AAC5C,YAAI,IAAI,QAAQ,IAAI,KAAK;AAAG,iBAAO,IAAI;AACvC,eAAO;AAAA,MACR;AAEA,YAAM,WAAW,CAAC,eAA+B,SAAA;AAChD,YAAI,YAAY;AACf,gBAAM,UAAU,OAAO,MAAM,KAAK,EAAE,OAAO,YAAY;AACvD,yBAAe,GAAG,gBAAO,KAAI;AAAA,QAC7B;AACD,eAAO,gBAAgB,QAAQ,OAAO,YAAY,EAAE,QAAO,IAAK,YAAY,OAAO,YAAY,CAAC,IAAI,MAAM;AAAA,MAC3G;AAEA,YAAM,UAAUH,IAAAA,IAAI,SAAS,WAAW,KAAK,CAAC;AAC9C,YAAM,gBAAgBG,IAAAA,SAAS,MAAiB;AAAA,eAAA,cAAc,IAAI,CAAC;AAAkB,iBAAA,QAAQ,MAAM,IAAI,IAAI,EAAE,SAAQ;AAAA,QAAE,CAAA;AAAA,MAAvE,CAAwE;AACxH,YAAM,cAAc,oBAAI;AACxB,YAAM,UAAUA,IAAAA,SAAS,MAAA;AACxB,cAAM,MAA+B,CAAA;AAErC,cAAM,UAAU,CAAC;AAA6B,iBAAA;AAAA,YAC7C,KAAK,KAAM;AAAA,YACX,KAAK,MAAK,IAAK;AAAA,YACf,KAAK,KAAM;AAAA,YACX,KAAK,KAAM;AAAA,YACX,KAAK,OAAQ;AAAA,YACb,KAAK,OAAQ;AAAA,UACb;AAAA;AAEK,cAAAC,MAAA,OAAkD,QAAQ,QAAQ,KAAK,GAAC,CAAA,GAAvE,UAAOA,IAAA,CAAA,GAAE,WAAQA,IAAA,CAAA,GAAE,SAAMA,IAAA,CAAA,GAAE,UAAOA,IAAA,CAAA,GAAE,YAASA,IAAA,CAAA;AAC9C,cAAAoE,MAAA,OAA6D,QAAQ,MAAM,KAAK,GAAC,CAAA,GAAhF,UAAOA,IAAA,CAAA,GAAE,WAAQA,IAAA,CAAA,GAAE,SAAMA,IAAA,CAAA,GAAE,UAAOA,IAAA,CAAA,GAAE,YAASA,IAAA,CAAA,GAAE,YAASA,IAAA,CAAA;AACzD,cAAAE,MAAA,OAA6D,QAAQ,IAAI,KAAK,GAAC,CAAA,GAA9E,UAAOA,IAAA,CAAA,GAAE,WAAQA,IAAA,CAAA,GAAE,SAAMA,IAAA,CAAA,GAAE,UAAOA,IAAA,CAAA,GAAE,YAASA,IAAA,CAAA,GAAE,YAASA,IAAA,CAAA;AAE/D,cAAM,cAAc,WAAW;AAC/B,cAAM,cAAc,WAAW;AAC/B,cAAM,eAAe,eAAe,YAAY;AAChD,cAAM,eAAe,eAAe,aAAa;AACjD,cAAM,aAAa,gBAAgB,UAAU;AAC7C,cAAM,aAAa,gBAAgB,UAAU;AAC7C,cAAM,cAAc,cAAc,WAAW;AAC7C,cAAM,cAAc,cAAc,WAAW;AAC7C,cAAM,gBAAgB,eAAe,aAAa;AAClD,cAAM,gBAAgB,eAAe,aAAa;AAElD,cAAM,iBAAiB,CAAC,MAAe,YAAqB,eAAmB;AAC9E,gBAAM,WAAW,GAAG,aAAI,KAAI,mBAAU,KAAI;AAC1C,cAAI,YAAY,IAAI,QAAQ,GAAG;AAC9B,gBAAI,KAAK,IAAA,OAAA,aAAgB,QAAQ,CAAE;AACnC,mBAAM;AAAA,UACN;AAED,gBAAM,MAAmC,CAAA;AACzC,mBAASjE,KAAI,YAAYA,MAAK,YAAYA,MAAK;AAC9C,kBAAM,QAAQA;AACd,gBAAI,KAAK;AAAA,cACR,OAAO,MAAM,eAAe,OAAO,MAAM,YAAa,MAAMA,GAAE,UAAU,IAAI,GAAG,cAAQ,aAAM,WAAU,IAAA,OAAC,UAAa,IAAI,IAAI;AAAA,cAC7H,OAAO,QAAQ,UAAU,GAAG,eAAQ,KAAM,MAAM,SAAU;AAAA,YAC9B,CAAA;AAAA,UAC7B;AAED,cAAI,MAAM,gBAAgB,MAAM;AAC/B,kBAAM,OAAO,MAAM,aAAc,MAAM,GAAG;AAC1C,gBAAI,KAAK,IAAI;AACb,wBAAY,IAAI,UAAU,IAAI;AAAA,UAC9B,OAAM;AACN,gBAAI,KAAK,GAAG;AACZ,wBAAY,IAAI,UAAU,GAAG;AAAA,UAC7B;AAAA,QAEF;AAEA,YAAI,cAAc,SAAS,MAAM,GAAG;AACnC,yBAAe,QAAQ,SAAS,OAAO;AAAA,QACvC;AACD,YAAI,cAAc,SAAS,OAAO,GAAG;AACpC,gBAAM,QAAQ,cAAc,WAAW;AACvC,gBAAM,QAAQ,cAAc,WAAW;AACvC,yBAAe,SAAS,OAAO,KAAK;AAAA,QACpC;AACD,YAAI,cAAc,SAAS,MAAM,GAAG;AACnC,gBAAM,QAAQ,eAAe,SAAS;AACtC,gBAAM,QAAQ,eAAe,SAAS,OAAO,GAAG,gBAAO,KAAI,gBAAU,EAAE,YAAW;AAClF,yBAAe,QAAQ,OAAO,KAAK;AAAA,QACnC;AACD,YAAI,cAAc,SAAS,MAAM,GAAG;AACnC,gBAAM,QAAQ,cAAc,CAAC,aAAa,UAAU,MAAM,MAAM,SAAS,GAAG,EAAE;AAC9E,gBAAM,QAAQ,cAAc,CAAC,aAAa,UAAU,MAAM,MAAM,SAAS,OAAO,EAAE;AAClF,yBAAe,QAAQ,OAAO,KAAK;AAAA,QACnC;AACD,YAAI,cAAc,SAAS,QAAQ,GAAG;AACrC,gBAAM,QAAQ,eAAe,CAAC,aAAa,YAAY,MAAM,MAAM,WAAW,GAAG,EAAE;AACnF,gBAAM,QAAQ,eAAe,CAAC,aAAa,YAAY,MAAM,MAAM,WAAW,OAAO,EAAE;AACvF,yBAAe,UAAU,OAAO,KAAK;AAAA,QACrC;AACD,YAAI,cAAc,SAAS,QAAQ,GAAG;AACrC,gBAAM,QAAQ,iBAAiB,CAAC,aAAa,YAAY;AACzD,gBAAM,QAAQ,iBAAiB,CAAC,aAAa,YAAY;AACzD,yBAAe,UAAU,OAAO,KAAK;AAAA,QACrC;AACD,eAAO;AAAA,MACR,CAAC;AAED,YAAM,eAAeN,IAAAA,SAAS,MAAA;AAC7B,cAAM,QAAQ,cAAc,SAAS,IAAI,cAAc,CAAC,IAAI;AAC5D,cAAM,OAAO,cAAc,SAAS,IAAI,cAAc,cAAc,SAAS,CAAC,IAAI;AAElF,cAAM,SAAS,eAAe,UAC7B,eAAe,QAAQ,WAAA,YAAe,KAAK,CAAE,GAC7C,eAAe,YAAY,IAAA,OAAA,YAAe,IAAI,CAAE,IAAI,IAAA,OAAA,YAAe,IAAI,EAAG,MAAM;AAEjF,eAAO;AAAA,MACR,CAAC;AACD,YAAM,YAAY,CAACC,QAA+B;AAA7B,YAAA,SAAMA,IAAA;AAU1B,YAAI,MAAM,QAAQ;AAElB,eAAO,QAAQ,CAAC,OAAI,MAAE,UAAK;AAC1B,gBAAM,OAAO,cAAc,KAAK;AAChC,gBAAM,IAAI,IAAI,MAAM,SAAS,GAAG,cAAQ,EAAE,CAAC;AAAA,QAC5C,CAAC;AACD,cAAM,WAAW,IAAI,OAAO,MAAM,MAAM;AAExC,mBAAW,QAAQ,IAAI,OAAO,aAAa,KAAK;AAChD,aAAK,WAAW,QAAQ;AAAA,MACzB;AACA,YAAM,WAAW,MAAA;AAChB,aAAK,QAAQ;AAAA,MACd;AACA,YAAM,SAAS,CAACA,QAA2C;;AAAjC,YAAA,SAAMA,IAAA,QAAE,QAAKA,IAAA;AACtC,cAAM,OAAO,cAAc,MAAM;AACjC,cAAM,MAAM,QAAQ,MAAM,IAAI,MAAoB,SAAS,QAAQ,MAAM,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC;AAElG,gBAAQ,QAAQ,YAAY,GAAG;AAC/B,aAAK,QAAQ,YAAY,GAAG,EAAE,OAAO,MAAM,MAAM,CAAC;AAAA,MACnD;AAEA,YAAM,WAAW,CAAC,WAAsB;AACvC,YAAI,MAAM,QAAQ;AAClB,eAAO,QAAQ,CAAC,OAAI,MAAE,UAAK;AAC1B,gBAAM,OAAO,cAAc,KAAK;AAChC,gBAAM,IAAI,IAAI,MAAM,SAAS,GAAG,cAAQ,EAAE,CAAC;AAAA,QAC5C,CAAC;AACD,gBAAQ,QAAQ,YAAY,GAAa;AACzC,cAAM,WAAW,QAAQ,MAAM,OAAO,aAAa,KAAK;AACxD,mBAAW,QAAQ;AAAA,MACpB;AACA,YAAM,OAAO8D,IAAK,MAAC,YAAY,CAAC,MAAe,SAAA;AAC9C,gBAAQ,QAAQ,SAAS,GAAG;AAAA,MAC7B,CAAC;AAEDU,UAAAA,gBAAgB,MAAA;AACf;MACD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClKD,YAAM,QAAQ5E,QAAa,IAAI;AAC/B,YAAM,gBAAgBA,QAAoB,CAAA,CAAE;AAC5C,YAAM,UAAUA,QAAqB,EAAE;AACvC,YAAM,aAAaA,QAAa,KAAK;AACrC,YAAM,gBAAgBA,QAAY,MAAM;AACxC,YAAM,qBAAqBA,QAAY,IAAI;AAC3C,YAAM,YAAYA,QAAY,OAAO;AACrC,YAAM,UAAUA,QAAY,OAAO;AAEnC,UAAI,kBAAoD;AAExD,YAAM,mBAAmB;AAAA,QACxB;AAAA,UACC;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,QACD;AAAA;AAGF,YAAM,wBAAwB;AAAA,QAC7B;AAAA,UACC;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,UACD;AAAA,YACC,OAAO;AAAA,YACP,OAAO;AAAA,UACP;AAAA,QACD;AAAA;AAGF,YAAM,YAAY,MAAA;AACjB,cAAM,QAAQ;AACd,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,wBAAc,QAAQ;AAAA,QACvB;AACA,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,iBAAiB,MAAA;AACtB,cAAM,QAAQ;AACd,sBAAc,QAAQ;AACtB,0BAAkB,CAAC,UAAa;AAC/B,6BAAmB,QAAQ;AAAA,QAC5B;AACA,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,YAAY,CAACM,OAAoB;AACtC,cAAM,gBAAgBA,GAAE,OAAO,CAAC,EAAE,SAAQ;AAC1C,oCAAA,oBAAe,SAAA,OAAf,gBAAkB,aAAa;AAC/B,mBAAW,QAAQ;AACnB,0BAAkB;AAAA,MACnB;AAEA,YAAM,YAAY,MAAA;AACjB,cAAM,QAAQ;AACd,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,kBAAkB,CAAC,UAAa;AACrC,kBAAU,QAAQ;AAAA,MACnB;AAEA,YAAM,gBAAgB,CAAC,UAAa;AACnC,gBAAQ,QAAQ;AAAA,MACjB;AAEA,YAAM,eAAe,MAAA;AACpB,mBAAW,QAAQ;AAAA,MACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHA,QAAA,cAAeD,oBAAA;AAAA,IACd,MAAM;AAAA,IACN,OAAO;AAAA,MACN,KAAK;AAAA,QACJ,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,QAAQ;AAAA,QACP,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,MAAM;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,OAAO;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,YAAY;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,WAAW;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,SAAS;AAAA,QACR,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AAAA,MACD,WAAW;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IACD;AAAA,GACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCCK,gBAAO,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;QAMP,oBAAW,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAVhB,YAAM,SAASL,QAAY,CAAC;AAC5B,YAAM,UAAUA,QAAqB,EAAE;AACvC,YAAM,kBAAkBA,QAAwB,IAAI;AAgBpD,YAAM,UAAUA,IAAAA,IAAe;AAAA,QAC9B,IAAA,QAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,SAAQ,CAAmB;AAAA,QAC3B,CAAA;AAAA,QACD,IAAA,QAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,SAAQ,CAAmB;AAAA,QAC3B,CAAA;AAAA,MACD,CAAA;AAED,YAAM,UAAWA,IAAAA,IAAmB;AAAA,QACnC,IAAA,YAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,MAAK;AAAA,UACL,OAAM;AAAA,UACN,UAAS;AAAA,QACT,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,MAAK;AAAA,UACL,OAAM;AAAA,UACN,UAAS;AAAA,QACT,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,MAAK;AAAA,UACL,OAAM;AAAA,UACN,UAAS;AAAA,QACT,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,MAAK;AAAA,UACL,OAAM;AAAA,UACN,UAAS;AAAA,QACT,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,MAAK;AAAA,UACL,OAAM;AAAA,UACN,UAAS;AAAA,QACT,CAAA;AAAA,MACD,CAAA;AAED,YAAM,SAAS,MAAA;AACd,YAAI,aAAa,IAAA,cAAA;AAAA,UAChB,OAAO;AAAA,QACP,CAAA,CAAA;AAAA,MACF;AAEA,YAAM,YAAY,MAAA;AACjB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,YAAY,MAAA;AACjB,YAAI,iBAAiB;AAAA,UACpB,MAAM;AAAA,UACN,SAAS,MAAA;AACR,gBAAI,UAAU;AAAA,cACb,OAAO;AAAA,YACP,CAAA;AAAA,UACD;AAAA,QACD,CAAA;AAAA,MACF;AAEA,YAAM,oBAAoB,MAAA;AACzB,cAAM,eAAe,QAAQ,MAAM,OAAO,KAAK,EAAE;AACjD,eAAO,QAAQ,MAAM,OAAO,WAAK;AAAI,iBAAA,MAAM,YAAY;AAAA,QAAlB,CAA8B;AAAA,MACpE;AAEA,YAAM,YAAY,CAAC,QAAW;AAC7B,eAAO,QAAQ;AAAA,MAChB;AAEA,YAAM,eAAe,CAAC,SAAgB;AACrC,wBAAgB,QAAQ;AAAA,MACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzHA,QAAM,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACb,UAAM,OAAO;AAEb,UAAM,QAAQ;AA4Bd,UAAM,WAAWmB,IAAAA;AACjB,UAAM,eAAejB,IAAAA,OAA+B,gBAAgB,IAAI;AACxE,UAAM,eAAeA,IAAAA,OAA+B,gBAAgB,IAAI;AAExE,UAAM,gBAAgBA,IAAAA,OAAmD,qBAAqB,IAAI;AAClG,UAAM,qBAAqBA,IAAAA,OAAgC,0BAA0B,IAAI;AACzF,UAAM,sBAAsBA,IAAAA,OAAyC,2BAA2B,IAAI;AACpG,UAAM,0BAA0BA,IAAAA,OAAmC,+BAA+B,IAAI;AACtG,UAAM,oBAAoBA,IAAAA,OAA+B,sCAAsC,IAAI;AACnG,UAAM,kBAAkBA,IAAAA,OAA6B,oCAAoC,IAAI;AAC7F,QAAG,qBAAqB,MAAM;AAC7B,wBAAkB,SAAS,OAA2C,IAAI;AAAA,IAC1E;AAED,UAAM,MAAMC,IAAAA,SAAS;;AAAa,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,SAAO,QAAAA,QAAA,SAAAA,MAAA;AAAA,IAAE,CAAA;AAE1D,UAAM,gBAAgBJ,IAAAA,IAAI,MAAM,cAAc;AAC9C,UAAM,eAAeG,IAAAA,SAAS;AAAA,MAC7B,IAAI,OAAc;AACjB,sBAAc,QAAQ;AACtB,aAAK,qBAAqB,KAAK;AAC/B,aAAK,UAAU,KAAK;AAAA,MACpB;AAAA,MACD,MAAG;;AACF,cAAM,SAASC,MAAA,MAAM,aAAO,QAAAA,QAAA,SAAAA,MAAI,MAAM;AACtC,YAAG,SAAS;AAAM,iBAAO;AACzB,eAAO,cAAc;AAAA,MAQtB;AAAA,IACoC,CAAA;AAErC,UAAM,YAAYD,IAAAA,SAAS,MAAA;;AAC1B,UAAI,MAAM,UAAU;AACnB,cAAM,kBAAiBC,MAAA,wBAAA,QAAA,wBAAA,SAAA,OAAA,oBAAqB,WAAS,QAAAA,QAAA,SAAAA,MAAA;AACrD,eAAO,kBAAkB,aAAa,kBAAkB;AAAA,MACxD;AACD,YAAM,SAAQ,KAAA,MAAM,WAAS,QAAA,OAAA,SAAA,KAAA,MAAM;AACnC,UAAI,2BAA2B,QAAQ,SAAS,MAAM;AACrD,eAAO,wBAAwB,MAAM,IAAI,KAAK;AAAA,MAC9C;AACD,aAAO,aAAa;AAAA,IACrB,CAAC;AAED,UAAM,aAAaD,IAAAA,SAAS,MAAA;;AAC3B,UAAG,IAAI,QAAQ,MAAM,sBAAsB,MAAM;AAChD,eAAO,IAAI,SAAS,mBAAmB,MAAM,UAAU,CAAC,UAAU;AAAA,MAClE;AACD,UAAI,MAAM;AAAU,eAAO,MAAM;AACjC,oBAAOC,MAAA,yBAAA,iBAAY,SAAA,OAAZ,aAAc,0CAAS,kBAAa,QAAb,kBAAA,SAAA,OAAA,cAAe,cAAQ,QAAA,OAAA,SAAA,KAAI;AAAA,IAC1D,CAAC;AAED,UAAM,aAAYD,IAAAA,SAAS,MAAA;;AAC1B,UAAI,MAAM;AAAU,eAAO,MAAM;AACjC,oBAAOC,MAAA,yBAAA,iBAAY,SAAA,OAAZ,aAAc,0CAAS,kBAAa,QAAb,kBAAA,SAAA,OAAA,cAAe,cAAQ,QAAA,OAAA,SAAA,KAAI;AAAA,IAC1D,CAAC;AAED,UAAM,kBAAkBD,IAAAA,SAAS,MAAA;AAChC,UAAI,MAAM,YAAY,uBAAuB;AAAM,eAAO,oBAAoB,SAAS;AACvF,aAAO,MAAM;AAAA,IACd,CAAC;AAED,UAAM,YAAYA,IAAAA,SAAS;;AAAa,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,UAAQ,QAAAA,QAAA,SAAAA,MAAA,MAAM;AAAA,IAAI,CAAA;AACzE,UAAM,YAAYD,IAAAA,SAAS;;AAAa,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,UAAQ,QAAAA,QAAA,SAAAA,MAAA,MAAM;AAAA,IAAI,CAAA;AACzE,UAAM,gBAAgBD,IAAAA,SAAS;;AAAkB,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,cAAY,QAAAA,QAAA,SAAAA,MAAA,MAAM;AAAA,IAAQ,CAAA;AAC1F,UAAM,gBAAgBD,IAAAA,SAAS;;AAAkB,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,cAAY,QAAAA,QAAA,SAAAA,MAAA,MAAM;AAAA,IAAQ,CAAA;AAC1F,UAAM,oBAAoBD,IAAAA,SAAS;;AAAkB,cAAAC,MAAA,kBAAA,QAAA,kCAAA,cAAe,kBAAgB,QAAAA,QAAA,SAAAA,MAAA,MAAM;AAAA,IAAY,CAAA;AACtG,UAAM,mBAAmBD,IAAAA,SAAS,MAAA;AAAA,UAAAC,KAAA;AAAa,cAAA,MAAAA,MAAA,MAAM,iBAAW,QAAAA,QAAA,SAAAA,MAAI,kBAAA,QAAA,kBAAA,SAAA,OAAA,cAAe,8CAAe;AAAA,IAAO,CAAA;AACzG,UAAM,uBAAuBD,IAAAA,SAAS,MAAA;AAAA,UAAAC,KAAA;AAAa,cAAA,MAAAA,MAAA,MAAM,qBAAe,QAAAA,QAAA,SAAAA,MAAI,kBAAA,QAAA,kBAAA,SAAA,OAAA,cAAe,kDAAmB;AAAA,IAAS,CAAA;AACvH,UAAM,yBAAyBD,IAAAA,SAAS,MAAA;AAAA,UAAAC,KAAA;AAAa,cAAA,MAAAA,MAAA,MAAM,uBAAiB,QAAAA,QAAA,SAAAA,MAAI,kBAAA,QAAA,kBAAA,SAAA,OAAA,cAAe,oDAAqB;AAAA,IAAS,CAAA;AAC7H,UAAM,2BAA2BD,IAAAA,SAAS,MAAA;AAAA,UAAAC,KAAA;AAAa,cAAA,MAAAA,MAAA,MAAM,yBAAmB,QAAAA,QAAA,SAAAA,MAAI,kBAAA,QAAA,kBAAA,SAAA,OAAA,cAAe,sDAAuB;AAAA,IAAS,CAAA;AAGnI,UAAM,aAAaD,IAAAA,SAAS,MAAA;AAC3B,YAAM,MAAM,oBAAI;AAChB,UAAI,IAAI,GAAG,aAAI,MAAK,aAAM,OAAQ,IAAI;AACtC,UAAI,IAAI,GAAG,aAAI,eAAc,WAAW,KAAK;AAC7C,aAAO;AAAA,IACR,CAAC;AAED,UAAM,cAAcA,IAAAA,SAAS,MAAA;AAC5B,YAAM,MAAM,oBAAI;AAChB,UAAI,IAAI,GAAG,aAAI,qBAAoB,WAAW,KAAK;AACnD,UAAI,IAAI,GAAG,aAAI,YAAW,aAAM,OAAQ,IAAI;AAE5C,UAAI,IAAI,GAAG,aAAI,oBAAmB,UAAU,SAAS,kBAAkB,SAAS,IAAI;AACpF,UAAI,IAAI,GAAG,aAAI,0BAAyB,gBAAgB,SAAS,kBAAkB,SAAS,IAAI;AAMhG,aAAO;AAAA,IACR,CAAC;AAED,UAAM,aAAaA,IAAAA,SAAS,MAAA;AAC3B,YAAM,MAAM,oBAAI;AAChB,UAAI,IAAI,GAAG,aAAI,sBAAqB,WAAW,KAAK;AACpD,aAAO;AAAA,IACR,CAAC;AAED,UAAM,SAASA,IAAAA,SAAS,MAAA;AACvB,YAAM,QAAQ,oBAAI;AAClB,UAAG,iBAAiB,QAAQ,cAAc,OAAO,MAAM;AACtD,cAAM,IAAI,cAAc,aAAa,eAAe,iBAAiB,iBAAiB,cAAc,GAAI;AAAA,MACxG;AAkBD,aAAO;AAAA,IACR,CAAC;AAED,UAAM,YAAYA,IAAAA,SAAS,MAAA;AAC1B,YAAM,QAAQ,oBAAI;AAClB,UAAG,cAAc,SAAS,MAAM;AAC/B,cAAM,IAAI,SAAS,cAAc,KAAM;AACvC,cAAM,IAAI,UAAU,cAAc,KAAM;AAAA,MAIxC;AAED,UAAG,kBAAkB,SAAS,MAAM;AAMnC,YAAG,CAAC,WAAW,SAAS,CAAC,UAAU,SAAS,CAAC,OAAO,UAAU,WAAW,EAAE,SAAS,UAAU,KAAK,GAAG;AACrG,gBAAM,IAAI,cAAc,iBAAiB,KAAK;AAC9C,gBAAM,IAAI,gBAAgB,qBAAqB,KAAK;AAAA,QACpD;AACD,YAAG,WAAW,SAAS,CAAC,OAAO,UAAU,WAAW,EAAE,SAAS,UAAU,KAAK,GAAG;AAChF,gBAAM,IAAI,cAAc,yBAAyB,KAAK;AACtD,gBAAM,IAAI,gBAAgB,uBAAuB,KAAK;AAAA,QACtD;AACD,YAAG,UAAU,SAAS,CAAC,OAAO,UAAU,WAAW,EAAE,SAAS,UAAU,KAAK,GAAG;AAC/E,gBAAM,IAAI,cAAc,kBAAkB,KAAM;AAChD,gBAAM,IAAI,gBAAgB,kBAAkB,KAAM;AAAA,QAClD;AAAA,MAED;AACD,aAAO;AAAA,IACR,CAAC;AAWD,UAAM,cAAcA,IAAAA,SAAS,MAAA;;AAC5B,UAAG,OAAO,MAAM,cAAc,UAAU;AACvC,eAAO,GAAG,aAAM,YAAU,QAAO,cAAc,SAAS,OAAO,cAAc,qBAAc,SAAS;AAAA,MACpG;AACD,UAAG,OAAO,MAAM,cAAc,UAAU;AACvC,eAAO,cAAc,OAAO,IAAA,cAAA,CAAA,CAAE,IAAGC,MAAA,MAAM,gBAAY,QAAAA,QAAA,SAAAA,MAAA,IAAA,cAAA,CAAA,CAAE,GAAoB,cAAc,SAAS,OAAO,IAAA,cAAA,EAAC,aAAa,cAAc,MAAK,CAAC,sBAAE,CAAA,CAAE,CAAA;AAAA,MAC7I;AACD,aAAA,IAAA,cAAO,CAAA,CAAE;AAAA,IACV,CAAC;AACD,UAAM,eAAe,CAACE,OAAkB;;AACvC,UAAI,WAAW,SAAS,WAAW;AAAO,eAAO;AACjD,YAAM,QAAQ,CAAC,UAAU;AACzB,mBAAa,QAAQ;AAErB,UAAG,mBAAmB,MAAM;AAC3B,wBAAgB;AAAA,UACf,SAAS;AAAA,UACT,UAAU,MAAM;AAAA,UAChB,QAAOF,MAAA,MAAM,0CAAS,MAAM;AAAA;AAAA,QAC5B,CAAA;AAAA,MACD;AAAA,IACF;AAGA,UAAM,UAAUJ,QAAqB,IAAI;AACzC,UAAM,SAAS,MAAA;AACd,UAAG,QAAQ,SAAS;AAAM,eAAM;AAChC,YAAM,MAAM,QAAQ,MAAO,mBAAkB;AAC7C,YAAM,OAAO,QAAQ,MAAO,sBAAqB;AACjD,YAAMa,KAAI,KAAK,QAAQ;AACvB,YAAMC,KAAI,KAAK,SAAS;AACxB,UAAI,MAAK;AACT,YAAM,oBAAoB,MAAA;;AACzB,YAAI,cAAc,WAAW,QAC1B,uBAAuB,QACvB,UAAU,SAAS,UAClBV,MAAA,MAAM,iDAAgB,YACtB;AACJ,YAAI,YAAY,UAAU,SAAS,SAAS,KAAK,QAAQ,OAAO,KAAK,QAAQ;AAC7E,cAAM,QAAQ,UAAU,SAAS,SAAS,KAAK,QAAQ,MAAM,KAAK,QAAQ;AAC1E,YAAI,UAAS;AACb,YAAI,QAAQ,KAAK,QAAQ,SAAS,GAAG,KAAK,SAAS,GAAG;AACtD,YAAI,QAAQ,KAAK,QAAQ,SAAS,IAAI,OAAO,KAAK,SAAS,GAAG;AAC9D,YAAI,OAAM;AAAA,MACX;AAEA,YAAM,kBAAkB,MAAA;;AACvB,YAAI,WAAW,OAAO;AACrB,cAAI,cAAc,uBAAuB;AACzC,cAAI,YAAY,uBAAuB;AAAA,QACvC,WAAU,UAAU,SAAS,QAAQ;AACrC,cAAI,eAAcA,MAAA,MAAM,kBAAgB,QAAAA,QAAA,SAAAA,MAAA;AAAA,QACxC,OAAM;AACN,cAAI,cAAc;AAClB,cAAI,YAAY;AAAA,QAChB;AACD,YAAI,YAAY,UAAU,SAAS,SAAS,KAAK,QAAQ,OAAO,KAAK,QAAQ;AAC7E,YAAI,UAAU;AAEd,YAAI,UAAU,SAAS,YAAY,UAAU,SAAS,aAAa;AAClE,cAAI,UAAS;AAEb,cAAI,OAAO,KAAK,QAAQ,QAAQ,KAAK,SAAS,IAAI;AAClD,cAAI,OAAO,KAAK,QAAQ,QAAQ,KAAK,SAAS,MAAM;AACpD,cAAI,OAAO,KAAK,QAAQ,QAAQ,KAAK,SAAS,MAAM;AAUpD,cAAI,OAAM;AAAA,QACV,WAAU,UAAU,SAAS,QAAQ;AACrC,cAAI,UAAS;AACb,cAAI,OAAO,KAAK,QAAQ,KAAM,KAAK,SAAS,MAAM;AAClD,cAAI,OAAO,KAAK,QAAQ,QAAQ,KAAK,SAAS,MAAM;AACpD,cAAI,OAAO,KAAK,QAAQ,KAAM,KAAK,SAAS,IAAI;AAChD,cAAI,OAAM;AAAA,QACV,WAAU,UAAU,SAAS,OAAO;AACpC,cAAI,UAAS;AACb,cAAI,IAAIS,IAAGC,IAAG,KAAK,QAAQ,MAAM,GAAG,KAAK,KAAK,CAAC;AAC/C,cAAI,KAAI;AAAA,QACR;AAAA,MACF;AAEA,UAAI,gBAAgB,OAAO;AAC1B;MACA,WAAS,UAAU,OAAO;AAC1B;MACA;AACD,UAAI,OAAM;AAAA,IACX;AAUA,UAAM,iBAAiB,IAAI,kBAAkB,CAAC,YAAuC;AACpF;IACD,CAAC;AAED,UAAM,YAAYoD,UAAM,MAAsB;AAAA,aAAA,QAAQ;AAAA,IAAK,GAAE,CAAC,KAAkB,SAAA;AAC/E,UAAG,MAAK;AAAM,eAAM;AACpB,qBAAe,QAAQ,EAAE;AAAA,IAC1B,CAAC;AACDvD,QAAW,YAAC,MAAM;AAElBmD,QAAAA,YAAY,MAAA;AACX;AACA,qBAAe,WAAU;AAAA,IAC1B,CAAC;AAGDc,QAAAA,gBAAgB,MAAA;AACf,UAAG,qBAAqB,MAAM;AAC7B,0BAAkB,SAAS,OAA2C,KAAK;AAAA,MAC3E;AAAA,IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxXF,WAAS,gBAAmB,QAAc;AAEzC,UAAM,SAAe,CAAA;AAErB,aAASnE,KAAI,GAAGA,KAAI,OAAO,CAAC,EAAE,QAAQA,MAAK;AAC1C,YAAM,OAAO,OAAO,CAAC,EAAEA,EAAC;AAExB,UAAI,WAAW;AACf,eAAS0E,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK;AACvC,YAAI,CAAC,OAAOA,EAAC,EAAE,SAAS,IAAI,GAAG;AAC9B,qBAAW;AACX;AAAA,QACA;AAAA,MACD;AAED,UAAI,YAAY,CAAC,OAAO,SAAS,IAAI,GAAG;AACvC,eAAO,KAAK,IAAI;AAAA,MAChB;AAAA,IACD;AAED,WAAO;AAAA,EACR;WAGgB,kBACf,UACA,aAAA,MACA,aAAiC,MAAA;AAGjC,UAAM,kBAAkBhF,IAAAA,SAAS,MAAA;AAChC,YAAM,SAAe,CAAA;AACrB,eAAS,QAAQ,CAAA,OAAI,SAAA;;AACpB,cAAM,SAAQ,KAAA,KAAK,WAAS,QAAA,OAAA,SAAA,KAAA,KAAK;AACjC,YAAG,SAAS;AAAM,iBAAM;AACxB,eAAO,KAAK,KAAK;AAAA,MAClB,CAAC;AACD,UAAI,MAAM,QAAQ,WAAW,KAAK,GAAG;AACpC,eAAO,aAAa,WAAW,OAAO,MAAM,EAAE;AAAA,MAC9C;AACD,aAAO;AAAA,IACR,CAAC;AACD,UAAM,eAAeA,IAAAA,SAAS,MAAA;AAC7B,UAAI,WAAW,MAAM,QAAQ,SAAS,SAAS,GAAG;AACjD,eAAO;AAAA,MACP;AACD,aAAO,gBAAgB,SAAS,SAAS,SAAS;AAAA,IACnD,CAAC;AACD,UAAM,kBAAkBA,IAAAA,SAAS,MAAA;AAChC,aAAO,CAAC,aAAa,SAAS,gBAAgB,QAAQ,SAAS,UAAU,gBAAgB,QAAQ;AAAA,IAClG,CAAC;AACD,WAAOA,IAAQ,SAAC,MAAA;AACf,UAAI,aAAa;AAAO,eAAO;AAC/B,UAAI,gBAAgB;AAAO,eAAO;AAClC,aAAO;AAAA,IACR,CAAC;AAAA,EACF;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBC,YAAM,OAAO;AACb,YAAM,QAAQ;AAQd,YAAM,cAAcH,IAAAA,KAAI,KAAA,MAAM,kBAAY,QAAA,OAAA,SAAA,KAAI,CAAE,CAAA;AAChD,YAAM,aAAaG,IAAAA,SAAS;AAAA,QAC3B,IAAI,OAAY;AACf,sBAAY,QAAQ;AACpB,eAAK,UAAU,KAAK;AACpB,eAAK,gBAAgB,KAAK;AAC1B,eAAK,qBAAqB,KAAK;AAAA,QAC/B;AAAA,QACD,MAAG;;AACF,kBAAOqE,OAAApE,MAAA,MAAM,WAAK,QAAAA,QAAA,SAAAA,MAAI,MAAM,gBAAU,QAAAoE,QAAA,SAAAA,MAAI,YAAY;AAAA,QACtD;AAAA,MACiC,CAAA;AAEnC,YAAM,aAAarE,IAAAA,SAAS,MAAA;AAC3B,cAAM,MAAM,oBAAI;AAChB,YAAI,MAAM,QAAQ,WAAW,KAAK,GAAG;AACpC,qBAAW,MAAM,QAAQ,CAAA,OAAI,SAAA;AAC5B,gBAAI,IAAI,IAAI;AAAA,UACb,CAAC;AAAA,QACD;AACD,eAAO;AAAA,MACR,CAAC;AACD,YAAM,WAAW+B,aAA6C,CAAA,CAAE;AAEhE,YAAM,iBAAiB,kBAAkB,UAAU,YAAY,UAAU;AACzE,YAAM,cAAc/B,IAAAA,SAAS,MAAA;AAC5B,eAAO,MAAM,OAAO,QAAQ,WAAW,MAAM,UAAU,MAAM;AAAA,MAC9D,CAAC;AAED,YAAM,oBAAoB,CAAC,QAAA,MAAyC,cAAkB;AACrF,cAAM,QAAQ,SAAS,QAAQ,KAAK;AACpC,YAAG,WAAW;AACb,cAAG,SAAS;AAAI,mBAAM;AACtB,mBAAS,KAAK,KAAK;AAAA,QACnB,OAAM;AACN,cAAG,SAAS;AAAI,mBAAM;AACtB,mBAAS,OAAO,OAAO,CAAC;AAAA,QACxB;AAAA,MACF;AACA,YAAM,uBAAuB,CAAC,SAA2B;AACxD,cAAM,eAAe,KAAK;AAC1B,YAAG,MAAM,QAAQ,WAAW,KAAK,GAAG;AACnC,cAAG,gBAAgB;AAAM,mBAAO;AAChC,gBAAM,MAAM,CAAC,GAAG,WAAW,KAAK;AAChC,cAAI,KAAK,SAAS;AACjB,gBAAI,KAAK,YAAY;AAAA,UACrB,OAAM;AACN,kBAAMM,KAAI,IAAI,QAAQ,YAAY;AAClC,gBAAI,OAAOA,IAAG,CAAC;AAAA,UACf;AACD,qBAAW,QAAQ;AAAA,QACnB,OAAM;AACN,cAAI,QAAQ,QAAO,sFAAqF,4DAA8D,cAAO,WAAW,MAAO;AAAA,QAC/L;AAAA,MACF;AACA,YAAM,sBAAsB,MAAA;;AAC3B,cAAM,MAAY,CAAA;AAClB,iBAASA,KAAI,GAAG,MAAM,SAAS,QAAQA,KAAI,KAAKA,MAAK;AACpD,gBAAM,OAAO,SAASA,EAAC;AACvB,gBAAM,SAAQL,MAAA,KAAK,WAAS,QAAAA,QAAA,SAAAA,MAAA,KAAK;AACjC,cAAI,KAAK;AAAU;AACnB,cAAI,SAAS;AAAM;AACnB,cAAG,IAAI,SAAS,KAAK;AAAG;AACxB,cAAI,KAAK,KAAK;AACd,cAAI,YAAY;AAAO;AAAA,QACvB;AACD,eAAO;AAAA,MACR;AACA,YAAM,0BAA0B,MAAA;;AAC/B,cAAM,MAAY,CAAA;AAElB,iBAASK,KAAI,GAAG,MAAM,SAAS,QAAQA,KAAI,KAAKA,MAAK;AACpD,gBAAM,OAAO,SAASA,EAAC;AACvB,gBAAM,SAAQL,MAAA,KAAK,WAAS,QAAAA,QAAA,SAAAA,MAAA,KAAK;AAEjC,cAAI,KAAK;AAAU;AACnB,cAAI,SAAS;AAAM;AACnB,cAAG,CAAC,WAAW,MAAM,IAAI,KAAK,GAAG;AAChC,gBAAI,KAAK,KAAK;AAAA,UACd;AACD,cAAI,YAAY;AAAO;AAAA,QACvB;AACD,eAAO;AAAA,MACR;AACA,YAAM,mBAAmB,CAAC,YAAgB;AACzC,cAAM,QAAQ,UAAU,oBAAmB,IAAK,CAAA;AAChD,mBAAW,QAAQ;AAAA,MACpB;AAEA,YAAM,kBAAkB,CAAC,SAA2B;AACnD,YAAG,KAAK,UAAU;AACjB,2BAAiB,KAAK,OAAO;AAAA,QAC7B,OAAM;AACN,+BAAqB,IAAI;AAAA,QACzB;AAAA,MACF;AAEA,YAAM,YAAY,CAAC,YAAiB;AACnC,cAAM,QAAQ,UAAU,oBAAqB,IAAG,wBAAuB;AACvE,mBAAW,QAAQ;AAAA,MACpB;AAGA,eAAa,IAAA,cAAA;AAAA,QACZ;AAAA,MACA,CAAA,CAAA;AAED+D,kBAAQ,qBAAqB,KAAK;AAClCA,kBAAQ,0BAA0B,UAAU;AAC5CA,kBAAQ,2BAA2B,cAAc;AACjDA,kBAAQ,+BAA+B,UAAU;AACjDA,kBAAQ,sCAAsC,iBAAiB;AAC/DA,kBAAQ,oCAAoC,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;AClG3D,YAAM,mBAAmBnE,QAAgD,IAAI;AAE7E,YAAM,cAAcA,QAAY,GAAG;AACnC,YAAM,YAAYA,QAAY,GAAG;AAEjC,YAAM,YAAY,MAAA;AACjB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;AAEA,YAAM,SAAS,CAAC,UAAc;AAC7B,kBAAU,QAAQ;AAAA,MACnB;AAEA,YAAM,WAAW,CAACM,OAAW;AAC5B,YAAI,QAAQ,OAAM,kDAAiD,YAAYA,EAAC;AAAA,MACjF;AACA,YAAM,WAAW,MAAA;AAChB,YAAG,iBAAiB,SAAS;AAAM,iBAAM;AACzC,yBAAiB,MAAO,UAAU,IAAI;AAAA,MACvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpEA,YAAM,WAAW,MAAA;AAChB,YAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACL,CAAA;AAAA,MACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcA,YAAM,mBAAmBN,QAAgD,IAAI;AAC7E,YAAM,UAAUA,IAAAA,IAAc,CAAC,KAAI,KAAI,GAAG,CAAC;AAG3C,YAAM,WAAW,CAACM,OAAW;AAC5B,YAAI,QAAQ,OAAM,oDAAmD,YAAYA,EAAC;AAClF,gBAAQ,QAAQA;AAAA,MACjB;AACA,YAAM,WAAW,MAAA;AAChB,YAAG,iBAAiB,SAAS;AAAM,iBAAM;AACzC,yBAAiB,MAAO,UAAU,IAAI;AAAA,MACvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA,YAAM,QAAQN,QAAY,KAAK;AAC/B,YAAM,iBAAiBA,QAAY,MAAM;AACzC,YAAM,YAAYA,QAAY,QAAQ;AAEtC,YAAM,SAAS,MAAA;AACd,YAAI,aAAY;AAAA,MACjB;AAEA,YAAM,cAAc,CAAC,MAAQ,SAAA;AAC5B,YAAI,UAAU;AAAA,UACb,OAAO;AAAA,QACP,CAAA;AAAA,MACF;AAEA,YAAM,iBAAiB,MAAA;AACtB,YAAI,UAAU;AAAA,UACb,OAAO;AAAA,QACP,CAAA;AAED,YAAI,SAAS,IAAA,cAAA;AAAA,UACZ,QAAQ,KAAG;AACV,gBAAI,QAAQ,OAAM,oDAAmD,SAAS,IAAI,MAAM;AAAA,UACxF;AAAA,UACD,KAAK,KAAG;AACP,gBAAI,QAAQ,SAAQ,oDAAmD,SAAS,GAAG;AAAA,UACnF;AAAA,QACD,CAAA,CAAA;AAAA,MACF;AAEA,YAAM,cAAc,MAAA;AACnB,cAAM,QAAQ,MAAM,SAAS,QAAQ,OAAO;AAAA,MAC7C;AAEA,YAAM,UAAU,MAAA;AACf,YAAI,YAAY,IAAA,cAAA;AAAA,UACf,OAAO;AAAA,UACP,YAAY,CAAC,OAAO;AAAA,UACpB,SAAS,CAAC,QAAG;AACZ,gBAAI,SAAS,IAAA,cAAA;AAAA,cACb,gBAAgB;AAAA,cAChB,UAAU,CAAC,QAAQ;AAAA,cACnB,SAAS,CAAC,YAAO;AAChB,oBAAI,QAAQ,OAAM,oDAAmD,SAAS,QAAQ,MAAM;AAAA,cAC5F;AAAA,cACD,MAAM,CAAC,QAAG;AACT,oBAAI,QAAQ,SAAQ,oDAAmD,SAAS,GAAG;AAAA,cACnF;AAAA,YACA,CAAA,CAAA;AAAA,UACD;AAAA,QACD,CAAA,CAAA;AAAA,MACF;;;;;;;;ACxFc,QAAA,aAAA;ACAA,QAAA,aAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEd,QAAA,YAAeK,IAAA,gBAAA,IAAA,cAAA;AAAA,IACd,UAAU,WAAA;AACT,UAAI,QAAQ,OAAM,iBAAgB,YAAY;AAAA,IAC9C;AAAA,IACD,QAAQ,WAAA;AACP,UAAI,QAAQ,OAAM,iBAAgB,UAAU;AAAA,IAC5C;AAAA,IACD,QAAQ,WAAA;AACP,UAAI,QAAQ,OAAM,kBAAiB,UAAU;AAAA,IAC7C;AAAA,IAmBD,QAAQ,WAAA;AACP,UAAI,QAAQ,OAAM,kBAAiB,UAAU;AAAA,IAC7C;AAAA,GACF,CAAA;;;;;;;;;;;;;","sourceRoot":"/Users/xyhc/Documents/veepai_uniappx"}