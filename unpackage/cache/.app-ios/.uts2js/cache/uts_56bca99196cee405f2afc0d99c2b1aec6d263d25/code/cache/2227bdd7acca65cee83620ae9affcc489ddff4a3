{"code":"import { defineComponent } from \"vue\";\nimport {} from 'vue';\nimport { FuiCheckboxChangeParam } from \"../fui-types/index\";\n/**\n * Checkbox 复选框\n * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\n * @tutorial https://unix.firstui.cn/\n * @property {String} value\t{String} value值，当选中时会携带该值\n * @property {Boolean} checked {Boolean} 是否选中\n * @property {Boolean} disabled {Boolean} 是否禁用\n * @property {String} color\t{String} 选中时背景颜色\n * @property {String} normalColor {String} 未选中时背景颜色\n * @property {String} borderColor {String} 未选中时边框颜色\n * @property {String} borderRadius {String} 圆角值\n * @property {Boolean} isCheckMark {Boolean} 是否只展示对号，无边框背景\n * @property {String} checkMarkColor {String} 对号颜色\n * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\n * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\n * @event {Function} change 选中状态发生改变时触发，(event: FuiCheckboxChangeParam) => void\n */\nexport default defineComponent({\n    name: \"fui-checkbox\",\n    emits: ['change'],\n    props: {\n        value: {\n            type: String,\n            default: ''\n        },\n        checked: {\n            type: Boolean,\n            default: false\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        color: {\n            type: String,\n            default: ''\n        },\n        normalColor: {\n            type: String,\n            default: ''\n        },\n        borderColor: {\n            type: String,\n            default: ''\n        },\n        borderRadius: {\n            type: String,\n            default: '100px'\n        },\n        isCheckMark: {\n            type: Boolean,\n            default: false\n        },\n        checkMarkColor: {\n            type: String,\n            default: ''\n        },\n        scaleRatio: {\n            type: Number,\n            default: 1\n        },\n        scaleAlign: {\n            type: String,\n            default: 'center'\n        }\n    },\n    created() {\n        this.val = this.checked;\n        this.getParent('fui-checkbox-group');\n        if (this.fuiCkGroup != null) {\n            const group = this.fuiCkGroup;\n            group.$data['childrens'].push(this);\n            const modelValue = group.$props['modelValue'];\n            if (modelValue.length > 0) {\n                this.val = modelValue.includes(this.value);\n            }\n        }\n        const parent = this.getParent('fui-label');\n        if (parent) {\n            const label = this.fuiLabel;\n            label.$data['childrens'].push(this);\n        }\n    },\n    computed: {\n        getStyl() {\n            const mp = new Map();\n            mp.set('transform', `scale(${this.scaleRatio})`);\n            mp.set('border-radius', this.borderRadius);\n            let color = this.val ? this.color : (this.borderColor == '' ? this.color : this.borderColor);\n            const bgColor = this.val ? this.color : this.normalColor;\n            if (this.isCheckMark) {\n                mp.set('border-color', 'transparent');\n                mp.set('background', 'transparent');\n            }\n            else {\n                if (color != '')\n                    mp.set('border-color', color);\n                if (bgColor != '')\n                    mp.set('background', bgColor);\n            }\n            return mp;\n        },\n        getMarkStyl() {\n            const mp = new Map();\n            if (this.checkMarkColor != '') {\n                mp.set('borderBottomColor', this.checkMarkColor);\n                mp.set('borderRightColor', this.checkMarkColor);\n            }\n            return mp;\n        }\n    },\n    watch: {\n        checked(newVal = null) {\n            this.val = newVal;\n        },\n        val() {\n            if (this.fuiCkGroup != null) {\n                const group = this.fuiCkGroup;\n                group.$callMethod('changeValue');\n            }\n            setTimeout(() => {\n                this.styleVal = this.val;\n            }, 0);\n        }\n    },\n    data() {\n        return {\n            val: false,\n            styleVal: false,\n            fuiLabel: null,\n            fuiCkGroup: null\n        };\n    },\n    methods: {\n        checkboxClick(e) {\n            e.stopPropagation();\n            this.checkboxChange();\n        },\n        checkboxChange() {\n            if (this.disabled)\n                return null;\n            this.val = !this.val;\n            this.$emit('change', new FuiCheckboxChangeParam({\n                checked: this.val,\n                value: this.value\n            }));\n        },\n        //测试支持，如果不支持则使用 provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\n        getParent(name) {\n            if (this.$parent == null)\n                return false;\n            let parent = this.$parent;\n            let parentName = parent.$options['name'];\n            while (parentName != name) {\n                if (parent.$parent == null)\n                    return false;\n                parent = parent.$parent;\n                if (parent.$options['name'] == '')\n                    return false;\n                parentName = parent.$options['name'];\n            }\n            if (name == 'fui-checkbox-group') {\n                this.fuiCkGroup = parent;\n            }\n            else {\n                this.fuiLabel = parent;\n            }\n            return true;\n        },\n        labelClick() {\n            this.checkboxChange();\n        }\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue?vue&type=script&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"fui-checkbox.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"fui-checkbox.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
