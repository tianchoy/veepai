{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'changePassword',\n    setup(__props, _a) {\n        var __expose = _a.expose;\n        __expose();\n        const oldPassword = ref('');\n        const newPassword = ref('');\n        const confirmPassword = ref('');\n        const btnDisabled = ref(true);\n        const errorMsg = ref(''); // 错误提示信息\n        // 增强密码规则：必须包含两类及以上字符\n        const passwordReg = /^(?:(?=.*[a-zA-Z])(?=.*\\d)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z\\d])|(?=.*\\d)(?=.*[^a-zA-Z\\d])).{8,16}$/;\n        // 验证密码格式\n        function verPassword(psw) {\n            return passwordReg.test(psw);\n        }\n        // 更新按钮状态\n        const updateBtnState = () => {\n            const allFieldsFilled = oldPassword.value.length > 0 &&\n                newPassword.value.length > 0 &&\n                confirmPassword.value.length > 0;\n            const passwordsMatch = newPassword.value === confirmPassword.value;\n            const newPwdValid = verPassword(newPassword.value);\n            btnDisabled.value = !(allFieldsFilled && newPwdValid && passwordsMatch);\n        };\n        // 更新旧密码\n        const updateOldPassword = (e) => {\n            oldPassword.value = e;\n            updateBtnState();\n        };\n        // 更新新密码\n        const updateNewPassword = (e) => {\n            newPassword.value = e;\n            errorMsg.value = '';\n            if (e.length > 0 && !verPassword(e)) {\n                errorMsg.value = '密码格式不符合要求';\n            }\n            else if (confirmPassword.value.length > 0 && e != confirmPassword.value) {\n                errorMsg.value = '两次输入的密码不一致';\n            }\n            updateBtnState();\n        };\n        // 更新确认密码\n        const updateConfirmPassword = (e) => {\n            confirmPassword.value = e;\n            errorMsg.value = '';\n            if (e.length > 0) {\n                if (!verPassword(e)) {\n                    errorMsg.value = '确认密码格式不符合要求';\n                }\n                else if (e != newPassword.value) {\n                    errorMsg.value = '两次输入的密码不一致';\n                }\n            }\n            updateBtnState();\n        };\n        // 提交表单\n        const submit = () => {\n            if (!verPassword(newPassword.value)) {\n                uni.showToast({\n                    title: '密码格式错误',\n                    icon: 'none'\n                });\n                return null;\n            }\n            if (newPassword.value != confirmPassword.value) {\n                uni.showToast({\n                    title: '两次密码不一致',\n                    icon: 'none'\n                });\n                return null;\n            }\n            uni.showToast({\n                title: '提交成功',\n                icon: 'none'\n            });\n        };\n        const __returned__ = { oldPassword, newPassword, confirmPassword, btnDisabled, errorMsg, passwordReg, verPassword, updateBtnState, updateOldPassword, updateNewPassword, updateConfirmPassword, submit };\n        Object.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true });\n        return __returned__;\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/pages/mine/userInfo/changePassword/changePassword.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":["uni.showToast"],"map":"{\"version\":3,\"file\":\"changePassword.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"changePassword.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
