{"code":"import { defineComponent } from \"vue\";\nimport {} from 'vue';\n/**\n * Switch 开关\n * @description Switch 开关选择器，原生组件增强。\n * @tutorial https://unix.firstui.cn/\n * @property {String} name {String}\t开关选择器名称\n * @property {Boolean} checked {Boolean} 是否打开\n * @property {Boolean} disabled\t {Boolean} 是否禁用\n * @property {Boolean} disabledStyle {Boolean} 禁用后是否改变样式\n * @property {String} type {String}\t开关显示样式，有效值：switch, checkbox\n * @property {String} color {String} 开关打开时颜色\n * @property {String} normalColor {String} 开关未选中时背景色颜色\n * @property {String} transitionColor {String} 开关过渡动画颜色\n * @property {String} btnColor {String} 开关打开时按钮背景色\n * @property {String} btnNormalColor {String} 开关关闭时按钮背景色\n * @property {String} borderColor {String} 边框颜色，type=checkbox时生效\n * @property {String} checkMarkColor {String} 对号颜色，type=checkbox时生效\n * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\n * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\n * @event {Function} change 开关切换状态时触发，(event: boolean) => void\n * @event {Function} update:checked 开关切换状态时触发，用于双向绑定，v-model:checked，(event: boolean) => void\n */\nexport default defineComponent({\n    name: \"fui-switch\",\n    emits: ['change', 'update:checked'],\n    props: {\n        name: {\n            type: String,\n            default: ''\n        },\n        checked: {\n            type: Boolean,\n            default: false\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        disabledStyle: {\n            type: Boolean,\n            default: true\n        },\n        type: {\n            type: String,\n            default: 'switch'\n        },\n        color: {\n            type: String,\n            default: ''\n        },\n        normalColor: {\n            type: String,\n            default: ''\n        },\n        transitionColor: {\n            type: String,\n            default: ''\n        },\n        btnColor: {\n            type: String,\n            default: ''\n        },\n        btnNormalColor: {\n            type: String,\n            default: ''\n        },\n        borderColor: {\n            type: String,\n            default: ''\n        },\n        checkMarkColor: {\n            type: String,\n            default: ''\n        },\n        scaleRatio: {\n            type: Number,\n            default: 1\n        },\n        scaleAlign: {\n            type: String,\n            default: 'center'\n        }\n    },\n    data() {\n        return {\n            val: false,\n            styleVal: false,\n            isLabel: false,\n            fuiLabel: null,\n            fuiForm: null\n        };\n    },\n    computed: {\n        getStyle() {\n            const mp = new Map();\n            if (this.val) {\n                if (this.btnColor != '')\n                    mp.set('background', this.btnColor);\n            }\n            else {\n                if (this.btnNormalColor != '')\n                    mp.set('background', this.btnNormalColor);\n            }\n            return mp;\n        },\n        getSwitchStyl() {\n            const mp = new Map();\n            if (this.val) {\n                if (this.color != '') {\n                    mp.set('borderColor', this.color);\n                    mp.set('background', this.color);\n                }\n            }\n            else {\n                if (this.transitionColor != '')\n                    mp.set('background', this.transitionColor);\n                if (this.borderColor != '')\n                    mp.set('borderColor', this.borderColor);\n            }\n            return mp;\n        },\n        getBeforeBgColor() {\n            const mp = new Map();\n            if (this.normalColor != '')\n                mp.set('background', this.normalColor);\n            return mp;\n        },\n        getMarkStyl() {\n            const mp = new Map();\n            if (this.checkMarkColor != '') {\n                mp.set('borderBottomColor', this.checkMarkColor);\n                mp.set('borderRightColor', this.checkMarkColor);\n            }\n            return mp;\n        }\n    },\n    watch: {\n        checked(val) {\n            this.val = val;\n        },\n        val() {\n            setTimeout(() => {\n                this.styleVal = this.val;\n            }, 0);\n        }\n    },\n    created() {\n        this.val = this.checked;\n        const parent = this.getParent('fui-label');\n        if (parent) {\n            this.isLabel = true;\n            const label = this.fuiLabel;\n            label.$data['childrens'].push(this);\n        }\n        //用于submit、reset事件\n        const isForm = this.getParent('fui-form');\n        if (isForm) {\n            const form = this.fuiForm;\n            form.$data['formChildren'].push(this);\n        }\n    },\n    methods: {\n        onChange(e) {\n            e.stopPropagation();\n            if (this.disabled)\n                return null;\n            this.emitChange(!this.val);\n        },\n        emitChange(e) {\n            this.val = e;\n            this.$emit('change', e);\n            this.$emit('update:checked', e);\n        },\n        labelClick() {\n            if (this.disabled)\n                return null;\n            this.emitChange(!this.val);\n        },\n        //provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\n        getParent(name) {\n            if (this.$parent == null)\n                return false;\n            let parent = this.$parent;\n            let parentName = parent.$options['name'];\n            while (parentName != name) {\n                if (parent.$parent == null)\n                    return false;\n                parent = parent.$parent;\n                if (parent.$options['name'] == '')\n                    return false;\n                parentName = parent.$options['name'];\n            }\n            if (name == 'fui-label') {\n                this.fuiLabel = parent;\n            }\n            else if (name == 'fui-form') {\n                this.fuiForm = parent;\n            }\n            return true;\n        },\n        reset() {\n            this.val = false;\n            this.$emit('change', false);\n            this.$emit('update:checked', false);\n        },\n        getSubmitValue() {\n            return this.val;\n        }\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-switch/fui-switch.uvue?vue&type=script&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"fui-switch.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"fui-switch.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
