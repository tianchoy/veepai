{"code":"import { __read } from \"tslib\";\nimport {} from '../../index';\n// import { LDay } from '../../utssdk/interface';\nexport class ArrowIcon {\n    constructor(x, y, size, type, color) {\n        this.x = 0;\n        this.y = 0;\n        this.size = 0;\n        this.type = '';\n        this.color = '';\n        this.x = x;\n        this.y = y;\n        this.size = size;\n        this.type = type;\n        this.color = color;\n    }\n    draw(ctx) {\n        const _a = this, x = _a.x, y = _a.y, size = _a.size, color = _a.color, type = _a.type;\n        // 设置绘图的填充颜色\n        ctx.strokeStyle = color;\n        ctx.beginPath();\n        ctx.lineJoin = 'round';\n        ctx.lineWidth = 2;\n        // 根据箭头类型绘制不同的形状\n        if (type === 'left') {\n            ctx.moveTo(x + size * 0.6042, y + size * 0.25);\n            ctx.lineTo(x + size * 0.3542, y + size * 0.5);\n            ctx.lineTo(x + size * 0.6042, y + size * 0.75);\n        }\n        else if (type === 'right') {\n            ctx.moveTo(x + size * (1 - 0.6042), y + size * 0.25);\n            ctx.lineTo(x + size * (1 - 0.3542), y + size * 0.5);\n            ctx.lineTo(x + size * (1 - 0.6042), y + size * 0.75);\n        }\n        ctx.stroke();\n    }\n    isCoordinateInside(x, y) {\n        return x >= this.x && x <= this.x + this.size && y >= this.y && y <= this.y + this.size;\n    }\n}\nexport class Day {\n    constructor(day, month, year, isCurrentMonth, isToday, isBeforeToday, calendar) {\n        this.day = 0;\n        this.month = 0;\n        this.year = 0;\n        this.fullDay = '00';\n        this.fullMonth = '00';\n        this.fullDate = '';\n        this.isBeforeToday = false;\n        this.isToday = false;\n        // isCheckedIn: boolean = false;\n        this.isCurrentMonth = false;\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n        this.originalMonth = 0;\n        this.type = 'current';\n        this.fontSize = 20;\n        this.timestamp = 0;\n        this.day = day;\n        this.month = month;\n        this.year = year;\n        this.originalMonth = month - 1;\n        this.fullMonth = this.formatMonth(month);\n        this.fullDay = this.formatDay(day);\n        this.fullDate = `${year}-${this.fullMonth}-${this.fullDay}`;\n        this.isCurrentMonth = isCurrentMonth;\n        this.isBeforeToday = isBeforeToday;\n        this.isToday = isToday;\n        this.calendar = calendar;\n        this.timestamp = new Date(year, month - 1, day).getTime();\n    }\n    formatDay(day) {\n        return `${day}`.padStart(2, '0');\n    }\n    formatMonth(month) {\n        return `${month}`.padStart(2, '0');\n    }\n    isCoordinateInside(x, y) {\n        return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n    }\n    setPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    setDimensions(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    get opt() {\n        return this.calendar.opt;\n    }\n    get selectDate() {\n        return this.calendar.selectDate;\n    }\n    set selectDate(_val = null) {\n    }\n    get canSupplement() {\n        // 在今日之前 并且 未签到 并且 支持补签\n        return this.opt.canSupplement && this.isBeforeToday && !this.isCheckedIn;\n    }\n    set canSupplement(_v) {\n    }\n    get isCheckedIn() {\n        return this.calendar.signedDates.includes(this.timestamp);\n        // return true\n        // if (this.calendar.opt.signedDates == null) return false\n        // return this.calendar.opt.signedDates.some((dateString : string) : boolean => {\n        // \tconst [year, month, day] = dateString.split('-').map((v : string) : number => parseInt(v));\n        // \treturn year == this.year && month == this.month && day == this.day\n        // })\n    }\n    set isCheckedIn(_v) {\n    }\n    drawCircle(ctx, x, y, radius, color, border = false) {\n        ctx.beginPath();\n        if (border) {\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = 'white';\n        }\n        ctx.fillStyle = color;\n        ctx.arc(x, y, radius, 0, Math.PI * 2);\n        ctx.fill();\n        if (border) {\n            ctx.stroke();\n        }\n    }\n    draw(ctx) {\n        const size = Math.min(this.width, this.height) * 0.9;\n        const centerX = this.x + this.width / 2;\n        const centerY = this.y + this.height / 2;\n        const color = this.opt.color;\n        const unsignedColor = this.opt.unsignedColor;\n        const selectedDayBgColor = this.opt.selectedDayBgColor;\n        const textColor = this.opt.textColor;\n        const disabledColor = this.opt.disabledColor;\n        const dayFontSize = this.opt.dayFontSize;\n        ctx.textAlign = 'center';\n        ctx.font = this.isToday ? `${dayFontSize - 2}px Arial` : `${dayFontSize}px Arial`;\n        ctx.textBaseline = 'middle';\n        // 判断是否是当前选中日期\n        const isSelectedDate = this.selectDate == null || this.selectDate == this;\n        // 设置字体颜色\n        let txtColor = this.type == 'current' ? textColor : disabledColor;\n        if (this.isToday && !isSelectedDate) {\n            txtColor = color;\n        }\n        // 绘制选中效果\n        if (this.selectDate != null && this.selectDate == this) {\n            ctx.beginPath();\n            ctx.fillStyle = selectedDayBgColor;\n            ctx.arc(centerX, centerY, size / 2, 0, Math.PI * 2);\n            ctx.fill();\n        }\n        // 绘制今日效果\n        if (this.isToday && isSelectedDate) {\n            this.drawCircle(ctx, centerX, centerY, size / 2, color);\n            txtColor = 'white';\n        }\n        // 绘制已签到或可补签效果 小点\n        if (this.type == 'current' && (this.isCheckedIn || this.canSupplement)) {\n            this.drawCircle(ctx, centerX, centerY + this.fontSize * 0.9, 4, this.isCheckedIn ? (this.isToday && isSelectedDate ? 'white' : color) : unsignedColor);\n        }\n        // 绘制文字\n        ctx.fillStyle = txtColor;\n        ctx.fillText(this.isToday ? '今天' : this.fullDay, centerX, centerY);\n    }\n}\nexport class Calendar {\n    constructor() {\n        var _a;\n        this.year = 0;\n        this.month = 0;\n        this.el = null;\n        this.ctx = null;\n        this.init = false;\n        this.today = 0;\n        this.currentMonth = 0;\n        this.currentYear = 0;\n        this.week = [];\n        this.selectDate = null;\n        this.containerHeight = 0;\n        this.containerWidth = 0;\n        this.arrowIcons = [];\n        this.opt = {\n            canSupplement: false,\n            isFullCalendar: true,\n            yearMonth: '',\n            signedDates: [],\n            week: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n            weekStartsOn: 0,\n            weekColor: '#BDC0C3',\n            weekFontSize: 12,\n            weekHeight: 40,\n            selectedDayBgColor: 'rgba(0,0,0,0.06)',\n            dayFontSize: 12,\n            textColor: '#1A1F24',\n            disabledColor: '#BDC0C3',\n            monthTitleHeight: 50,\n            monthTitleFontSize: 20,\n            color: '#3B87F6',\n            unsignedColor: '#F1A33A',\n        };\n        const date = new Date();\n        this.currentYear = date.getFullYear();\n        this.currentMonth = date.getMonth() + 1;\n        this.today = date.getDate();\n        this.monthDateCache = new Map();\n        this.week = (_a = this.opt.week) !== null && _a !== void 0 ? _a : [];\n    }\n    get signedDates() {\n        if (this.opt.signedDates == null)\n            return [];\n        const values = [];\n        this.opt.signedDates.forEach(item => {\n            const _a = __read(item.split('-').map((v) => { return parseInt(v); }), 3), year = _a[0], month = _a[1], day = _a[2];\n            const time = new Date(year, month - 1, day).getTime();\n            if (!values.includes(time)) {\n                values.push(time);\n            }\n        });\n        return values;\n    }\n    get checkinDays() {\n        if (this.signedDates.length == 0)\n            return 0;\n        const sortedDates = this.signedDates.sort((a, b) => {\n            return b - a;\n        });\n        return this.calculateContinuousCheckinDays(sortedDates);\n    }\n    calculateContinuousCheckinDays(sortedDates) {\n        const dayInMillis = 24 * 60 * 60 * 1000;\n        const todayTime = new Date(this.currentYear, this.currentMonth - 1, this.today).getTime();\n        let count = 0;\n        let streak = 0;\n        for (let i = 0; i < sortedDates.length; i++) {\n            if (i == 0) {\n                // 大于1天，即隔了一天就已经中断签到 不再计算\n                if (todayTime - sortedDates[i] > dayInMillis) {\n                    break;\n                }\n                if (sortedDates[i] == todayTime || todayTime - sortedDates[i] == dayInMillis) {\n                    streak = 1;\n                }\n            }\n            else {\n                if (sortedDates[i - 1] - sortedDates[i] == dayInMillis) {\n                    streak++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        return streak;\n    }\n    setCanvas(el = null) {\n        var _a, _b;\n        if (el == null)\n            return null;\n        this.el = el;\n        this.containerHeight = 5 * ((_a = this.opt.dayHeight) !== null && _a !== void 0 ? _a : 0) + this.opt.weekHeight + this.opt.monthTitleHeight; //6\n        this.containerWidth = this.el.offsetWidth;\n        this.el.style.setProperty('height', this.containerHeight + 'px');\n        this.ctx = el.getContext('2d');\n        const dpr = (_b = uni.getDeviceInfo().devicePixelRatio) !== null && _b !== void 0 ? _b : 1;\n        this.el.width = this.containerWidth * dpr;\n        this.el.height = this.containerHeight * dpr;\n        this.ctx.scale(dpr, dpr);\n        // this.ctx = el.getDrawableContext()\n        // this.ctx.fillStyle = 'red'\n        // this.ctx.fillRect(0,0,100,100)\n    }\n    setOptions(opt) {\n        let datechange = false;\n        let weekStartsOn = -1;\n        for (let key in opt) {\n            const value = opt[key];\n            if (key == 'yearMonth' && value != null && value != this.opt.yearMonth) {\n                datechange = true;\n            }\n            if (key == 'weekStartsOn' && value != null && value != this.opt.weekStartsOn) {\n                weekStartsOn = value;\n            }\n            if (value != null) {\n                this.opt[key] = value;\n            }\n        }\n        if (weekStartsOn != -1) {\n            const normalWeek = [...this.opt.week];\n            const sIndex = weekStartsOn < 0 ? 0 : weekStartsOn >= normalWeek.length ? normalWeek.length - 1 : weekStartsOn;\n            normalWeek.unshift(...normalWeek.slice(-sIndex));\n            normalWeek.length = 6;\n            this.week = normalWeek;\n        }\n        if (this.opt.yearMonth != '' && !this.init || datechange) {\n            const arr = this.opt.yearMonth.split('-');\n            this.year = parseInt(arr[0]);\n            this.month = parseInt(arr[1]);\n            this.init = true;\n        }\n    }\n    /** 获取当月共多少天，也就是获取月的最后一天 */\n    getMonthDayLength(year, month) {\n        return new Date(year, month, 0).getDate();\n    }\n    // 获取当月第一天星期几\n    getFirstDayOfWeek(year, month, day = 1) {\n        return new Date(year, month - 1, day).getDay();\n    }\n    // 获取加/减一个月的日期\n    getOperateMonthDate(nowYear, nowMonth, num) {\n        let month = nowMonth + num;\n        let year = nowYear;\n        if (month > 12) {\n            month = 1;\n            year++;\n        }\n        else if (month < 1) {\n            month = 12;\n            year--;\n        }\n        return {\n            month,\n            year,\n        };\n    }\n    generateMonthDateCache(year = this.year, month = this.month) {\n        // 检查是否可以切换到下个月\n        // const canSwitchToNextMonth = this.currentYear > year || (this.currentYear == year && this.currentMonth > month + 1);\n        const key = `${year}-${month}`;\n        if (this.monthDateCache.has(key)) {\n            return UTS.mapGet(this.monthDateCache, key);\n        }\n        const arr = [];\n        const days = this.getMonthDayLength(year, month);\n        const firstday = this.getFirstDayOfWeek(year, month);\n        const beforeEmptyLength = (firstday + this.opt.weekStartsOn) % 7; //this.getFirstDayOfWeek(year, month);\n        // Math.ceil((days + beforeEmptyLength) / 7)\n        const afterEmptyLength = 6 * 7 - beforeEmptyLength - days; //6 - this.getFirstDayOfWeek(year, month, days);\n        const last = this.getOperateMonthDate(year, month, -1);\n        const lastMonthEndDay = this.getMonthDayLength(last.year, last.month);\n        const next = this.getOperateMonthDate(year, month, 1);\n        const today = new Date(this.currentYear, this.currentMonth - 1, this.today).getTime();\n        let index = 0;\n        const getGridSize = (i) => {\n            var _a, _b;\n            // 确保this.el存在并且可以获取到边界矩形\n            const rect = (_a = this.el) === null || _a === void 0 ? null : _a.getBoundingClientRect();\n            const height = (_b = this.opt.dayHeight) !== null && _b !== void 0 ? _b : 0;\n            const width = rect == null ? 0 : rect.width / 7;\n            // 计算行和列\n            const row = Math.floor(i / 7);\n            const col = i % 7;\n            // 计算网格单元的位置\n            const x = col * width;\n            const y = row * height + this.opt.monthTitleHeight + this.opt.weekHeight;\n            return {\n                x,\n                y,\n                width,\n                height // 使用正确的变量名height\n            };\n        };\n        for (var i = 0; i < beforeEmptyLength; i++) {\n            const _a = getGridSize(index), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n            const date = lastMonthEndDay - beforeEmptyLength + i + 1;\n            const time = new Date(last.year, last.month - 1, date).getTime();\n            const day = new Day(date, last.month, last.year, last.year == this.currentYear && last.month == this.currentMonth, time == today, time < today, this);\n            day.type = 'last';\n            day.setPosition(x, y);\n            day.setDimensions(width, height);\n            arr.push(day);\n            index++;\n        }\n        for (var i = 0; i < days; i++) {\n            const _b = getGridSize(index), x = _b.x, y = _b.y, width = _b.width, height = _b.height;\n            const date = i + 1;\n            const time = new Date(year, month - 1, date).getTime();\n            const day = new Day(date, month, year, year == this.currentYear && month == this.currentMonth, time == today, time < today, this);\n            day.setPosition(x, y);\n            day.setDimensions(width, height);\n            arr.push(day);\n            index++;\n        }\n        for (var i = 0; i < afterEmptyLength; i++) {\n            const _c = getGridSize(index), x = _c.x, y = _c.y, width = _c.width, height = _c.height;\n            const date = i + 1;\n            const time = new Date(next.year, next.month - 1, date).getTime();\n            const day = new Day(date, next.month, next.year, next.year == this.currentYear && next.month == this.currentMonth, time == today, time < today, this);\n            day.type = 'next';\n            day.setPosition(x, y);\n            day.setDimensions(width, height);\n            arr.push(day);\n            index++;\n        }\n        const monthData = {\n            year,\n            month,\n            days: arr,\n        };\n        this.monthDateCache.set(key, monthData);\n        return monthData;\n    }\n    next() {\n        const _a = this.getOperateMonthDate(this.year, this.month, 1), year = _a.year, month = _a.month;\n        // 检查是否可以切换到下个月\n        const canSwitchToNextMonth = this.currentYear > year || (this.currentYear == year && month - this.currentMonth <= 1);\n        if (canSwitchToNextMonth) {\n            this.year = year;\n            this.month = month;\n            this.render(year, month);\n        }\n        else {\n            uni.showToast({\n                icon: 'error',\n                title: '往后最多查看一个月'\n            });\n        }\n    }\n    last() {\n        const _a = this.getOperateMonthDate(this.year, this.month, -1), year = _a.year, month = _a.month;\n        this.year = year;\n        this.month = month;\n        this.render(year, month);\n    }\n    /**\n    * 前往某一天\n    * @param {string} date 格式 YYYY-MM-DD\n    */\n    goToDate(date = null) {\n        if (date == null) {\n            this.render(this.currentYear, this.currentMonth, this.today);\n        }\n        else {\n            try {\n                const _a = __read(date.split('-').map((item) => { return parseInt(item); }), 3), year = _a[0], month = _a[1], day = _a[2];\n                this.render(year, month, day);\n            }\n            catch (e) {\n                throw new Error('参数有误');\n            }\n        }\n    }\n    drawIcon(ctx, size, x, y, arrow, color) {\n        // 设置绘图的填充颜色\n        ctx.strokeStyle = color;\n        ctx.beginPath();\n        ctx.lineJoin = 'round';\n        ctx.lineWidth = 2;\n        // 根据箭头类型绘制不同的形状\n        if (arrow === 'left') {\n            ctx.moveTo(x + size * 0.6042, y + size * 0.25);\n            ctx.lineTo(x + size * 0.3542, y + size * 0.5);\n            ctx.lineTo(x + size * 0.6042, y + size * 0.75);\n        }\n        else if (arrow === 'right') {\n            ctx.moveTo(x + size * (1 - 0.6042), y + size * 0.25);\n            ctx.lineTo(x + size * (1 - 0.3542), y + size * 0.5);\n            ctx.lineTo(x + size * (1 - 0.6042), y + size * 0.75);\n        }\n        ctx.stroke();\n    }\n    drawHead(monthData) {\n        const width = this.containerWidth;\n        if (this.ctx == null)\n            return null;\n        const ctx = this.ctx;\n        const height = this.opt.monthTitleHeight;\n        // ctx.fillStyle = 'rgba(0,0,0,0.1)'\n        // ctx.rect(0,0,width, this.opt.monthTitleHeight!)\n        // ctx.fill()\n        ctx.textAlign = 'center';\n        ctx.fillStyle = this.opt.textColor;\n        ctx.font = ` ${this.opt.monthTitleFontSize}px sans-serif`;\n        ctx.textBaseline = 'middle';\n        ctx.fillText(`${monthData.year}年` + `${monthData.month}`.padStart(2, '0') + '月', width * 0.5, height * 0.55);\n        if (this.arrowIcons.length == 0) {\n            const offsetTop = (height - 30) / 2;\n            this.arrowIcons.push(new ArrowIcon(0, offsetTop, 30, 'left', `#A0A5AA`));\n            this.arrowIcons.push(new ArrowIcon(width - 30, offsetTop, 30, 'right', `#A0A5AA`));\n        }\n        this.arrowIcons.forEach(icon => {\n            icon.draw(ctx);\n        });\n    }\n    drawWeek() {\n        if (this.ctx == null)\n            return null;\n        const ctx = this.ctx;\n        ctx.textAlign = 'center';\n        ctx.font = `${this.opt.weekFontSize}px Arial`;\n        ctx.textBaseline = 'middle';\n        ctx.fillStyle = this.opt.weekColor;\n        this.week.forEach((week, index) => {\n            ctx.fillText(`${week}`, this.containerWidth / 7 * (index + 0.5), this.opt.monthTitleHeight + this.opt.weekHeight * 0.5);\n        });\n    }\n    render(year = this.year, month = this.month, day = null) {\n        const monthData = this.generateMonthDateCache(year, month);\n        if (day != null) {\n            this.selectDate = UTS.arrayFind(monthData.days, (item) => { return item.day == day; });\n        }\n        if (this.el != null && this.ctx != null) {\n            this.ctx.clearRect(0, 0, this.containerWidth, this.containerHeight);\n            this.drawHead(monthData);\n            this.drawWeek();\n            monthData.days.forEach(day => {\n                day.draw(this.ctx);\n            });\n        }\n        return null;\n    }\n    touch(e) {\n        var _a, _b, _c, _d;\n        if (this.el == null)\n            return null;\n        const rect = this.el.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        // 判断 是点了左右\n        const icon = UTS.arrayFind(this.arrowIcons, (icon) => { return icon.isCoordinateInside(x, y); });\n        if (icon != null) {\n            if (icon.type == 'left') {\n                this.last();\n            }\n            else {\n                this.next();\n            }\n            (_b = (_a = this.opt).panelChange) === null || _b === void 0 ? null : _b.call(_a, {\n                year: this.year,\n                month: this.month\n            });\n            return null;\n        }\n        // 判断是点了日历\n        const month = UTS.mapGet(this.monthDateCache, `${this.year}-${this.month}`);\n        if (month == null)\n            return null;\n        const day = UTS.arrayFind(month.days, (day) => { return day.isCoordinateInside(x, y); });\n        // 只有点击当前月的\n        if (day != null && day.type == 'current') {\n            // if(this.selectDate != day) {\n            this.selectDate = day;\n            this.render();\n            // }\n            (_d = (_c = this.opt).select) === null || _d === void 0 ? null : _d.call(_c, day);\n        }\n    }\n}\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-daily-punch/components/l-daily-punch/calender.uts.js.map","references":["/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-daily-punch/index.ts"],"uniExtApis":["uni.getDeviceInfo","uni.showToast"],"map":"{\"version\":3,\"file\":\"calender.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"calender.uts\"],\"names\":[],\"mappings\":\"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\"}"}
