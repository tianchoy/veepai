{"code":"import { defineComponent } from \"vue\";\nimport {} from 'vue';\n/**\n * Checkbox 复选框\n * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\n * @tutorial https://unix.firstui.cn/\n * @property {String} name {String}\t多项选择器名称\n * @property {Array} modelValue { string[] } 选中的value值集合，用于双向绑定\n * @event {Function} change 选中项发生变化时触发，(event: string[]) => void\n * @event {Function} update:modelValue 用于组件双向绑定，(event: string[]) => void\n */\nexport default defineComponent({\n    name: \"fui-checkbox-group\",\n    emits: ['change', 'update:modelValue'],\n    props: {\n        name: {\n            type: String,\n            default: ''\n        },\n        modelValue: {\n            type: Array,\n            default: () => { return []; }\n        }\n    },\n    data() {\n        return {\n            vals: [],\n            childrens: [],\n            fuiForm: null\n        };\n    },\n    watch: {\n        modelValue(vals) {\n            this.modelChange(vals);\n        },\n    },\n    created() {\n        //用于submit、reset事件\n        const isForm = this.getParent('fui-form');\n        if (isForm) {\n            const form = this.fuiForm;\n            form.$data['formChildren'].push(this);\n        }\n    },\n    methods: {\n        checkboxChange(e) {\n            this.$emit('change', e);\n            this.$emit(\"update:modelValue\", e);\n        },\n        changeValue() {\n            const vals = [];\n            this.childrens.forEach((item) => {\n                const isChk = item.$data['val'];\n                if (isChk) {\n                    vals.push(item.$props['value']);\n                }\n            });\n            this.vals = vals;\n            this.checkboxChange(vals);\n        },\n        modelChange(vals) {\n            this.vals = vals;\n            this.childrens.forEach((item) => {\n                const value = item.$props['value'];\n                if (vals.includes(value)) {\n                    item.$data['val'] = true;\n                }\n                else {\n                    item.$data['val'] = false;\n                }\n            });\n        },\n        getParent(name) {\n            if (this.$parent == null)\n                return false;\n            let parent = this.$parent;\n            let parentName = parent.$options['name'];\n            while (parentName != name) {\n                if (parent.$parent == null)\n                    return false;\n                parent = parent.$parent;\n                if (parent.$options['name'] == '')\n                    return false;\n                parentName = parent.$options['name'];\n            }\n            this.fuiForm = parent;\n            return true;\n        },\n        //暂时做重置处理（还原需记录初始值）\n        reset() {\n            this.childrens.forEach((item) => {\n                item.$data['val'] = false;\n            });\n            this.vals = [];\n            this.checkboxChange(this.vals);\n        },\n        getSubmitValue() {\n            return this.vals;\n        }\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue?vue&type=script&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"fui-checkbox-group.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"fui-checkbox-group.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,OAAO,EAA0C,MAAM,KAAK,CAAA;AAC5D;;;;;;;;GAQG;AACH,+BAAe;IACd,IAAI,EAAE,oBAAoB;IAC1B,KAAK,EAAE,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IACtC,KAAK,EAAE;QACN,IAAI,EAAE;YACL,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;SACX;QACD,UAAU,EAAE;YACX,IAAI,EAAE,KAA2B;YACjC,OAAO,EAAE,QAAiB,OAAA,EAAc,EAAd,CAAc;SACxC;KACD;IACD,IAAI;QACH,OAAO;YACN,IAAI,EAAE,EAAc;YACpB,SAAS,EAAE,EAA+B;YAC1C,OAAO,EAAE,IAAsC;SAC/C,CAAC;IACH,CAAC;IACD,KAAK,EAAE;QACN,UAAU,CAAC,IAAe;YACzB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QACvB,CAAC;KACD;IACD,OAAO;QACN,kBAAkB;QAClB,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,MAAM,EAAE;YACX,MAAM,IAAI,GAAG,IAAI,CAAC,OAAkC,CAAA;YACnD,IAAI,CAAC,KAAK,CAAC,cAAc,CAA+B,CAAC,IAAI,CAAC,IAA+B,CAAC,CAAC;SAChG;IACF,CAAC;IACD,OAAO,EAAE;QACR,cAAc,CAAC,CAAY;YAC1B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;YACvB,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC;QACD,WAAW;YACV,MAAM,IAAI,GAAG,EAAc,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAA8B;gBACrD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAY,CAAC;gBAC3C,IAAI,KAAK,EAAE;oBACV,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAW,CAAC,CAAC;iBAC1C;YACF,CAAC,CAAC,CAAA;YACF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;QAC1B,CAAC;QACD,WAAW,CAAC,IAAe;YAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAA8B;gBACrD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAW,CAAC;gBAC7C,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;oBACzB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;iBACzB;qBAAM;oBACN,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAA;iBACzB;YACF,CAAC,CAAC,CAAA;QACH,CAAC;QACD,SAAS,CAAC,IAAa;YACtB,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI;gBAAE,OAAO,KAAK,CAAC;YACvC,IAAI,MAAM,GAAG,IAAI,CAAC,OAAkC,CAAC;YACrD,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACzC,OAAO,UAAU,IAAI,IAAI,EAAE;gBAC1B,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;oBAAE,OAAO,KAAK,CAAC;gBACzC,MAAM,GAAG,MAAM,CAAC,OAAkC,CAAC;gBACnD,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE;oBAAE,OAAO,KAAK,CAAC;gBAChD,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;aACrC;YACD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,OAAO,IAAI,CAAC;QACb,CAAC;QACD,mBAAmB;QACnB,KAAK;YACJ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAA8B;gBACrD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;YAC3B,CAAC,CAAC,CAAA;YACF,IAAI,CAAC,IAAI,GAAG,EAAc,CAAC;YAC3B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAC/B,CAAC;QACD,cAAc;YACb,OAAO,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;KACD;CACD,EAAA\"}"}
