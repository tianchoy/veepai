{"code":"import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue';\nimport { useTransition } from '@/uni_modules/lime-transition';\nimport { convertRadius } from './utils';\nimport {} from './type';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'l-popup',\n    props: /*#__PURE__*/ _mergeModels(new UTSJSONObject({\n        closeable: { type: Boolean, required: true, default: false },\n        closeOnClickOverlay: { type: Boolean, required: true, default: true },\n        destroyOnClose: { type: Boolean, required: true, default: false },\n        overlayStyle: { type: null, required: false },\n        position: { type: String, required: true, default: 'center' },\n        preventScrollThrough: { type: Boolean, required: true, default: true },\n        overlay: { type: Boolean, required: true, default: true },\n        transitionName: { type: String, required: false },\n        visible: { type: Boolean, required: false },\n        zIndex: { type: Number, required: true, default: 999 },\n        duration: { type: Number, required: true, default: 300 },\n        bgColor: { type: String, required: false },\n        closeIcon: { type: String, required: true, default: 'close' },\n        iconColor: { type: String, required: false },\n        lStyle: { type: null, required: false },\n        safeAreaInsetBottom: { type: Boolean, required: true, default: true },\n        safeAreaInsetTop: { type: Boolean, required: true, default: false },\n        radius: { type: [String, Number, Array], required: false }\n    }), new UTSJSONObject({\n        \"modelValue\": { type: Boolean },\n        \"modelModifiers\": {},\n    })),\n    emits: /*#__PURE__*/ _mergeModels(['change', 'click-overlay', 'click-close', 'open', 'opened', 'close', 'closed', 'before-enter', 'enter', 'after-enter', 'before-leave', 'leave', 'after-leave'], [\"update:modelValue\"]),\n    setup(__props, _a) {\n        var _b;\n        var __expose = _a.expose, __emit = _a.emit;\n        __expose();\n        /**\n         * Popup 弹出层组件\n         * @description 提供多种位置的弹窗展示能力，支持自定义内容和动画效果\n         * <br>插件类型：LPopupComponentPublicInstance\n         * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-popup\n         *\n         * @property {boolean} closeable 显示关闭按钮（默认：false）\n         * @property {boolean} closeOnClickOverlay 点击遮罩关闭（默认：true）\n         * @property {boolean} destroyOnClose 关闭时销毁内容（默认：false）\n         * @property {string} overlayStyle 遮罩层样式（支持CSS字符串）\n         * @property {'top' | 'left' | 'right' | 'bottom' | 'center' | ''} position 弹出位置\n         * @value top    从顶部滑入\n         * @value bottom 从底部滑入\n         * @value left   从左侧滑入\n         * @value right  从右侧滑入\n         * @value center 居中显示（默认）\n         * @property {boolean} preventScrollThrough 阻止滚动穿透（默认：true）\n         * @property {boolean} overlay 显示遮罩层（默认：true）\n         * @property {string} transitionName 自定义动画名称（配合transition使用）\n         * @property {string|number|Array} radius 圆角 可以是字符，数值，数组\n         * @property {boolean} visible 控制显示/隐藏（支持v-model）\n         * @property {number} zIndex 组件层级（默认：999）\n         * @property {number} duration 动画时长（单位ms，默认：300）\n         * @property {string} bgColor 内容区域背景色（默认：#ffffff）\n         * @property {string} closeIcon 关闭图标名称/路径（默认：'close'）\n         * @property {string} iconColor 关闭图标颜色（默认：#333）\n         * @property {string} lStyle 自定义内容区样式（支持CSS字符串）\n         * @property {boolean} safeAreaInsetBottom 适配底部安全区域（默认：true）\n         * @property {boolean} safeAreaInsetTop 适配顶部安全区域（默认：true）\n         * @event {Function} close 关闭时触发（返回触发来源：'close-btn' | 'overlay'）\n         * @event {Function} change 切换时触发\n         * @event {Function} click-overlay 点击遮罩触发\n         * @event {Function} click-close 点击关闭触发\n         * @event {Function} open 打开触发\n         * @event {Function} opened 打开完成触发\n         * @event {Function} closed 关闭完成触发\n         * @event {Function} before-enter\n         * @event {Function} enter\n         * @event {Function} after-enter\n         * @event {Function} before-leave\n         * @event {Function} leave\n         * @event {Function} after-leave\n         */\n        const emit = __emit;\n        const props = __props;\n        const modelValue = _useModel(__props, \"modelValue\");\n        const innerValue = computed({\n            set(value) {\n                modelValue.value = value;\n                emit('change', value);\n            },\n            get() {\n                return props.visible || modelValue.value;\n            }\n        });\n        const status = ref('before-enter');\n        const _c = useTransition({\n            defaultName: (_b = props.transitionName) !== null && _b !== void 0 ? _b : 'popup-fade',\n            appear: innerValue.value,\n            emits: (name) => {\n                status.value = name;\n                if (name == 'before-enter') {\n                    emit('open');\n                }\n                else if (name == 'after-enter') {\n                    emit('opened');\n                }\n                else if (name == 'before-leave') {\n                    emit('close');\n                }\n                else if (name == 'after-leave') {\n                    emit('closed');\n                }\n                emit(name);\n            },\n            visible: () => { return innerValue.value; },\n            duration: props.duration,\n        }), inited = _c.inited, display = _c.display, classes = _c.classes, finished = _c.finished;\n        const overlayZIndex = computed(() => { return props.zIndex > 0 ? props.zIndex - 1 : 998; });\n        const rootClass = computed(() => {\n            const safe = props.safeAreaInsetTop && props.position == 'top'\n                ? 'l-popup--safe-top'\n                : props.safeAreaInsetBottom && props.position == 'bottom'\n                    ? 'l-popup--safe-bottom'\n                    : '';\n            return `l-popup--${props.position} ${safe} ${classes.value}`;\n        });\n        const safeAreaInsets = uni.getWindowInfo().safeAreaInsets;\n        const styles = computed(() => {\n            const style = new Map();\n            style.set('transition-duration', (['after-leave', 'before-enter'].includes(status.value) ? 0 : props.duration) + 'ms');\n            if (props.bgColor != null) {\n                style.set(\"background\", props.bgColor);\n            }\n            if (props.zIndex > 0) {\n                style.set(\"z-index\", props.zIndex);\n            }\n            if (props.safeAreaInsetBottom && props.position == 'bottom') {\n                style.set('padding-bottom', safeAreaInsets.bottom + 'px');\n            }\n            if (props.safeAreaInsetTop && props.position == 'top') {\n                style.set('padding-top', safeAreaInsets.top + 'px');\n            }\n            if (props.radius != null) {\n                const values = convertRadius(props.radius);\n                style.set('border-top-left-radius', values[0]);\n                style.set('border-top-right-radius', values[1]);\n                style.set('border-bottom-right-radius', values[2]);\n                style.set('border-bottom-left-radius', values[3]);\n            }\n            return style;\n        });\n        const handleOverlayClick = () => {\n            if (props.closeOnClickOverlay) {\n                innerValue.value = false;\n                emit('click-overlay');\n            }\n        };\n        const handleClose = () => {\n            innerValue.value = false;\n            emit('click-close');\n        };\n        const popupRef = ref(null);\n        watchEffect(() => {\n            var _a, _b;\n            if (!display.value) {\n                (_a = popupRef.value) === null || _a === void 0 ? null : _a.style.setProperty('display', 'none');\n            }\n            else {\n                (_b = popupRef.value) === null || _b === void 0 ? null : _b.style.setProperty('display', 'flex');\n            }\n        });\n        const __returned__ = { emit, props, modelValue, innerValue, status, inited, display, classes, finished, overlayZIndex, rootClass, safeAreaInsets, styles, handleOverlayClick, handleClose, popupRef };\n        Object.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true });\n        return __returned__;\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-popup/components/l-popup/l-popup.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-transition/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-popup/components/l-popup/utils.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-popup/components/l-popup/type.ts"],"uniExtApis":["uni.getWindowInfo"],"map":"{\"version\":3,\"file\":\"l-popup.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"l-popup.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
