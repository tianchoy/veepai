{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { unitConvert } from '@/uni_modules/lime-shared/unitConvert';\nimport { chooseFiles } from './utils';\nimport {} from './type';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'l-upload',\n    props: {\n        name: new UTSJSONObject({ type: String, required: false }),\n        modelValue: new UTSJSONObject({ type: Array, required: false }),\n        disabled: new UTSJSONObject({ type: Boolean, required: true, default: false }),\n        readonly: new UTSJSONObject({ type: Boolean, required: true, default: false }),\n        multiple: new UTSJSONObject({ type: Boolean, required: true, default: true }),\n        imageFit: new UTSJSONObject({ type: String, required: true, default: 'aspectFill' }),\n        gutter: new UTSJSONObject({ type: String, required: false }),\n        column: new UTSJSONObject({ type: Number, required: false }),\n        max: new UTSJSONObject({ type: Number, required: true, default: 0 }),\n        sizeLimit: new UTSJSONObject({ type: Number, required: false }),\n        uploadIcon: new UTSJSONObject({ type: String, required: true, default: 'camera' }),\n        uploadIconSize: new UTSJSONObject({ type: String, required: false }),\n        gridWidth: new UTSJSONObject({ type: String, required: false }),\n        gridHeight: new UTSJSONObject({ type: String, required: false }),\n        gridBgColor: new UTSJSONObject({ type: String, required: false }),\n        addBgColor: new UTSJSONObject({ type: String, required: false }),\n        gridBorderRadius: new UTSJSONObject({ type: String, required: false }),\n        defaultFiles: new UTSJSONObject({ type: Array, required: false }),\n        loadingText: new UTSJSONObject({ type: String, required: true, default: '上传中...' }),\n        reloadText: new UTSJSONObject({ type: String, required: true, default: '重新上传' }),\n        failedText: new UTSJSONObject({ type: String, required: true, default: '上传失败' }),\n        disablePreview: new UTSJSONObject({ type: Boolean, required: true, default: false }),\n        autoUpload: new UTSJSONObject({ type: Boolean, required: true, default: false }),\n        mediaType: new UTSJSONObject({ type: String, required: true, default: 'image' }),\n        maxDuration: new UTSJSONObject({ type: Number, required: false }),\n        sizeType: new UTSJSONObject({ type: Array, required: true, default: ['original', 'compressed'] }),\n        sourceType: new UTSJSONObject({ type: Array, required: true, default: ['album', 'camera'] }),\n        action: new UTSJSONObject({ type: String, required: false }),\n        headers: new UTSJSONObject({ type: null, required: false }),\n        formData: new UTSJSONObject({ type: null, required: false }),\n        mode: new UTSJSONObject({ type: String, required: true, default: 'grid' })\n    },\n    emits: ['fail', 'remove', 'success', 'click', 'add', 'update:modelValue'],\n    setup(__props, _a) {\n        /**\n         * Upload 文件上传组件\n         * @description 用于图片、视频等文件的上传，支持预览、删除、重传等功能\n         * <br>插件类型：LUploadComponentPublicInstance\n         * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-upload\n         *\n         * @property {string} name 表单字段名\n         * @property {UTSJSONObject[]} modelValue 已上传文件列表（支持v-model）\n         * @property {boolean} disabled 是否禁用（默认：false）\n         * @property {boolean} readonly 只读（默认：false）\n         * @property {boolean} multiple 是否支持多选（默认：false）\n         * @property {'scaleToFill'|'aspectFit'|'aspectFill'|'widthFix'|'heightFix'|'top'|'bottom'|'center'|'left'|'right'|'top left'|'top right'|'bottom left'|'bottom right'} imageFit 图片裁剪模式（默认：\"aspectFill\"）\n         * @value scaleToFill\n         * @value aspectFit\n         * @value aspectFill\n         * @value widthFix\n         * @value heightFix\n         * @value top\n         * @value bottom\n         * @value 'top left'\n         * @value 'top right'\n         * @value 'bottom left'\n         * @value \"bottom right\"\n         * @property {string} gutter 项目间距（支持CSS单位）\n         * @property {number} column 每行显示数量（默认：4）\n         * @property {number} max 最大上传数量（默认：9）\n         * @property {number} sizeLimit 文件大小限制（单位KB）\n         * @property {string} uploadIcon 上传按钮图标\n         * @property {string} uploadIconSize 上传按钮图标尺寸\n         * @property {string} gridWidth 项目宽度（支持CSS单位）\n         * @property {string} gridHeight 项目高度（支持CSS单位）\n         * @property {string} gridBgColor 项目背景色\n         * @property {string} addBgColor 添加按钮背景色\n         * @property {string} gridBorderRadius 项目圆角\n         * @property {UTSJSONObject[]} defaultFiles 默认文件列表\n         * @property {string} loadingText 上传中提示文字\n         * @property {string} reloadText 重传提示文字\n         * @property {string} failedText 失败提示文字\n         * @property {boolean} disablePreview 禁用预览（默认：false）\n         * @property {boolean} autoUpload 自动上传（默认：true）\n         * @property {'image' | 'video' | 'all' | 'media'} mediaType 上传文件类型（默认：\"image\"）\n         * @value image\n         * @value video\n         * @value media\n         * @value all\n         * @property {number} maxDuration 视频最大时长（秒）\n         * @property {string[]} sizeType 文件尺寸类型（默认：[\"original\", \"compressed\"]）\n         * @property {string[]} sourceType 文件来源（默认：[\"album\", \"camera\"]）\n         * @property {string} action 上传地址（uniCloud服务请设置为\"uniCloud\"）\n         * @property {UTSJSONObject} headers 请求头部\n         * @property {UTSJSONObject} formData 额外表单数据\n         * @property {string} mode 显示模式（默认：\"grid\"）\n         * @event {Function} add 点击增加时触发\n         * @event {Function} success 上传成功时触发\n         * @event {Function} fail 上传失败时触发\n         * @event {Function} remove 点击删除时触发\n         * @event {Function} click 点击时触发\n         */\n        var _b, _c, _d;\n        var __expose = _a.expose, __emit = _a.emit;\n        const formDisabled = inject('formDisabled', null);\n        const formReadonly = inject('formReadonly', null);\n        const emits = __emit;\n        const props = __props;\n        const isReadonly = computed(() => {\n            var _a;\n            uni.__log__('log', 'at uni_modules/lime-upload/components/l-upload/l-upload.uvue:150', 'isReadonly', props.readonly);\n            if (props.readonly)\n                return props.readonly;\n            return (_a = formReadonly === null || formReadonly === void 0 ? null : formReadonly.value) !== null && _a !== void 0 ? _a : false;\n        });\n        const isDisabled = computed(() => {\n            var _a;\n            if (props.disabled)\n                return props.disabled;\n            return (_a = formDisabled === null || formDisabled === void 0 ? null : formDisabled.value) !== null && _a !== void 0 ? _a : false;\n        });\n        const transformFiles = (it = null) => {\n            var _a, _b;\n            const file = UTSJSONObject.assign(new UTSJSONObject({}), it); //it as UTSJSONObject\n            return {\n                url: (_a = file.getString('url')) !== null && _a !== void 0 ? _a : '',\n                path: file.getString('path'),\n                name: file.getString('name'),\n                thumb: file.getString('thumb'),\n                size: file.getNumber('size'),\n                type: file.getString('type'),\n                percent: file.getNumber('percent'),\n                status: (_b = file.getString('status')) !== null && _b !== void 0 ? _b : 'done',\n            };\n        };\n        const customFiles = ref((_d = (_c = ((_b = props.modelValue) !== null && _b !== void 0 ? _b : props.defaultFiles)) === null || _c === void 0 ? null : _c.map(transformFiles)) !== null && _d !== void 0 ? _d : []);\n        const listWidth = ref(0);\n        const uploadRef = ref(null);\n        const styles = computed(() => {\n            var _a;\n            const style = new Map();\n            const gutter = unitConvert((_a = props.gutter) !== null && _a !== void 0 ? _a : 8) / 2 * -1;\n            style.set('margin-left', `${gutter}px`);\n            style.set('margin-right', `${gutter}px`);\n            style.set('margin-top', `${gutter}px`);\n            return style;\n        });\n        const itemStyle = computed(() => {\n            var _a, _b, _c;\n            const style = new Map();\n            // const gridWidth = unitConvert(props.gridWidth ?? 80)\n            const gutter = unitConvert((_a = props.gutter) !== null && _a !== void 0 ? _a : 8) / 2;\n            let column = (_b = props.column) !== null && _b !== void 0 ? _b : 4;\n            if (props.gridWidth != null || props.column != null) {\n                const width = listWidth.value / column - gutter * 2.0275; // ios 计算精度导致不均分\n                style.set('width', (_c = props.gridWidth) !== null && _c !== void 0 ? _c : `${width}px`);\n            }\n            if (props.gridHeight != null) {\n                style.set('height', props.gridHeight);\n            }\n            style.set('margin', `${gutter}px`);\n            if (props.gridBgColor != null) {\n                style.set('background', props.gridBgColor);\n            }\n            return style;\n        });\n        const onFileClick = (index) => {\n            const file = customFiles.value[index];\n            emits('click', new UTSJSONObject({ file }));\n        };\n        const onProofTap = (index) => {\n            onFileClick(index);\n            if (props.disablePreview)\n                return null;\n            uni.previewImage({\n                urls: customFiles.value.filter((file) => { return file.percent != -1; }).map((file) => { return file.url; }),\n                current: index\n            });\n        };\n        const onDelete = (index) => {\n            if (isDisabled.value || isReadonly.value)\n                return null;\n            const delFile = customFiles.value[index];\n            customFiles.value = customFiles.value.filter((file, i) => { return index != i; });\n            emits('remove', new UTSJSONObject({ index, file: delFile }));\n        };\n        let last; // = 0\n        const upload = (files) => {\n            if (!props.autoUpload || props.action == null || props.action.length < 5)\n                return null;\n            if (props.action == 'uniCloud') {\n                let uploadImgs = [];\n                files.forEach((file, index) => {\n                    // props.beforeRead(file).then((res)=>{})\n                    const promise = new Promise((resolve, reject) => {\n                        const dotIndex = file.name.lastIndexOf('.'); // 找到最后一个点的位置\n                        const baseName = file.name.substring(0, dotIndex);\n                        const extension = file.name.substring(dotIndex);\n                        const timestamp = Date.now();\n                        uniCloud.uploadFile({\n                            filePath: file.url,\n                            cloudPath: `${baseName}_${timestamp}${extension}`,\n                            // cloudPath: file.name!.substring(file.name!.lastIndexOf('.')),\n                            onUploadProgress: (res) => {\n                                file.status = 'loading';\n                                file.percent = Math.floor(res.loaded / res.total * 100);\n                            },\n                        }).then(res => {\n                            file.path = res.fileID;\n                            file.status = 'done';\n                            // 获取临时URL\n                            uniCloud.getTempFileURL({\n                                fileList: [res.fileID]\n                            }).then(result => {\n                                if (result.fileList.length > 0) {\n                                    file.url = result.fileList[0].tempFileURL;\n                                }\n                                resolve(res);\n                            }).catch((error = null) => {\n                                uni.__log__('error', 'at uni_modules/lime-upload/components/l-upload/l-upload.uvue:296', '获取临时URL失败', error);\n                                resolve(res);\n                            });\n                            // resolve(res)\n                        }).catch((err = null) => {\n                            file.status = 'failed';\n                            reject(err);\n                        });\n                    });\n                    uploadImgs.push(promise);\n                });\n                Promise.all(uploadImgs).then(res => {\n                    emits('success', res);\n                }).catch((err = null) => {\n                    emits('fail', err);\n                });\n            }\n            else {\n                let uploadImgs = [];\n                files.forEach((file, index) => {\n                    const promise = new Promise((resolve, reject) => {\n                        const task = uni.uploadFile({\n                            url: props.action,\n                            filePath: file.url,\n                            name: file.name,\n                            formData: props.formData,\n                            header: props.headers,\n                            success: (res) => {\n                                file.status = 'done';\n                                if (res.statusCode == 200) {\n                                    if (typeof res.data == 'string') {\n                                        try {\n                                            const data = UTS.JSON.parse(res.data, UTSJSONObject);\n                                            const url = data === null || data === void 0 ? null : data.getString('url');\n                                            if (url != null) {\n                                                file.path = url;\n                                            }\n                                        }\n                                        catch (e) {\n                                            //TODO handle the exception\n                                        }\n                                    }\n                                }\n                                resolve(res);\n                            },\n                            fail(err) {\n                                file.status = 'failed';\n                                reject(err);\n                            }\n                        });\n                        task.onProgressUpdate((res) => {\n                            file.status = 'loading';\n                            file.percent = res.progress;\n                        });\n                    });\n                    uploadImgs.push(promise);\n                });\n                Promise.all(uploadImgs).then(res => {\n                    emits('success', res);\n                }).catch((err = null) => {\n                    emits('fail', err);\n                });\n            }\n        };\n        const customLimit = computed(() => { return props.max == 0 ? 20 : props.max - customFiles.value.length; });\n        const onAddTap = () => {\n            if (isDisabled.value || isReadonly.value)\n                return null;\n            chooseFiles({\n                mediaType: props.mediaType,\n                count: customLimit.value,\n                sourceType: props.sourceType,\n                sizeType: props.sizeType,\n                sizeLimit: props.sizeLimit\n            }).then((files) => {\n                last = customFiles.value.length;\n                customFiles.value = customFiles.value.concat(files);\n                // @ts-ignore\n                const _files = customFiles.value.filter((it, i) => { return i > last - 1; });\n                upload(_files);\n                emits('add', _files);\n            });\n        };\n        const stop = watch(customFiles, (v) => {\n            emits('update:modelValue', v);\n        });\n        const stopValue = watch(() => { return props.modelValue; }, (v = null) => {\n            if (v != null && v.length != customFiles.value.length) {\n                customFiles.value = v.map(transformFiles);\n            }\n        });\n        __expose(new UTSJSONObject({\n            remove: onDelete\n        }));\n        const resizeObserver = new UniResizeObserver((entries) => {\n            listWidth.value = entries[0].target.getBoundingClientRect().width;\n        });\n        onMounted(() => {\n            nextTick(() => {\n                var _a, _b;\n                listWidth.value = (_b = (_a = uploadRef.value) === null || _a === void 0 ? null : _a.getBoundingClientRect().width) !== null && _b !== void 0 ? _b : 0;\n                resizeObserver.observe(uploadRef.value);\n            });\n        });\n        onUnmounted(() => {\n            stop();\n            resizeObserver.disconnect();\n        });\n        const __returned__ = { formDisabled, formReadonly, emits, props, isReadonly, isDisabled, transformFiles, customFiles, listWidth, uploadRef, styles, itemStyle, onFileClick, onProofTap, onDelete, get last() { return last; }, set last(v) { last = v; }, upload, customLimit, onAddTap, stop, stopValue, resizeObserver };\n        Object.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true });\n        return __returned__;\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-upload/components/l-upload/l-upload.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-shared/unitConvert/index.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-upload/components/l-upload/utils.ts","/Users/xyhc/Documents/veepai_uniappx/uni_modules/lime-upload/components/l-upload/type.ts"],"uniExtApis":["uni.__log__","uni.previewImage","uniCloud.uploadFile","uniCloud.getTempFileURL","uni.uploadFile"],"map":"{\"version\":3,\"file\":\"l-upload.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"l-upload.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
