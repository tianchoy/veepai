{"version":3,"sources":["uni_modules/lime-progress/components/l-progress/l-progress.uvue"],"sourcesContent":["<template>\n\t<view class=\"l-progress\" :class=\"classes\" ref=\"progressRef\">\n\n\n\n\n\n\n\n\n\n\t</view>\n</template>\n<script lang=\"uts\" setup>\n\t/**\n\t * Progress 进度条组件\n\t * @description 用于展示操作或任务的进度，支持线性进度显示和多种样式配置\n\t * <br>插件类型：LProgressComponentPublicInstance \n\t * @tutorial https://ext.dcloud.net.cn/plugin?name=lime-progress\n\t * \n\t * @property {boolean} showInfo 是否显示进度文本（默认：false）\n\t * @property {string} infoType 进度信息显示方式\n\t * @value outer 在进度条外部显示\n\t * @property {string} infoAlign 文本对齐方式（默认：end）\n\t * @value start\n\t * @value end\n\t * @property {string | string[]} strokeColor 进度条颜色（支持渐变色数组）\n\t * @property {string} trailColor 轨道背景色（默认：rgba(0, 0, 0, 0.06)）\n\t * @property {string} linecap 进度条端点形状（'round' | 'square'）\n\t * @value round \n\t * @value square \n\t * @property {string} infoColor 进度文本颜色\n\t * @property {string | number} fontSize 文本字号（支持CSS单位）\n\t * @property {string | number} strokeWidth 进度条粗细（支持CSS单位，默认：4px）\n\t */\n\timport { unitConvert } from '@/uni_modules/lime-shared/unitConvert'\n\timport { ProgressProps } from './types';\n\n\n\n\n\timport { useTransition, UseTransitionOptions } from '@/uni_modules/lime-shared/animation/useTransition'\n\timport { LProgressOptions } from './types';\n\timport { Progress } from './progress'\n\n\t\n\tconst props = withDefaults(defineProps<ProgressProps>(), {\n\t\t// percent: 0,\n\t\tshowInfo: false,\n\t\tinfoAlign: 'end',\n\t\tinfoType: 'outer',\n\n\t\tstrokeColor: '#1677ff',\n\t\tstrokeWidth: 4,\n\t\ttrailColor: 'rgba(0, 0, 0, 0.06)',\n\t\tlinecap: 'round',\n\t\tfontSize: 12,\n\t\tinfoColor: 'black',\n\n\t})\n\tconst percent = defineModel('percent', {type: Number, default: 0})\n\t\n\tconst classes = computed(():Map<string, boolean> => {\n\t\tconst _class = new Map<string, boolean>()\n\n\n\n\n\n\n\n\n\n\t\treturn _class\n\t})\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\tconst progressRef = ref<UniElement|null>(null);\n\tlet progress:Progress|null = null\n\tconst current = useTransition(():number=>percent.value, {\n\t\tduration: 300,\n\t\timmediate: true\n\t} as UseTransitionOptions)\n\tconst stopWatch = watch(current, (v:number) => {\n\t\tif(progress != null) {\n\t\t\tprogress!.render(v)\n\t\t}\n\t})\n\t\n\tonMounted(() => {\n\t\tnextTick(()=>{\n\t\t\tif(progressRef.value == null) return;\n\t\t\tprogress =  new Progress(progressRef.value!);\n\t\t\tconsole.log('props.strokeColor', props.strokeColor)\n\t\t\tconst opt: LProgressOptions = {\n\t\t\t\tshowInfo: props.showInfo,\n\t\t\t\tstrokeColor: props.strokeColor,\n\t\t\t\tstrokeWidth: unitConvert(props.strokeWidth),\n\t\t\t\ttrailColor: props.trailColor,\n\t\t\t\tlinecap: props.linecap,\n\t\t\t\tfontSize: unitConvert(props.fontSize),\n\t\t\t\tinfoAlign: props.infoAlign,\n\t\t\t\tinfoType: props.infoType,\n\t\t\t\tinfoColor: props.infoColor,\n\t\t\t}\n\t\t\tprogress!.setOption(opt)\n\t\t\tprogress!.render(current.value)\n\t\t})\n\t})\n\t\n\tonUnmounted(() => {\n\t\tstopWatch()\n\t\tprogress?.disconnect()\n\t})\n\n</script>\n<style lang=\"scss\">\n\t@import './index';\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA8CC,IAAM,QAAQ;YAcd,IAAM,UAAU,SAAA,QAAA,MAAA,KAAA,EAAA;YAEhB,IAAM,UAAU,SAAS,OAAG,IAAI,MAAM,EAAE,OAAO,EAAI;gBAClD,IAAM,SAAS,AAAI,IAAI,MAAM,EAAE,OAAO;gBAUtC,OAAO;YACR;;YAuFA,IAAM,cAAc,IAAI,aAAiB,IAAI;YAC7C,IAAI,sBAAyB,IAAI;YACjC,IAAM,UAAU,cAAc,OAAG,MAAM;uBAAE,QAAQ,KAAK;;mCACrD,WAAU,GAAG,EACb,YAAW,IAAI;YAEhB,IAAM,YAAY,MAAM,SAAS,IAAC,GAAE,MAAM,CAAI;gBAC7C,IAAG,YAAY,IAAI,EAAE;oBACpB,WAAU,MAAM,CAAC;;YAEnB;;YAEA,UAAU,KAAK;gBACd,SAAS,KAAI;oBACZ,IAAG,YAAY,KAAK,IAAI,IAAI;wBAAE;;oBAC9B,WAAY,SAAa,YAAY,KAAK;oBAC1C,QAAQ,GAAG,CAAC,qBAAqB,MAAM,WAAU,EAAA;oBACjD,IAAM,uBACL,WAAU,MAAM,QAAQ,EACxB,cAAa,MAAM,WAAW,EAC9B,cAAa,YAAY,MAAM,WAAW,GAC1C,aAAY,MAAM,UAAU,EAC5B,UAAS,MAAM,OAAO,EACtB,WAAU,YAAY,MAAM,QAAQ,GACpC,YAAW,MAAM,SAAS,EAC1B,WAAU,MAAM,QAAQ,EACxB,YAAW,MAAM,SAAS;oBAE3B,WAAU,SAAS,CAAC;oBACpB,WAAU,MAAM,CAAC,QAAQ,KAAK;gBAC/B;;YACD;;YAEA,YAAY,KAAK;gBAChB;gBACA,UAAU;YACX;;;uBApMA,IAUO,QAAA,IAVD,WAAK,IAAA;oBAAC;oBAAqB,MAAA;iBAAO,gBAAM,eAAJ,SAAI"}