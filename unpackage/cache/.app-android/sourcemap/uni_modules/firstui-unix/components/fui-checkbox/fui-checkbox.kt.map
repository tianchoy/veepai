{"version":3,"sources":["uni_modules/firstui-unix/components/fui-checkbox/fui-checkbox.uvue"],"sourcesContent":["<template>\r\n\t<view class=\"fui-checkbox__input\"\r\n\t\t:class=\"[scaleRatio!=1?`fui-checkbox__scale-${scaleAlign}`:'' ,disabled?'fui-checkbox__disabled':'',color=='' && styleVal && !isCheckMark?'fui-checkbox__color':'',normalColor=='' && !styleVal && !isCheckMark?'fui-checkbox__background':'',borderColor=='' && !styleVal && !isCheckMark?'fui-checkbox__normal-border':'']\"\r\n\t\t:style=\"getStyl\" @tap.stop=\"checkboxClick\">\r\n\t\t<view class=\"fui-check__mark\" :class=\"{'fui-checkbox__mark-color':checkMarkColor==''}\" :style=\"getMarkStyl\"\r\n\t\t\tv-if=\"val\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { ComponentPublicInstance } from 'vue'\r\n\timport { FuiCheckboxChangeParam } from '../fui-types/index.uts';\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} value\t{String} value值，当选中时会携带该值\r\n\t * @property {Boolean} checked {Boolean} 是否选中\r\n\t * @property {Boolean} disabled {Boolean} 是否禁用\r\n\t * @property {String} color\t{String} 选中时背景颜色\r\n\t * @property {String} normalColor {String} 未选中时背景颜色\r\n\t * @property {String} borderColor {String} 未选中时边框颜色\r\n\t * @property {String} borderRadius {String} 圆角值\r\n\t * @property {Boolean} isCheckMark {Boolean} 是否只展示对号，无边框背景\r\n\t * @property {String} checkMarkColor {String} 对号颜色\r\n\t * @property {Number} scaleRatio {Number} 缩放比例，当比例大于1时，外层容器需要设置 overflow: visible或者留出足够空间，避免显示不全\r\n\t * @property {String} scaleAlign {String} 缩放后对齐方式,可选值：left、center、right\r\n\t * @event {Function} change 选中状态发生改变时触发，(event: FuiCheckboxChangeParam) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox\",\r\n\t\temits: ['change'],\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tchecked: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tnormalColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '100px'\r\n\t\t\t},\r\n\t\t\tisCheckMark: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcheckMarkColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tscaleRatio: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tscaleAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'center'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.val = this.checked;\r\n\t\t\tthis.getParent('fui-checkbox-group')\r\n\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t(group.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t\tconst modelValue = group.$props['modelValue'] as string[];\r\n\t\t\t\tif (modelValue.length > 0) {\r\n\t\t\t\t\tthis.val = modelValue.includes(this.value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst parent = this.getParent('fui-label')\r\n\t\t\tif (parent) {\r\n\t\t\t\tconst label = this.fuiLabel as ComponentPublicInstance\r\n\t\t\t\t(label.$data['childrens'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tmp.set('transform', `scale(${this.scaleRatio})`);\r\n\t\t\t\tmp.set('border-radius', this.borderRadius);\r\n\t\t\t\tlet color = this.val ? this.color : (this.borderColor == '' ? this.color : this.borderColor);\r\n\t\t\t\tconst bgColor = this.val ? this.color : this.normalColor;\r\n\t\t\t\tif (this.isCheckMark) {\r\n\t\t\t\t\tmp.set('border-color', 'transparent')\r\n\t\t\t\t\tmp.set('background', 'transparent')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (color != '') mp.set('border-color', color)\r\n\t\t\t\t\tif (bgColor != '') mp.set('background', bgColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t},\r\n\t\t\tgetMarkStyl() : object {\r\n\t\t\t\tconst mp : Map<string, string> = new Map();\r\n\t\t\t\tif (this.checkMarkColor != '') {\r\n\t\t\t\t\tmp.set('borderBottomColor', this.checkMarkColor)\r\n\t\t\t\t\tmp.set('borderRightColor', this.checkMarkColor)\r\n\t\t\t\t}\r\n\t\t\t\treturn mp;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchecked(newVal) {\r\n\t\t\t\tthis.val = newVal;\r\n\t\t\t},\r\n\t\t\tval() {\r\n\t\t\t\tif (this.fuiCkGroup != null) {\r\n\t\t\t\t\tconst group = this.fuiCkGroup as ComponentPublicInstance;\r\n\t\t\t\t\tgroup.$callMethod('changeValue');\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.styleVal = this.val;\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tval: false,\r\n\t\t\t\tstyleVal: false,\r\n\t\t\t\tfuiLabel: null as null | ComponentPublicInstance,\r\n\t\t\t\tfuiCkGroup: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxClick(e : UniPointerEvent) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tthis.checkboxChange();\r\n\t\t\t},\r\n\t\t\tcheckboxChange() {\r\n\t\t\t\tif (this.disabled) return;\r\n\t\t\t\tthis.val = !this.val;\r\n\t\t\t\tthis.$emit('change', {\r\n\t\t\t\t\tchecked: this.val,\r\n\t\t\t\t\tvalue: this.value\r\n\t\t\t\t} as FuiCheckboxChangeParam)\r\n\t\t\t},\r\n\t\t\t//测试支持，如果不支持则使用 provide/inject方式（可能有警告，设置default:null也无法去除，应该是底层有bug）\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tif (name == 'fui-checkbox-group') {\r\n\t\t\t\t\tthis.fuiCkGroup = parent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fuiLabel = parent;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tlabelClick() {\r\n\t\t\t\tthis.checkboxChange()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t$fui-color-primary: #465CFF !default;\r\n\t$fui-checkbox-border-color: #CCCCCC !default;\r\n\t$fui-checkbox-background: #fff !default;\r\n\t$fui-checkbox-mark-color: #fff !default;\r\n\r\n\t.fui-checkbox__input {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 100px;\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-left {\r\n\t\ttransform-origin: 0 center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-center {\r\n\t\ttransform-origin: center center;\r\n\t}\r\n\r\n\t.fui-checkbox__scale-right {\r\n\t\ttransform-origin: 100% center;\r\n\t}\r\n\r\n\t.fui-checkbox__color {\r\n\t\tbackground: $fui-color-primary !important;\r\n\t\tborder-color: $fui-color-primary !important;\r\n\t}\r\n\r\n\t.fui-checkbox__normal-border {\r\n\t\tborder-color: $fui-checkbox-border-color !important;\r\n\t}\r\n\r\n\t.fui-checkbox__background {\r\n\t\tbackground: $fui-checkbox-background !important;\r\n\t}\r\n\r\n\t.fui-checkbox__mark-color {\r\n\t\tborder-bottom-color: $fui-checkbox-mark-color !important;\r\n\t\tborder-right-color: $fui-checkbox-mark-color !important;\r\n\t}\r\n\r\n\t.fui-check__mark {\r\n\t\twidth: 20rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-width: 3px;\r\n\t\tborder-bottom-color: #FFFFFF;\r\n\t\tborder-right-style: solid;\r\n\t\tborder-right-width: 3px;\r\n\t\tborder-right-color: #FFFFFF;\r\n\t\tbox-sizing: border-box;\r\n\t\ttransform: rotate(45deg) scale(0.5);\r\n\t\ttransform-origin: 54% 48%;\r\n\t}\r\n\r\n\t.fui-checkbox__disabled {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>"],"names":[],"mappings":"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"}