{"version":3,"sources":["uni_modules/firstui-unix/components/fui-checkbox-group/fui-checkbox-group.uvue"],"sourcesContent":["<template>\r\n\t<checkbox-group :name=\"name\">\r\n\t\t<slot></slot>\r\n\t</checkbox-group>\r\n</template>\r\n\r\n<script>\r\n\timport { type PropType, ComponentPublicInstance } from 'vue'\r\n\t/**\r\n\t * Checkbox 复选框\r\n\t * @description Checkbox 多项选择器，需结合fui-checkbox-group和fui-checkbox组件一起使用。\r\n\t * @tutorial https://unix.firstui.cn/\r\n\t * @property {String} name {String}\t多项选择器名称\t\r\n\t * @property {Array} modelValue { string[] } 选中的value值集合，用于双向绑定\r\n\t * @event {Function} change 选中项发生变化时触发，(event: string[]) => void\r\n\t * @event {Function} update:modelValue 用于组件双向绑定，(event: string[]) => void\r\n\t */\r\n\texport default {\r\n\t\tname: \"fui-checkbox-group\",\r\n\t\temits: ['change', 'update:modelValue'],\r\n\t\tprops: {\r\n\t\t\tname: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Array as PropType<string[]>,\r\n\t\t\t\tdefault: () : string[] => [] as string[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvals: [] as string[],\r\n\t\t\t\tchildrens: [] as ComponentPublicInstance[],\r\n\t\t\t\tfuiForm: null as null | ComponentPublicInstance\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmodelValue(vals : string[]) {\r\n\t\t\t\tthis.modelChange(vals)\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//用于submit、reset事件\r\n\t\t\tconst isForm = this.getParent('fui-form');\r\n\t\t\tif (isForm) {\r\n\t\t\t\tconst form = this.fuiForm as ComponentPublicInstance\r\n\t\t\t\t(form.$data['formChildren'] as ComponentPublicInstance[]).push(this as ComponentPublicInstance);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChange(e : string[]) {\r\n\t\t\t\tthis.$emit('change', e)\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t},\r\n\t\t\tchangeValue() {\r\n\t\t\t\tconst vals = [] as string[];\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst isChk = item.$data['val'] as boolean;\r\n\t\t\t\t\tif (isChk) {\r\n\t\t\t\t\t\tvals.push(item.$props['value'] as string);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.checkboxChange(vals)\r\n\t\t\t},\r\n\t\t\tmodelChange(vals : string[]) {\r\n\t\t\t\tthis.vals = vals;\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\tconst value = item.$props['value'] as string;\r\n\t\t\t\t\tif (vals.includes(value)) {\r\n\t\t\t\t\t\titem.$data['val'] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.$data['val'] = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetParent(name : string) : boolean {\r\n\t\t\t\tif (this.$parent == null) return false;\r\n\t\t\t\tlet parent = this.$parent as ComponentPublicInstance;\r\n\t\t\t\tlet parentName = parent.$options['name'];\r\n\t\t\t\twhile (parentName != name) {\r\n\t\t\t\t\tif (parent.$parent == null) return false;\r\n\t\t\t\t\tparent = parent.$parent as ComponentPublicInstance;\r\n\t\t\t\t\tif (parent.$options['name'] == '') return false;\r\n\t\t\t\t\tparentName = parent.$options['name'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.fuiForm = parent;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t//暂时做重置处理（还原需记录初始值）\r\n\t\t\treset() {\r\n\t\t\t\tthis.childrens.forEach((item : ComponentPublicInstance) => {\r\n\t\t\t\t\titem.$data['val'] = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.vals = [] as string[];\r\n\t\t\t\tthis.checkboxChange(this.vals)\r\n\t\t\t},\r\n\t\t\tgetSubmitValue() : string[] {\r\n\t\t\t\treturn this.vals;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped></style>"],"names":[],"mappings":";;;;;;;;;;;;;AAiBM;;kBAyBJ,MAAO;YAEN,IAAM,SAAS,IAAI,CAAC,SAAS,CAAC;YAC9B,IAAI,QAAQ;gBACX,IAAM,OAAO,IAAI,CAAC,OAAM,CAAA,EAAA,CAAK;gBAC7B,CAAC,KAAK,OAAK,CAAC,eAAc,CAAA,EAAA,UAAK,wBAAyB,EAAE,IAAI,CAAC,IAAG,CAAA,EAAA,CAAK;;QAEzE;;;;;UAXC,IAAW,eAAO,MAAM,CAAE,EAAA;YACzB,IAAI,CAAC,WAAW,CAAC;QAClB;;;;;;;;eAvCF,IAEiB,2BAAA,IAFA,UAAM,KAAA,IAAI,GAAA,6BAC1B,gBAAa,GAAA;mBAAA;gBAAb,WAAa,KAAA,QAAA,EAAA;;;;;;;;kCAwBa,MAAM;aAM9B,eAAY,MAAM;aAClB,oBAAiB;aACjB,SAAwB;;;mBAFxB,UAAM,IAAM,MAAM,KAClB,eAAW,IAAM,4BACjB,aAAS,IAAG,CAAA,EAAA,CAAY;;aAiBzB;aAAA,sBAAe,YAAI,MAAM,CAAE,EAAA;QAC1B,IAAI,CAAC,OAAK,CAAC,UAAU;QACrB,IAAI,CAAC,OAAK,CAAC,qBAAqB;IACjC;aACA;aAAA,qBAAW;QACV,IAAM,OAAO,IAAM,MAAM;QACzB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAC,MAAO,wBAA0B;YACxD,IAAM,QAAQ,KAAK,OAAK,CAAC,MAAK,CAAA,EAAA,CAAK,OAAO;YAC1C,IAAI,OAAO;gBACV,KAAK,IAAI,CAAC,KAAK,QAAM,CAAC,QAAO,CAAA,EAAA,CAAK,MAAM;;QAE1C;;QACA,IAAI,CAAC,IAAG,GAAI;QACZ,IAAI,CAAC,cAAc,CAAC;IACrB;aACA;aAAA,mBAAY,eAAO,MAAM,CAAE,EAAA;QAC1B,IAAI,CAAC,IAAG,GAAI;QACZ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAC,MAAO,wBAA0B;YACxD,IAAM,QAAQ,KAAK,QAAM,CAAC,QAAO,CAAA,EAAA,CAAK,MAAM;YAC5C,IAAI,KAAK,QAAQ,CAAC,QAAQ;gBACzB,KAAK,OAAK,CAAC,MAAK,GAAI,IAAI;mBAClB;gBACN,KAAK,OAAK,CAAC,MAAK,GAAI,KAAI;;QAE1B;;IACD;aACA;aAAA,iBAAU,MAAO,MAAM,GAAI,OAAM,CAAA;QAChC,IAAI,IAAI,CAAC,SAAM,IAAK,IAAI;YAAE,OAAO,KAAK;;QACtC,IAAI,SAAS,IAAI,CAAC,SAAM,CAAA,EAAA,CAAK;QAC7B,IAAI,aAAa,OAAO,UAAQ,CAAC,OAAO;QACxC,MAAO,cAAc,KAAM;YAC1B,IAAI,OAAO,SAAM,IAAK,IAAI;gBAAE,OAAO,KAAK;;YACxC,SAAS,OAAO,SAAM,CAAA,EAAA,CAAK;YAC3B,IAAI,OAAO,UAAQ,CAAC,OAAM,IAAK;gBAAI,OAAO,KAAK;;YAC/C,aAAa,OAAO,UAAQ,CAAC,OAAO;;QAErC,IAAI,CAAC,OAAM,GAAI;QACf,OAAO,IAAI;IACZ;aAEA;aAAA,eAAK;QACJ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAC,MAAO,wBAA0B;YACxD,KAAK,OAAK,CAAC,MAAK,GAAI,KAAK;QAC1B;;QACA,IAAI,CAAC,IAAG,GAAI,IAAM,MAAM;QACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI;IAC9B;aACA;aAAA,kCAAmB,MAAM,EAAC;QACzB,OAAO,IAAI,CAAC,IAAI;IACjB;;mBAlFK;;;;;;;2EAKK,yDAIA,gBAAK,MAAM;mBAAM,IAAM,MAAM;;;;;;;;;AA2EzC"}