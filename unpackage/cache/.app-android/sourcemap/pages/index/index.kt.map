{"version":3,"sources":["pages/index/index.uvue","App.uvue"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<TopNavBar title=\"首页\" rightText=\"plussign\" @rightEvent=\"addNewDevice\" />\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"video-container\" style=\"border-radius: 15rpx; overflow: hidden;\">\r\n\t\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoSrc\" :controls=\"onLine\" :show-play-btn=\"onLine\"\r\n\t\t\t\t:show-center-play-btn=\"onLine\" :enable-progress-gesture=\"onLine\" :show-fullscreen-btn=\"onLine\"\r\n\t\t\t\t:show-mute-btn=\"onLine\" >\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"device-title\" v-if=\"onLine\">{{deviceTitle}}</view>\r\n\t\t\t\t\t<view class=\"video-right-control\" v-if=\"onLine\">\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"forward\" @click=\"toDeviceDetail\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"errIcon\" @click=\"errClick\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"transfer\" @click=\"transferClick\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t\t\t<image class=\"vedio-control-icon\" :src=\"replayIcon\" @click=\"replay\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"offline\" v-else>\r\n\t\t\t\t\t\t<view class=\"offline-content\">\r\n\t\t\t\t\t\t\t<l-icon name=\"link-unlink\" color=\"#fff\"></l-icon>\r\n\t\t\t\t\t\t\t<text class=\"offline-title\">设备断线了</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"time\">2025-07-21 14:33</text>\r\n\t\t\t\t\t\t<fui-button color=\"#1296db\" text=\"查看帮助\" radius=\"50rpx\" :size=\"22\" background=\"#fff\" width=\"120rpx\" height=\"40rpx\"></fui-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</video>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- <view class=\"video-bottom-control\">\r\n\t\t\t\t<view class=\"vedio-control\">\r\n\t\t\t\t\t<image class=\"vedio-control-icon\" @click=\"pauseClick\" :src=\"pauseIcon\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\n\timport { ref } from 'vue'\r\n\timport TopNavBar from '@/components/TopNavBar.uvue'\r\n\r\n\tconst deviceTitle = ref('设备名称')\r\n\tconst videoContext = ref<VideoContext | null>(null)\r\n\tconst forward = '/static/video/forward.png'\r\n\tconst errIcon = '/static/video/error.png'\r\n\tconst transfer = '/static/video/transfer.png'\r\n\tconst replayIcon = '/static/video/replay.png'\r\n\tconst playIcon = '/static/video/play.png'\r\n\tconst pauseIcon = '/static/video/pause.png'\r\n\tconst addIcon = '/static/tabbar/add.png'\r\n\tconst videoSrc = \"https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4\"\r\n\tconst onLine = ref<boolean>(true)\r\n\r\n\tconst initVideoContext = () => {\r\n\t\ttry {\r\n\t\t\tvideoContext.value = uni.createVideoContext('myVideo');\r\n\t\t\tconsole.log('视频上下文初始化成功', videoContext.value);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('创建视频上下文失败:', error);\r\n\t\t}\r\n\t}\r\n\tconst replay = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/deviceReplay'\r\n\t\t})\r\n\t}\r\n\r\n\tconst transferClick = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/mine/rechargeDataTraffic/rechargeDataTraffic'\r\n\t\t})\r\n\t}\r\n\r\n\tconst errClick = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl:'/pages/message/message'\r\n\t\t})\r\n\t}\r\n\r\n\tconst toDeviceDetail = () => {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '设备详情',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/index/deviceDetail'\r\n\t\t})\r\n\t}\r\n\r\n\tconst pauseClick = () => {\r\n\r\n\r\n\r\n\t\tvideoContext.value!!.pause();\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '暂停',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst addNewDevice = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/index/addNewDevice/addNewDevice'\r\n\t\t})\r\n\t}\r\n\r\n\t// 组件生命周期\r\n\tonMounted(() => {\r\n\t\tinitVideoContext();\r\n\t});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.content {\r\n\t\t\tposition: relative;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400rpx;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.video-container {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.video {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tmargin-bottom: 0; \r\n\t\t\t\t.device-title{\r\n\t\t\t\t\tbackground:rgba(0, 0, 0, .3);\r\n\t\t\t\t\tpadding:10rpx;\r\n\r\n\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t.video-right-control {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tright: 10rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\theight: 90%;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tz-index: 2;\r\n\t\t\t\t\t.vedio-control {\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\t\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.offline{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: rgba(255,255,255, .7);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t.offline-title{\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.time{\r\n\t\t\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.offline-content{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.video-top-title {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\tpadding: 15rpx 0 0 20rpx;\r\n\t\t\t\tbackground: linear-gradient(to right,\r\n\t\t\t\t\t\trgba(255, 255, 255, 0.5),\r\n\t\t\t\t\t\trgba(255, 255, 255, 0));\r\n\t\t\t\tz-index: 3; // 确保标题显示在视频上方\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\t.video-bottom-control {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 10rpx;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tz-index: 1;\r\n\r\n\t\t\t\t.vedio-control {\r\n\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\tborder-radius: 25rpx;\r\n\t\t\t\t\tbackground: rgba(255, 255, 255, .7);\r\n\r\n\t\t\t\t\t.vedio-control-icon {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>",null],"names":[],"mappings":";;;;;;;;;;;;;+BAgE4B;+BAOtB;+BAjBC;+BA6BD;;;;;;;;;YAjCL,IAAM,cAAc,IAAI;YACxB,IAAM,eAAe,IAAI,eAAqB,IAAI;YAClD,IAAM,UAAU;YAChB,IAAM,UAAU;YAChB,IAAM,WAAW;YACjB,IAAM,aAAa;YAInB,IAAM,WAAW;YACjB,IAAM,SAAS,IAAI,OAAO,EAAE,IAAI;YAEhC,IAAM,mBAAmB,KAAK;gBAC7B,IAAI;oBACH,aAAa,KAAK,GAAG,uBAAuB;oBAC5C,QAAQ,GAAG,CAAC,cAAc,aAAa,KAAI,EAAA;;iBAC1C,OAAO,kBAAO;oBACf,QAAQ,KAAK,CAAC,cAAc,OAAI;;YAElC;YACA,IAAM,SAAS,KAAK;gBACnB,iCACC,MAAI;YAEN;YAEA,IAAM,gBAAgB,KAAK;gBAC1B,iCACC,MAAI;YAEN;YAEA,IAAM,WAAW,KAAK;gBACrB,+BACC,MAAI;YAEN;YAEA,IAAM,iBAAiB,KAAK;gBAC3B,+BACC,QAAO,QACP,OAAM;gBAEP,iCACC,MAAK;YAEP;YAaA,IAAM,eAAe,KAAK;gBACzB,iCACC,MAAI;YAEN;YAGA,UAAU,KAAK;gBACd;YACD;;;;;uBArHA,IA0CO,QAAA,IA1CD,WAAM,cAAW;oBACtB,IAAwE,oCAAA,IAA7D,WAAM,MAAK,eAAU,YAAY,kBAAY;oBACxD,IAsCO,QAAA,IAtCD,WAAM,YAAS;wBACpB,IA8BO,QAAA,IA9BD,WAAM,mBAAkB,WAA+C,IAA/C,IAAA,mBAAA,SAAA,cAAA;4BAC7B,IA4BQ,SAAA,IA5BD,WAAM,SAAQ,QAAG,WAAW,SAAK,UAAW,cAAU,OAAA,KAAM,EAAG,mBAAe,OAAA,KAAM,EAC1F,0BAAsB,OAAA,KAAM,EAAG,6BAAyB,OAAA,KAAM,EAAG,yBAAqB,OAAA,KAAM,EAC5F,mBAAe,OAAA,KAAM;2CAEY,OAAA,KAAM;oCAAvC,IAA+D,QAAA,gBAAzD,WAAM,qBAA+B,YAAA,KAAW,GAAA,CAAA;;;;;2CACd,OAAA,KAAM;oCAA9C,IAaO,QAAA,gBAbD,WAAM;wCACX,IAEO,QAAA,IAFD,WAAM,kBAAe;4CAC1B,IAAiF,SAAA,IAA1E,WAAM,sBAAsB,SAAK,SAAU,aAAO;;wCAE1D,IAEO,QAAA,IAFD,WAAM,kBAAe;4CAC1B,IAA2E,SAAA,IAApE,WAAM,sBAAsB,SAAK,SAAU,aAAO;;wCAE1D,IAEO,QAAA,IAFD,WAAM,kBAAe;4CAC1B,IAAiF,SAAA,IAA1E,WAAM,sBAAsB,SAAK,UAAW,aAAO;;wCAE3D,IAEO,QAAA,IAFD,WAAM,kBAAe;4CAC1B,IAA4E,SAAA,IAArE,WAAM,sBAAsB,SAAK,YAAa,aAAO;;;;oCAI9D,IAOO,QAAA,gBAPD,WAAM;wCACX,IAGO,QAAA,IAHD,WAAM,oBAAiB;4CAC5B,IAAiD,mBAAA,IAAzC,UAAK,eAAc,WAAM;4CACjC,IAAwC,QAAA,IAAlC,WAAM,kBAAgB;;wCAE7B,IAA0C,QAAA,IAApC,WAAM,SAAO;wCACnB,IAA+H,uBAAA,IAAnH,WAAM,WAAU,UAAK,QAAO,YAAO,SAAS,UAAM,EAAE,EAAE,gBAAW,QAAO,WAAM,UAAS,YAAO"}