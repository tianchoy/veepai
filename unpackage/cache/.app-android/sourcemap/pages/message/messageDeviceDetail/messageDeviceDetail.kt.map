{"version":3,"sources":["pages/message/messageDeviceDetail/messageDeviceDetail.uvue","pages/index/index.uvue"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"vedio-box\">\r\n\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoSrc\" ref=\"videoRef\" :controls=\"true\" :show-play-btn=\"true\"\r\n\t\t\t\t:show-center-play-btn=\"true\" :enable-progress-gesture=\"true\" :show-fullscreen-btn=\"true\"\r\n\t\t\t\t:show-mute-btn=\"true\" :title=\"testTitle\"></video>\r\n\t\t\t\t<view></view>\r\n\t\t</view>\r\n\t\t<button @click=\"playVideo\">播放视频</button>\r\n\t\t<button @click=\"pasueVideo\">暂停视频</button>\r\n\t\t<view class=\"content-box\">\r\n\t\t\t<view class=\"sub-nav\">\r\n\t\t\t\t<view class=\"today\" @click=\"ShowCalendar\">\r\n\t\t\t\t\t<text>{{today}}</text>\r\n\t\t\t\t\t<image class=\"down\" src=\"/static/down.png\" />\r\n\t\t\t\t\t<text> | </text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"select\">\r\n\t\t\t\t\t<text v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"select-item\"\r\n\t\t\t\t\t\t:class=\"{ active: activeTab === index }\" @click=\"changeTab(index)\">\r\n\t\t\t\t\t\t{{ tab.label }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-content\">\r\n\t\t\t\t<view v-for=\"(event, index) in getFilteredEvents()\" :key=\"index\" class=\"tab-pane\"  @click=\"msgDetail(event)\">\r\n\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t<image class=\"item-icon\" mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t:src=\"event.type === 'human' ? '/static/people.png' : '/static/mobile.png'\" />\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<text>{{ event.type === 'human' ? '人形侦测' : '移动侦测' }}</text>\r\n\t\t\t\t\t\t\t<text>{{ event.time }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image class=\"item-img\" mode=\"aspectFit\" src=\"/static/vedio.png\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<fui-bottom-popup :visible=\"showCalendar\" @close=\"hideCalendar\">\r\n\t\t\t<view class=\"calendar-box\">\r\n\t\t\t\t<l-daily-punch :signedDates=\"checkIns\" @select=\"select\" @panelChange=\"change\"\r\n\t\t\t\t\t:dayHeight=\"60\"></l-daily-punch>\r\n\t\t\t\t<button class=\"btn-chanel-box\" @click=\"hideCalendar\">\r\n\t\t\t\t\t取消\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\timport { ref, onMounted, computed } from 'vue'\r\n\timport { dayuts } from '@/uni_modules/lime-dayuts';\r\n\timport { LDay, LYearMonth } from '@/uni_modules/lime-daily-punch'\r\n\tconst checkIns = ref(['2025-06-09', '2025-07-01', '2025-07-02'])\r\n\tconst today = ref(dayuts().format('MM-DD'))\r\n\tconst showCalendar = ref<boolean>(false)\r\n\tconst videoSrc = \"https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4\"\r\n\tconst activeTab = ref(0)\r\n\tconst testTitle = ref('测试标题')\r\n\r\n\tconst videoRef = ref(null);\r\n\r\n\tconst playVideo = () => {\r\n\r\n\r\n\r\n\t\tuni.createVideoContext('myVideo')!!.play();\r\n\t};\r\n\t\r\n\tconst pasueVideo = () =>{\r\n\r\n\r\n\r\n\t\tuni.createVideoContext('myVideo')!!.pause();\r\n\t}\r\n\r\n\t//构造函数的方式来定义event时间类型\r\n\tclass SecurityEvent {\r\n\t\tid : number;\r\n\t\ttype : string;\r\n\t\ttime : string;\r\n\t\tlocation : string;\r\n\r\n\t\tconstructor(id : number, type : string, time : string, location : string) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.location = location;\r\n\t\t}\r\n\t}\r\n\r\n\t//定义tab标签的类型\r\n\tclass Tab {\r\n\t\tlabel : string;\r\n\t\ttype : string;\r\n\r\n\t\tconstructor(label : string, type : string) {\r\n\t\t\tthis.label = label;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = ref<Tab[]>([\r\n\t\t{ label: '全部类型', type: 'all' },\r\n\t\t{ label: '人形侦测', type: 'human' },\r\n\t\t{ label: '移动侦测', type: 'motion' }\r\n\t])\r\n\r\n\tconst events = ref<SecurityEvent[]>([\r\n\t\tnew SecurityEvent(1, 'human', '15:29', '前门走廊'),\r\n\t\tnew SecurityEvent(2, 'motion', '14:45', '车库入口'),\r\n\t\tnew SecurityEvent(3, 'human', '13:20', '后花园'),\r\n\t\tnew SecurityEvent(4, 'motion', '11:05', '侧门通道')\r\n\t])\r\n\r\n\t//执行筛选数据的方法\r\n\tconst getFilteredEvents = () : SecurityEvent[] => {\r\n\t\tif (activeTab.value == 0) return [...events.value];\r\n\t\tconst selectedType = tabs.value[activeTab.value].type;\r\n\t\treturn events.value.filter(event => event.type === selectedType);\r\n\t}\r\n\r\n\t//切换tab\r\n\tconst changeTab = (index : number) => {\r\n\t\tactiveTab.value = index\r\n\t}\r\n\r\n\t//选择日期\r\n\tconst select = (day : LDay) => {\r\n\t\ttoday.value = dayuts(day.fullDate).format('MM-DD')\r\n\t\tconsole.log(today.value)\r\n\t\tif (day.isToday) {\r\n\t\t\tconsole.log('今天')\r\n\t\t}\r\n\t\tshowCalendar.value = false\r\n\t}\r\n\t\r\n\tconst msgDetail = (e:SecurityEvent) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/message/messageDetail/messageDetail?id=' + e.id\r\n\t\t})\r\n\t}\r\n\r\n\tconst change = (res : LYearMonth) => {\r\n\t\tconsole.log('res', res)\r\n\t}\r\n\r\n\tconst ShowCalendar = () => {\r\n\t\tshowCalendar.value = !showCalendar.value\r\n\t}\r\n\r\n\tconst hideCalendar = () => {\r\n\t\tshowCalendar.value = false\r\n\t}\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #f3f3f3;\r\n\r\n\t\t.vedio-box {\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.video {\r\n\t\t\t\t@extend .vedio-box\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content-box {\r\n\t\t\tpadding: 30rpx 20rpx;\r\n\r\n\t\t\t.sub-nav {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.today {\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t@extend .sub-nav;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.down {\r\n\t\t\t\t\t\twidth: 25rpx;\r\n\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.select {\r\n\t\t\t\t\t@extend .sub-nav;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\r\n\t\t\t\t\t.select-item {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\t\t\t\tborder-radius: 5rpx;\r\n\t\t\t\t\t\tmargin: 0 5rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.active {\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: #1296db;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tab-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t.tab-pane {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t\t.item-content {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.item-icon {\r\n\t\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.info {\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item-img {\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\theight: 60rpx\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t\t\t.calendar-box {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.btn-chanel-box {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 85%;\r\n\t\t\t\tbottom: 45rpx;\r\n\t\t\t\tleft: 60rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.popup-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.fui-scroll__wrap {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.fui-sub__title {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #7F7F7F;\r\n\t\t\ttransform: scale(.9);\r\n\t\t}\r\n\r\n\t\t.fui-scroll__view {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50%;\r\n\t\t}\r\n\r\n\t\t.fui-list__cell {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t}\r\n</style>",null],"names":[],"mappings":"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"}